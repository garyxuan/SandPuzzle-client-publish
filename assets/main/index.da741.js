System.register("chunks:///main.js",["./rollupPluginModLoBabelHelpers-4fdab7d4.js","cc"],(function(exports,module){var _createClass,_construct,_inheritsLoose,_createForOfIteratorHelperLoose,_applyDecoratedDescriptor,_initializerDefineProperty,_assertThisInitialized,_asyncToGenerator,_regeneratorRuntime,cclegacy,game,Game,sys,native,view,ResolutionPolicy,_decorator,screen,Component,profiler,director,macro,Node,AudioSource,AudioClip,assetManager,find,Sprite,Size,Texture2D,SpriteFrame,Color,debug$1,JsonAsset,UITransform,Prefab,instantiate,Tween,Vec3,UIOpacity,tween,Widget,Label,Button,v3,CCInteger,ScrollView,EditBox,UIRenderer,Director,clamp,SceneAsset;return{setters:[function(e){_createClass=e.d,_construct=e.f,_inheritsLoose=e.a,_createForOfIteratorHelperLoose=e.e,_applyDecoratedDescriptor=e._,_initializerDefineProperty=e.b,_assertThisInitialized=e.c,_asyncToGenerator=e.g,_regeneratorRuntime=e.h},function(e){cclegacy=e.cclegacy,game=e.game,Game=e.Game,sys=e.sys,native=e.native,view=e.view,ResolutionPolicy=e.ResolutionPolicy,_decorator=e._decorator,screen=e.screen,Component=e.Component,profiler=e.profiler,director=e.director,macro=e.macro,Node=e.Node,AudioSource=e.AudioSource,AudioClip=e.AudioClip,assetManager=e.assetManager,find=e.find,Sprite=e.Sprite,Size=e.Size,Texture2D=e.Texture2D,SpriteFrame=e.SpriteFrame,Color=e.Color,debug$1=e.debug,JsonAsset=e.JsonAsset,UITransform=e.UITransform,Prefab=e.Prefab,instantiate=e.instantiate,Tween=e.Tween,Vec3=e.Vec3,UIOpacity=e.UIOpacity,tween=e.tween,Widget=e.Widget,Label=e.Label,Button=e.Button,v3=e.v3,CCInteger=e.CCInteger,ScrollView=e.ScrollView,EditBox=e.EditBox,UIRenderer=e.UIRenderer,Director=e.Director,clamp=e.clamp,SceneAsset=e.SceneAsset}],execute:function(){var DEBUG=!1,DEV=!1;function ccInit(e){}function appInit(e){}cclegacy._RF.push({},"4f914cabTVJSJ8+LQIQhHaC","Handler",void 0),cclegacy._RF.pop(),cclegacy._RF.push({},"20e1fkwhAZIeo9EjjrzOEiJ","App",void 0);var EventType=function(e){return e.EVENT_APPINIT_FINISHED="EVENT_APPINIT_FINISHED",e}(EventType||{}),App=function(){function e(){}return _createClass(e,null,[{key:"ins",get:function(){return this._ins||(this._ins=new e),this._ins}}]),e}();App._ins=void 0,App.EventType=EventType,ccInit&&game.once(Game.EVENT_ENGINE_INITED,(function(){})),appInit&&game.once(App.EventType.EVENT_APPINIT_FINISHED,(function(){})),cclegacy._RF.pop(),cclegacy._RF.push({},"8eb3cUsnq5BXa/99v+Ws/xH","Setting",void 0),cclegacy._RF.pop(),cclegacy._RF.push({},"a0015ZA5XZJV7yCEao6wNGi","Core",void 0),cclegacy._RF.pop(),cclegacy._RF.push({},"9c8ac/rkupChrmfXjjAvLh+","Singleton",void 0);var SingletonClass=function(){function e(){}return e.getInstance=function(){if(!this.instance){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.instance=_construct(this,t)}return this.instance},e}();cclegacy._RF.pop(),cclegacy._RF.push({},"c7dd7HxqL1IVbxOWQijM5oW","header",void 0);var GX_DEBUG=!1;function enableDebugMode(e){e?(GX_DEBUG=!0,console.warn("enableDebugMode:true")):GX_DEBUG=!1}function log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,o;sys.isBrowser&&!sys.isMobile?GX_DEBUG&&(i=console).log.apply(i,["%c[GX] => ","color: #ff0000"].concat(t)):GX_DEBUG&&(o=console).log.apply(o,["[GX] => "].concat(t))}function warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,o;sys.isBrowser&&!sys.isMobile?GX_DEBUG&&(i=console).warn.apply(i,["%c[GX] => ","color: #ff0000"].concat(t)):GX_DEBUG&&(o=console).warn.apply(o,["[GX] => "].concat(t))}function error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,o;sys.isBrowser&&!sys.isMobile?GX_DEBUG&&(i=console).error.apply(i,["%c[GX] => ","color: #ff0000"].concat(t)):GX_DEBUG&&(o=console).error.apply(o,["[GX] => "].concat(t))}function debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,o;sys.isBrowser&&!sys.isMobile?GX_DEBUG&&(i=console).log.apply(i,["%c[GX] => ","color: #ff0000"].concat(t)):GX_DEBUG&&(o=console).log.apply(o,["[GX] => "].concat(t))}cclegacy._RF.pop(),cclegacy._RF.push({},"7f8c9ZxPiNKYJFDWduSJlHq","Log",void 0),cclegacy._RF.pop(),cclegacy._RF.push({},"ca3e9+VJQNDlKjTR8MbNuE4","AdMob",void 0);var AdMob=function(){function e(){this._listener=null,this._rewardedAdReadyCallback=null,this._interstitialAdReadyCallback=null}var t=e.prototype;return t.init=function(){var e=this;sys.isNative&&(native.bridge.onNative=function(t,r){if(debug("native.bridge.onNative arg0 agr1",t,r),"isRewardedAdReady"==t)debug("isRewardedAdReady",r),null==e._rewardedAdReadyCallback||e._rewardedAdReadyCallback("true"==r.toString());else if("isInterstitialAdReady"==t)debug("isInterstitialAdReady",r),null==e._interstitialAdReadyCallback||e._interstitialAdReadyCallback("true"==r.toString());else if("loadRewardedAdError"==t){var i;debug("loadRewardedAdError",r),null==(i=e._listener)||null==i.onAdLoadFail||i.onAdLoadFail("",0,r)}else if("loadInterstitialAdError"==t){var o;debug("loadInterstitialAdError",r),null==(o=e._listener)||null==o.onAdLoadFail||o.onAdLoadFail("",0,r)}else if("userDidEarnReward"==t){var n,s=r.split(":"),a=s[0],c=s[1],l=Number(c).toFixed(0);debug("type",a),debug("amount",l),null==(n=e._listener)||null==n.onAdRewarded||n.onAdRewarded("")}else if("adDidRecordClick"==t){var u;debug("adDidRecordClick",r),null==(u=e._listener)||null==u.onAdClick||u.onAdClick("")}else if("adWillPresentFullScreenContent"==t){var p;debug("adWillPresentFullScreenContent",r),null==(p=e._listener)||null==p.onAdShowSuccess||p.onAdShowSuccess("")}else if("adDidDismissFullScreenContent"==t){var d;debug("adDidDismissFullScreenContent"),null==(d=e._listener)||null==d.onAdClose||d.onAdClose("")}else if("didFailToPresentFullScreenContentWithError"==t){var f;debug("didFailToPresentFullScreenContentWithError",r),null==(f=e._listener)||null==f.onAdShowFail||f.onAdShowFail("",0,r)}})},t.setListener=function(e){this._listener=e},t.isRewardedAdReady=function(e,t){sys.isNative?(this._rewardedAdReadyCallback=t,native.bridge.sendToNative("isRewardedAdReady",e)):null==t||t(!0)},t.loadRewardedAd=function(e){sys.isNative&&native.bridge.sendToNative("loadRewardedAd",e)},t.showRewardedAd=function(e){var t;sys.isNative?native.bridge.sendToNative("showRewardedAd",e):null==(t=this._listener)||null==t.onAdRewarded||t.onAdRewarded(e)},t.isInterstitialAdReady=function(e,t){sys.isNative&&(this._interstitialAdReadyCallback=t,native.bridge.sendToNative("isInterstitialAdReady",e))},t.loadInterstitialAd=function(e){sys.isNative&&native.bridge.sendToNative("loadInterstitialAd",e)},t.showInterstitialAd=function(e){sys.isNative&&native.bridge.sendToNative("showInterstitialAd",e)},e}();cclegacy._RF.pop(),cclegacy._RF.push({},"99a98tQXv1D4LEe6u78tk0L","AdManager",void 0);var AdManager=function(e){function t(){var t;return debug("AdManager constructor"),(t=e.call(this)||this)._adSupport=null,t._adSupport=new AdMob,t._adSupport.init(),t}_inheritsLoose(t,e),t.Ins=function(){return this.getInstance()};var r=t.prototype;return r.setListener=function(e){var t;null==(t=this._adSupport)||t.setListener(e)},r.getAdSupport=function(){return this._adSupport},r.isRewardedAdReady=function(e,t){var r;null==(r=this._adSupport)||r.isRewardedAdReady(e,t)},r.loadRewardedAd=function(e){var t;null==(t=this._adSupport)||t.loadRewardedAd(e)},r.showRewardedAd=function(e){var t;null==(t=this._adSupport)||t.showRewardedAd(e)},r.isInterstitialAdReady=function(e,t){var r;null==(r=this._adSupport)||r.isInterstitialAdReady(e,t)},r.loadInterstitialAd=function(e){var t;null==(t=this._adSupport)||t.loadInterstitialAd(e)},r.showInterstitialAd=function(e){var t;null==(t=this._adSupport)||t.showInterstitialAd(e)},t}(SingletonClass),AD_CONFIG={adUnitIds:{rewardedVideo:"ca-app-pub-8175681423105810/8983492317",interstitial:"ca-app-pub-8175681423105810/1133509182",banner:""}};cclegacy._RF.pop(),cclegacy._RF.push({},"1f8c367lLdBJaqyxrwXnQPj","header",void 0),cclegacy._RF.pop(),cclegacy._RF.push({},"99be2MvO2xBwL2ZaSMMbwvP","UnityAds",void 0),cclegacy._RF.pop(),cclegacy._RF.push({},"480c1w9D8FOebWQoyoO9QHs","Screen",void 0);var Screen=function(){};Screen.ScreenWidth=void 0,Screen.ScreenHeight=void 0,Screen.DesignWidth=void 0,Screen.DesignHeight=void 0,Screen.SafeAreaHeight=void 0,Screen.SafeWidth=void 0,Screen.SafeHeight=void 0,cclegacy._RF.pop(),cclegacy._RF.push({},"70b03CfR+RMxoVcgcPsVL2Q","GlobalEvent",void 0);var GlobalEvent=function(){function e(){}return e.setDebugMode=function(e){this.debugMode=e},e.on=function(e,t,r){if(!e||!t)return debug("GlobalEvent on name or callback is null"),0;this.eventMap[e]||(this.eventMap[e]=[]);var i=++this.eventId,o=this.eventMap[e].length;return this.eventMap[e].push({id:i,name:e,callback:t,target:r,once:!1}),this.eventIdMap[i]={name:e,index:o},this.debugMode&&debug("GlobalEvent on name=> "+e+" eventId=> "+i),i},e.once=function(e,t,r){if(!e||!t)return debug("GlobalEvent on name or callback is null"),0;this.eventMap[e]||(this.eventMap[e]=[]);var i=this.eventId++,o=this.eventMap[e].length;return this.eventMap[e].push({id:i,name:e,callback:t,target:r,once:!0}),this.eventIdMap[i]={name:e,index:o},this.debugMode&&debug("GlobalEvent once name=> "+e+" eventId=> "+i),i},e.emit=function(e){var t=this;if(e&&this.eventMap[e]&&0!=this.eventMap[e].length){for(var r=[],i=arguments.length,o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];for(var s,a=_createForOfIteratorHelperLoose(this.eventMap[e]);!(s=a()).done;){var c=s.value;try{var l;(l=c.callback).call.apply(l,[c.target].concat(o)),c.once&&r.push(c.id)}catch(e){error("GlobalEvent emit error=> "+e)}}r.forEach((function(e){return t.offId(e)})),this.debugMode&&debug("GlobalEvent emit name=> "+e+" args=> "+o)}else this.debugMode&&debug("GlobalEvent emit name is null or eventMap["+e+"] is null")},e.off=function(e){var t=this;e?(this.eventMap[e]&&this.eventMap[e].length>0&&this.eventMap[e].forEach((function(e){delete t.eventIdMap[e.id]})),this.eventMap[e]=[],this.debugMode&&debug("GlobalEvent off name=> "+e)):warn("GlobalEvent off name is null")},e.offId=function(e){var t=this.eventIdMap[e];if(t){var r=t.name,i=t.index;this.eventMap[r].splice(i,1),delete this.eventIdMap[e];for(var o=i;o<this.eventMap[r].length;o++)this.eventIdMap[this.eventMap[r][o].id].index=o;this.debugMode&&warn("GlobalEvent offId eventId=> "+e+" name=> "+r)}},e.offTarget=function(e){var t=this;if(e){var r=0;Object.keys(this.eventMap).forEach((function(i){for(var o=t.eventMap[i],n=o.length-1;n>=0;n--)o[n].target==e&&(delete t.eventIdMap[o[n].id],o.splice(n,1),r++);if(r>0)for(var s=0;s<o.length;s++)t.eventIdMap[o[s].id].index=s})),this.debugMode&&r>0&&warn("GlobalEvent offTarget target=> "+e+" removedCount=> "+r)}},e.clear=function(){this.eventMap={},this.eventIdMap={},this.eventId=0,this.debugMode&&debug("GlobalEvent clear")},e.hasListeners=function(e){return this.getListenersCount(e)>0},e.getListenersCount=function(e){return this.eventMap[e]?this.eventMap[e].length:0},e.getEventNames=function(){return Object.keys(this.eventMap)},e.getTargetEventCount=function(e){var t=this;if(!e)return 0;var r=0;return Object.keys(this.eventMap).forEach((function(i){r+=t.eventMap[i].filter((function(t){return t.target==e})).length})),r},e}();GlobalEvent.eventMap={},GlobalEvent.eventIdMap={},GlobalEvent.eventId=0,GlobalEvent.debugMode=!1,cclegacy._RF.pop(),cclegacy._RF.push({},"f401425ewdKXpbC2O6Q6CLa","Adapter",void 0);var Adapter=function(){function e(){}var t=e.prototype;return t.init=function(){var e=this;debug("Adapter Init");var t=this.getDesignSize();Screen.DesignWidth=t.width,Screen.DesignHeight=t.height,view.setDesignResolutionSize(t.width,t.height,ResolutionPolicy.FIXED_WIDTH),this.resize(),this.registerResizeCallback((function(){debug("Adapter resize"),e.resize()}))},t.resize=function(){Screen.SafeAreaHeight=60;var e=this.getScreenSize(),t=Screen.DesignWidth>Screen.DesignHeight;t==e.width>e.height?(Screen.ScreenWidth=e.width,Screen.ScreenHeight=e.height):(Screen.ScreenWidth=e.height,Screen.ScreenHeight=e.width),t?(Screen.SafeWidth=Screen.ScreenWidth-2*Screen.SafeAreaHeight,Screen.SafeHeight=Screen.ScreenHeight):(Screen.SafeWidth=Screen.ScreenWidth,Screen.SafeHeight=Screen.ScreenHeight-2*Screen.SafeAreaHeight),this.printScreen(),GlobalEvent.emit("gx::adapter::resize")},t.printScreen=function(){debug("Screen.ScreenSize:"+Screen.ScreenWidth+" * "+Screen.ScreenHeight),debug("Screen.DesignSize ="+Screen.DesignWidth+" * "+Screen.DesignHeight),debug("Screen.SafeSize ="+Screen.SafeWidth+" * "+Screen.SafeHeight)},e}(),_dec,_class;cclegacy._RF.pop(),cclegacy._RF.push({},"42c5fShd7lBxb7A0fYJjZzX","CocosAdapter",void 0);var ccclass=_decorator.ccclass,property=_decorator.property,CocosAdapter=(_dec=ccclass("CocosAdapter"),_dec(_class=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var r=t.prototype;return r.getScreenSize=function(){var e=screen.windowSize;return{width:Math.ceil(e.width/view.getScaleX()),height:Math.ceil(e.height/view.getScaleY())}},r.getDesignSize=function(){var e=view.getDesignResolutionSize();return{width:e.width,height:e.height}},r.registerResizeCallback=function(e){screen&&screen.on?(screen.on("window-resize",(function(){debug("window-resize"),e.apply(void 0,arguments)}),this),screen.on("orientation-change",(function(){debug("orientation-change"),e.apply(void 0,arguments)}),this),screen.on("fullscreen-change",(function(){debug("fullscreen-change"),e.apply(void 0,arguments)}),this)):view.setResizeCallback(e)},t}(Adapter))||_class);cclegacy._RF.pop(),cclegacy._RF.push({},"88841EQSoNJqpUfeBerW4yF","Platform",void 0);var PlatformType=function(e){return e[e.Unknown=0]="Unknown",e[e.Android=1]="Android",e[e.IOS=2]="IOS",e[e.MacOS=3]="MacOS",e[e.HarmonyOS=4]="HarmonyOS",e[e.Browser=5]="Browser",e}({}),Platform=function(){};Platform.isBrowser=!1,Platform.isNative=!1,Platform.isMobile=!1,Platform.isNativeMobile=!1,Platform.isAndroid=!1,Platform.isIOS=!1,Platform.isMacOS=!1,Platform.isHarmonyOS=!1,Platform.platform=PlatformType.Unknown,Platform.deviceId=void 0,cclegacy._RF.pop(),cclegacy._RF.push({},"da347MLOzhPbJkTTADtikjo","Time",void 0);var Time=function(){function e(){}return e.init=function(){var e=this;this._osBootTime=Math.floor(Date.now()),log("Time init, osBootTime: "+this._osBootTime),this._nowTimestamp=function(){return e._osBootTime+e.runTime}},e.now=function(){return this._nowTimestamp()+this.netTimeDiff},e.msTos=function(e){return Math.floor((e||0)/1e3)},e.sToMs=function(e){return 1e3*(e||0)},_createClass(e,null,[{key:"netTimeDiff",get:function(){return this._netTimeDiff}},{key:"runTime",get:function(){return Math.floor(game.totalTime)}}]),e}();Time._nowTimestamp=void 0,Time._osBootTime=0,Time._netTime=0,Time._netTimeDiff=0,cclegacy._RF.pop(),cclegacy._RF.push({},"9e2de6K7BBLPIYf5+PmZ0jX","BinaryHeap",void 0);var HeapNode=function(){this.index=void 0},BinaryHeap=function(){function e(e){this._nodes=void 0,this._size=void 0,this._capacity=void 0,this._size=0,this._capacity=e<=0?4:e,this._nodes=new Array(this._capacity)}var t=e.prototype;return t.clear=function(){this._size=0},t.get=function(e){return this._nodes[e]},t.top=function(){return this._nodes[0]},t.contains=function(e){return e.index>=0&&e.index<this._size},t.push=function(e){var t=++this._size;t>this._capacity&&(this._capacity=this._nodes.length*=2),this._sortUp(e,t-1)},t.pop=function(){if(0==this._size)return null;var e=this._nodes,t=e[0];t.index=-1,e[0]=null;var r=--this._size;if(r>0){var i=e[r];e[r]=null,this._sortDown(i,0)}return t},t.remove=function(e){if(this.contains(e)){var t=--this._size,r=this._nodes,i=r[e.index]=r[t];i.index=e.index,r[t]=null,this.update(i),e.index=-1}},t.update=function(e){if(!this.contains(e))return!1;var t=e.index,r=this._nodes;return t>0&&r[t].lessThan(r[this._parent(t)])?this._sortUp(r[t],t):this._sortDown(r[t],t),!0},t._parent=function(e){return e-1>>1},t._sortUp=function(e,t){for(var r=this._parent(t),i=this._nodes;t>0&&e.lessThan(i[r]);)i[r].index=t,i[t]=i[r],t=r,r=this._parent(r);e.index=t,i[t]=e},t._sortDown=function(e,t){for(var r=1+(t<<1),i=this._nodes,o=this._size;r<o;){var n=e;if(i[r].lessThan(n)&&(n=i[r]),r+1<o&&i[r+1].lessThan(n)&&(n=i[++r]),e==n)break;n.index=t,i[t]=n,t=r,r=1+(r<<1)}e.index=t,i[t]=e},_createClass(e,[{key:"count",get:function(){return this._size}},{key:"empty",get:function(){return 0==this._size}}]),e}();cclegacy._RF.pop(),cclegacy._RF.push({},"3b9d7nguAVDe7XgjdcV2Z7q","Timer",void 0);var Timer=function(){var e=t.prototype;function t(e){void 0===e&&(e=1024),this._heap=void 0,this._runningTimer=void 0,this._pausedTimer=void 0,this._elapsedTime=0,this._timerNodeOrder=0,this._heap=new BinaryHeap(e),this._pausedTimer=new Map,this._runningTimer=new Map}return e.getTimerCount=function(){return this._heap.count},e.start=function(e,r,i){if(void 0===i&&(i=0),!e||r<=0)return debug("Timer start error: callback is null or interval <= 0"),-1;this._timerNodeOrder>=t.MAX_ORDER_INDEX&&(this._timerNodeOrder=0);var o=new TimerNode(++t._timerId);return o.callback=e,o.interval=r,o.loop=i,o.expireTime=this._elapsedTime+r,o.orderIndex=++this._timerNodeOrder,o.pause=!1,o.currentLoop=0,this._runningTimer.set(o.id,o),this._heap.push(o),o.id},e.stop=function(e){var t=this._runningTimer.get(e);return t?(this._runningTimer.delete(e),this._heap.remove(t),!0):!!(t=this._pausedTimer.get(e))&&(this._pausedTimer.delete(e),!0)},e.pause=function(e){var t=this._runningTimer.get(e);return!!t&&(t.pause=!0,t.pauseRemainTime=t.expireTime-this._elapsedTime,this._heap.remove(t),this._runningTimer.delete(e),this._pausedTimer.set(e,t),!0)},e.resume=function(e){var t=this._pausedTimer.get(e);return!!t&&(t.pause=!1,t.expireTime=this._elapsedTime+t.pauseRemainTime,this._heap.push(t),this._pausedTimer.delete(e),this._runningTimer.set(e,t),!0)},e.update=function(e){for(this._elapsedTime+=e;!this._heap.empty;){var t=this._heap.top();if(t.expireTime>this._elapsedTime)break;try{t.callback(e)}catch(e){error("Timer callback error: "+e)}0===t.loop||t.currentLoop==t.loop?(this._heap.pop(),this._runningTimer.delete(t.id)):-1===t.loop?(t.expireTime=this._elapsedTime+t.interval,this._heap.update(t)):t.loop>0&&(t.currentLoop++,t.currentLoop<t.loop&&(t.expireTime=this._elapsedTime+t.interval,this._heap.update(t)))}},e.clear=function(){this._heap.clear(),this._runningTimer.clear(),this._pausedTimer.clear(),this._timerNodeOrder=0},t}();Timer.MAX_ORDER_INDEX=1e6,Timer._timerId=0;var TimerNode=function(e){function t(t){var r;return(r=e.call(this)||this).id=void 0,r.orderIndex=void 0,r.interval=void 0,r.expireTime=void 0,r.loop=0,r.currentLoop=void 0,r.callback=void 0,r.pauseRemainTime=void 0,r.pause=void 0,r.id=t,r}return _inheritsLoose(t,e),t.prototype.lessThan=function(e){var t=e;return Math.abs(this.expireTime-t.expireTime)<=1e-5?this.orderIndex<t.orderIndex:this.expireTime<t.expireTime},t}(HeapNode);cclegacy._RF.pop(),cclegacy._RF.push({},"3c29axwH1tFYYek/gM+eA84","GlobalTimer",void 0);var GlobalTimer=function(){function e(){}return e.initTimer=function(){this._timer=new Timer(16)},e.startTimer=function(e,t,r){return void 0===r&&(r=0),this._timer.start(e,t,r)},e.stopTimer=function(e){this._timer.stop(e)},e.pauseTimer=function(e){this._timer.pause(e)},e.resumeTimer=function(e){this._timer.resume(e)},e.clearTimer=function(){this._timer.clear()},e.update=function(e){this._timer.update(e)},_createClass(e,null,[{key:"timer",get:function(){return null==this._timer&&this.initTimer(),this._timer}}]),e}();GlobalTimer._timer=null,cclegacy._RF.pop(),cclegacy._RF.push({},"faa2bLpDIpI/YSZktX9Nd/8","ModuleBase",void 0);var ModuleBase=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).moduleName="",t}_inheritsLoose(t,e);var r=t.prototype;return r.init=function(){},r.onInit=function(){},t}(Component),_dec$1,_class$1,_descriptor;cclegacy._RF.pop(),cclegacy._RF.push({},"afb215FJpVMLqHw8UPKqT8z","CocosEntry",void 0);var property$1=_decorator.property,CocosEntry=(_dec$1=property$1({displayName:"帧率"}),_class$1=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"fps",_descriptor,_assertThisInitialized(t)),t}_inheritsLoose(t,e);var r=t.prototype;return r.getConfig=function(){return{}},r.start=function(){var e;log("CocosEntry int start");var t=this.getConfig();enableDebugMode(null!=(e=t.debug)&&e),t.hideStats&&profiler.hideStats(),game.frameRate=this.fps,director.addPersistRootNode(this.node),this.node.setSiblingIndex(this.node.children.length-1),this.initPlatform(),this.initTime(),this.initAdapter(),this.initModule(),log("CocosEntry init finish"),this.onInit()},r.initPlatform=function(){switch(Platform.isNative=sys.isNative,Platform.isMobile=sys.isMobile,Platform.isNativeMobile=sys.isNative&&sys.isMobile,sys.os){case sys.OS.ANDROID:Platform.isAndroid=!0,debug("system is Android");break;case sys.OS.IOS:Platform.isIOS=!0,debug("system is IOS");break;case sys.OS.OSX:Platform.isMacOS=!0,debug("system is MacOS");break;case sys.OS.OPENHARMONY:Platform.isHarmonyOS=!0,debug("system is HarmonyOS")}switch(sys.platform){case sys.Platform.IOS:Platform.platform=PlatformType.IOS;break;case sys.Platform.MACOS:Platform.platform=PlatformType.MacOS;break;case sys.Platform.ANDROID:Platform.platform=PlatformType.Android;break;case sys.Platform.OPENHARMONY:Platform.platform=PlatformType.HarmonyOS;break;default:Platform.isBrowser=!0,Platform.platform=PlatformType.Browser}debug("platform: "+PlatformType[Platform.platform])},r.initAdapter=function(){(new CocosAdapter).init()},r.initModule=function(){debug("init module");for(var e,t=_createForOfIteratorHelperLoose(this.getComponentsInChildren(ModuleBase));!(e=t()).done;){var r=e.value;debug("init module: "+r.moduleName),r.init()}},r.initTime=function(){Time.init(),GlobalTimer.initTimer(),this.schedule(this.tick.bind(this),0,macro.REPEAT_FOREVER)},r.tick=function(e){GlobalTimer.update(e)},t}(Component),_descriptor=_applyDecoratedDescriptor(_class$1.prototype,"fps",[_dec$1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),_class$1);cclegacy._RF.pop(),cclegacy._RF.push({},"31460Tttj9JaYt0D9Qgx8aF","Device",void 0);var Device=function(){function e(){}return e.VibrateShort=function(){Platform.isNative&&Platform.isIOS&&native.reflection.callStaticMethod("MyNative","VibrateShort:","")},e.CopyTextToClipboard=function(e){Platform.isNative?Platform.isIOS&&native.reflection.callStaticMethod("MyNative","CopyTextToClipboard:",e):navigator.clipboard&&navigator.clipboard.writeText&&navigator.clipboard.writeText(e)},e.GetAppVersion=function(){return Platform.isNative?Platform.isIOS?native.reflection.callStaticMethod("MyNative","GetAppVersion:",""):void 0:"1.0"},e.GetUUID=function(){return Platform.isNative?Platform.isIOS?native.reflection.callStaticMethod("MyNative","GetUUID:",""):void 0:""},e}();cclegacy._RF.pop(),cclegacy._RF.push({},"cedfc06LatLE6Fc9XpG3TXy","IModule",void 0),cclegacy._RF.pop(),cclegacy._RF.push({},"b76a940axpIgp5rVYt5L+pc","AudioMgr",void 0);var AudioMgr=function(e){function t(){var t;(t=e.call(this)||this)._musicSource=void 0,t._soundSource=void 0,t._musicVolume=1,t._soundVolume=1;var r=new Node;r.name="__audioMgr__",director.getScene().addChild(r),director.addPersistRootNode(r);var i=new Node;r.addChild(i),t._musicSource=i.addComponent(AudioSource);var o=new Node;return r.addChild(o),t._soundSource=o.addComponent(AudioSource),t}_inheritsLoose(t,e),t.Ins=function(){return this.getInstance()};var r=t.prototype;return r.playOneShot=function(e,t,r){var i=this;(void 0===t&&(t=1),void 0===r&&(r="resources"),e instanceof AudioClip)?(this._soundSource.volume=1,this._soundSource.playOneShot(e,t*this._soundVolume)):assetManager.getBundle(r).load(e,(function(e,r){e?console.log(e):(i._soundSource.volume=1,i._soundSource.playOneShot(r,t*i._soundVolume))}))},r.play=function(e,t,r){var i=this;(void 0===t&&(t=1),void 0===r&&(r="resources"),e instanceof AudioClip)?(this._musicSource.stop(),this._musicSource.clip=e,this._musicSource.play(),this._musicSource.volume=this._musicVolume*t):assetManager.getBundle(r).load(e,(function(e,r){e?console.log(e):(i._musicSource.stop(),i._musicSource.clip=r,i._musicSource.play(),i._musicSource.volume=i._musicVolume*t)}))},r.stop=function(){this._musicSource.stop(),this._soundSource.stop()},r.pause=function(){this._musicSource.pause(),this._soundSource.pause()},r.resume=function(){this._musicSource.play(),this._soundSource.play()},_createClass(t,[{key:"audioSource",get:function(){return this._musicSource}},{key:"musicVolume",get:function(){return this._musicVolume},set:function(e){this._musicVolume=e,this._musicSource.volume=this._musicVolume}},{key:"soundSource",get:function(){return this._soundSource}},{key:"soundVolume",get:function(){return this._soundVolume},set:function(e){this._soundVolume=e,this._soundSource.volume=this.soundVolume}}]),t}(SingletonClass);cclegacy._RF.pop(),cclegacy._RF.push({},"54af2NtEhtPZqCNItDN7uLt","header",void 0);var THttpResult=function(e){return e.Succeed="succeed",e.Fail="fail",e}({});cclegacy._RF.pop(),cclegacy._RF.push({},"cf153C8ELFM1YxgR1FqyGIK","HttpRequest",void 0);var HttpRequest=function(){function e(){this.method=void 0,this.timeout=void 0,this.responseType=void 0,this.message=void 0,this.data=void 0,this._xhr=null,this._callback=null,this._xhr=new XMLHttpRequest}var t=e.prototype;return t.setCallback=function(e){this._callback=e},t.send=function(e,t,r){var i=this._xhr;if(i.timeout=1e3*this.timeout,i.responseType=this.responseType,i.onabort=this._onAbort.bind(this),i.onerror=this._onError.bind(this),i.onload=this._onLoad.bind(this),i.ontimeout=this._onTimeout.bind(this),i.onreadystatechange=function(){debug("onreadystatechange",i.readyState,i.status,i.statusText,i.responseURL)},i.open(this.method,encodeURI(e)),r)for(var o=0;o<r.length;o+=2)i.setRequestHeader(r[o],r[o+1]),debug("setRequestHeader: "+r[o]+" "+r[o+1]);sys.isNative&&i.setRequestHeader("Accept-Encoding","gzip,deflate"),i.send(t)},t.abort=function(e){e&&this._clear(),this._xhr.abort()},t._onAbort=function(){debug("onAbort",this._xhr),this.message="request aborted by user",this.handlerError()},t._onError=function(){debug("onError",this._xhr),this.message="request error",this.handlerError()},t._onLoad=function(){debug("onLoad",this._xhr);var e=this._xhr;void 0!==e.status&&e.status;4==e.readyState&&e.status>=200&&e.status<400?this.onCompete():(this.message="status:"+e.status+" statusText:"+e.statusText+" responseURL:"+e.responseURL,this.handlerError())},t._onTimeout=function(){debug("onTimeout",this._xhr),this.message="request timeout",this.handlerError()},t.handlerError=function(){var e;null==(e=this._callback)||e.call(this,THttpResult.Fail,this),this._clear()},t.onCompete=function(){try{var e;"json"==this.responseType||"arraybuffer"==this.responseType?this.data=this._xhr.response:this.data=this._xhr.responseText,debug("this.data",this.data),null==(e=this._callback)||e.call(this,THttpResult.Succeed,this),this._clear()}catch(e){warn("http响应数据解析错误，HttpResponseType("+this.responseType+")\n    url: "+this._xhr.responseURL+"\n    error: "+e),this.handlerError()}},t._clear=function(){this._xhr.onabort=null,this._xhr.onerror=null,this._xhr.onload=null,this._xhr.ontimeout=null,this._callback=null},_createClass(e,[{key:"status",get:function(){var e;return null==(e=this._xhr)?void 0:e.status}},{key:"headers",get:function(){var e;return null==(e=this._xhr)?void 0:e.getAllResponseHeaders()}}]),e}();cclegacy._RF.pop(),cclegacy._RF.push({},"2da67L/nI1O2Z6JxlxPu405","HttpManager",void 0);var HttpManager=function(){function e(){}return e.post=function(e,t,r,i,o,n){return void 0===r&&(r="json"),void 0===n&&(n=10),this._send("POST",e,t,r,i,o,n)},e.get=function(e,t,r,i,o,n){return void 0===r&&(r="json"),void 0===n&&(n=10),this._send("GET",e,t,r,i,o,n)},e.put=function(e,t,r,i,o,n){return void 0===r&&(r="json"),void 0===n&&(n=10),this._send("PUT",e,t,r,i,o,n)},e.head=function(e,t,r,i,o,n){return void 0===r&&(r="json"),void 0===n&&(n=10),this._send("HEAD",e,t,r,i,o,n)},e._send=function(e,t,r,i,o,n,s){void 0===i&&(i="json");var a=new HttpRequest;return a.setCallback((function(e,t){switch(e){case THttpResult.Succeed:null==o||null==o.onCompete||o.onCompete(t);break;case THttpResult.Fail:null==o||null==o.onError||o.onError(t)}})),a.method=e,a.timeout=s,a.responseType=i,null==o||null==o.onOpen||o.onOpen(),a.send(t,r,n),a},e}();cclegacy._RF.pop(),cclegacy._RF.push({},"765dcYH8K5AXofqHJVKORps","HttpTask",void 0);var HttpTask=function(){this.url=void 0,this.name=void 0,this.reqData=void 0,this.method=void 0},_gx_http,_gx_http2;function HttpTaskProperty(e,t,r){return function(i){i._taskConfig={name:e,url:t,method:r}}}cclegacy._RF.pop(),cclegacy._RF.push({},"acd58zWDIxMDqej9JIcsT9U","gx_http",void 0),_gx_http2=_gx_http||(_gx_http={}),_gx_http2.config=function(e){this.timeout=5e3,this.responseType=void 0,this.body=void 0,this.header=void 0,this.onOpen=void 0,this.onError=void 0,this.onTimeout=void 0,Object.assign(this,e)},cclegacy._RF.pop(),cclegacy._RF.push({},"34edarRbCVPdLdrnuobRK/W","header",void 0),cclegacy._RF.pop();var CjsLoader=function(){function e(){this._registry={},this._moduleCache={}}var t=e.prototype;return t.define=function(e,t,r){this._registry[e]={factory:t,resolveMap:r}},t.require=function(e){return this._require(e)},t.throwInvalidWrapper=function(e,t){throw new Error("Module '"+e+"' imported from '"+t+"' is expected be an ESM-wrapped CommonJS module but it doesn't.")},t._require=function(e,t){var r=this._moduleCache[e];if(r)return r.exports;var i={id:e,exports:{}};return this._moduleCache[e]=i,this._tryModuleLoad(i,e),i.exports},t._resolve=function(e,t){return this._resolveFromInfos(e,t)||this._throwUnresolved(e,t)},t._resolveFromInfos=function(e,t){var r,i;return e in cjsInfos?e:t&&null!=(r=null==(i=cjsInfos[t])?void 0:i.resolveCache[e])?r:void 0},t._tryModuleLoad=function(e,t){var r=!0;try{this._load(e,t),r=!1}finally{r&&delete this._moduleCache[t]}},t._load=function(e,t){var r=this._loadWrapper(t),i=r.factory,o=r.resolveMap,n=this._createRequire(e),s=o?this._createRequireWithResolveMap("function"==typeof o?o():o,n):n;i(e.exports,s,e)},t._loadWrapper=function(e){return e in this._registry?this._registry[e]:this._loadHostProvidedModules(e)},t._loadHostProvidedModules=function(e){return{factory:function(t,r,i){if("undefined"==typeof require)throw new Error("Current environment does not provide a require() for requiring '"+e+"'.");try{i.exports=require(e)}catch(t){throw new Error("Exception thrown when calling host defined require('"+e+"').",{cause:t})}}}},t._createRequire=function(e){var t=this;return function(r){return t._require(r,e)}},t._createRequireWithResolveMap=function(e,t){return function(r){var i=e[r];if(i)return t(i);throw new Error("Unresolved specifier "+r)}},t._throwUnresolved=function(e,t){throw new Error("Unable to resolve "+e+" from "+parent+".")},e}(),loader=new CjsLoader,__cjsMetaURL="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/@protobufjs/aspromise/index.js";loader.define(__cjsMetaURL,(function(e,t,r,i,o){r.exports=function(e,t){var r=new Array(arguments.length-1),i=0,o=2,n=!0;for(;o<arguments.length;)r[i++]=arguments[o++];return new Promise((function(o,s){r[i]=function(e){if(n)if(n=!1,e)s(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){n&&(n=!1,s(e))}}))},r.exports}),{});var __cjsMetaURL$1="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/@protobufjs/base64/index.js";loader.define(__cjsMetaURL$1,(function(e,t,r,i,o){var n=e;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var s=new Array(64),a=new Array(123),c=0;c<64;)a[s[c]=c<26?c+65:c<52?c+71:c<62?c-4:c-59|43]=c++;n.encode=function(e,t,r){for(var i,o=null,n=[],a=0,c=0;t<r;){var l=e[t++];switch(c){case 0:n[a++]=s[l>>2],i=(3&l)<<4,c=1;break;case 1:n[a++]=s[i|l>>4],i=(15&l)<<2,c=2;break;case 2:n[a++]=s[i|l>>6],n[a++]=s[63&l],c=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,n)),a=0)}return c&&(n[a++]=s[i],n[a++]=61,1===c&&(n[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,n.slice(0,a))),o.join("")):String.fromCharCode.apply(String,n.slice(0,a))};var l="invalid encoding";n.decode=function(e,t,r){for(var i,o=r,n=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&n>1)break;if(void 0===(c=a[c]))throw Error(l);switch(n){case 0:i=c,n=1;break;case 1:t[r++]=i<<2|(48&c)>>4,i=c,n=2;break;case 2:t[r++]=(15&i)<<4|(60&c)>>2,i=c,n=3;break;case 3:t[r++]=(3&i)<<6|c,n=0}}if(1===n)throw Error(l);return r-o},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},r.exports}),{});var __cjsMetaURL$2="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/@protobufjs/eventemitter/index.js";loader.define(__cjsMetaURL$2,(function(e,t,r,i,o){function n(){this._listeners={}}r.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],i=0;i<r.length;)r[i].fn===t?r.splice(i,1):++i;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],i=1;i<arguments.length;)r.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,r)}return this},r.exports}),{});var __cjsMetaURL$3="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/@protobufjs/float/index.js";loader.define(__cjsMetaURL$3,(function(e,t,r,i,o){function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),i=128===r[3];function o(e,i,o){t[0]=e,i[o]=r[0],i[o+1]=r[1],i[o+2]=r[2],i[o+3]=r[3]}function n(e,i,o){t[0]=e,i[o]=r[3],i[o+1]=r[2],i[o+2]=r[1],i[o+3]=r[0]}function s(e,i){return r[0]=e[i],r[1]=e[i+1],r[2]=e[i+2],r[3]=e[i+3],t[0]}function a(e,i){return r[3]=e[i],r[2]=e[i+1],r[1]=e[i+2],r[0]=e[i+3],t[0]}e.writeFloatLE=i?o:n,e.writeFloatBE=i?n:o,e.readFloatLE=i?s:a,e.readFloatBE=i?a:s}():function(){function t(e,t,r,i){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,i);else if(isNaN(t))e(2143289344,r,i);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,r,i);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,r,i);else{var n=Math.floor(Math.log(t)/Math.LN2);e((o<<31|n+127<<23|8388607&Math.round(t*Math.pow(2,-n)*8388608))>>>0,r,i)}}function r(e,t,r){var i=e(t,r),o=2*(i>>31)+1,n=i>>>23&255,s=8388607&i;return 255===n?s?NaN:o*(1/0):0===n?1401298464324817e-60*o*s:o*Math.pow(2,n-150)*(s+8388608)}e.writeFloatLE=t.bind(null,s),e.writeFloatBE=t.bind(null,a),e.readFloatLE=r.bind(null,c),e.readFloatBE=r.bind(null,l)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),i=128===r[7];function o(e,i,o){t[0]=e,i[o]=r[0],i[o+1]=r[1],i[o+2]=r[2],i[o+3]=r[3],i[o+4]=r[4],i[o+5]=r[5],i[o+6]=r[6],i[o+7]=r[7]}function n(e,i,o){t[0]=e,i[o]=r[7],i[o+1]=r[6],i[o+2]=r[5],i[o+3]=r[4],i[o+4]=r[3],i[o+5]=r[2],i[o+6]=r[1],i[o+7]=r[0]}function s(e,i){return r[0]=e[i],r[1]=e[i+1],r[2]=e[i+2],r[3]=e[i+3],r[4]=e[i+4],r[5]=e[i+5],r[6]=e[i+6],r[7]=e[i+7],t[0]}function a(e,i){return r[7]=e[i],r[6]=e[i+1],r[5]=e[i+2],r[4]=e[i+3],r[3]=e[i+4],r[2]=e[i+5],r[1]=e[i+6],r[0]=e[i+7],t[0]}e.writeDoubleLE=i?o:n,e.writeDoubleBE=i?n:o,e.readDoubleLE=i?s:a,e.readDoubleBE=i?a:s}():function(){function t(e,t,r,i,o,n){var s=i<0?1:0;if(s&&(i=-i),0===i)e(0,o,n+t),e(1/i>0?0:2147483648,o,n+r);else if(isNaN(i))e(0,o,n+t),e(2146959360,o,n+r);else if(i>17976931348623157e292)e(0,o,n+t),e((s<<31|2146435072)>>>0,o,n+r);else{var a;if(i<22250738585072014e-324)e((a=i/5e-324)>>>0,o,n+t),e((s<<31|a/4294967296)>>>0,o,n+r);else{var c=Math.floor(Math.log(i)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=i*Math.pow(2,-c))>>>0,o,n+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,o,n+r)}}}function r(e,t,r,i,o){var n=e(i,o+t),s=e(i,o+r),a=2*(s>>31)+1,c=s>>>20&2047,l=4294967296*(1048575&s)+n;return 2047===c?l?NaN:a*(1/0):0===c?5e-324*a*l:a*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,s,0,4),e.writeDoubleBE=t.bind(null,a,4,0),e.readDoubleLE=r.bind(null,c,0,4),e.readDoubleBE=r.bind(null,l,4,0)}(),e}function s(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function a(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function c(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function l(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}r.exports=n(n),r.exports,r.exports.writeFloatLE,r.exports.writeFloatBE,r.exports.readFloatLE,r.exports.readFloatBE,r.exports.writeDoubleLE,r.exports.writeDoubleBE,r.exports.readDoubleLE,r.exports.readDoubleBE}),{});var __cjsMetaURL$4="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/@protobufjs/inquire/index.js";loader.define(__cjsMetaURL$4,(function(exports,require,module,__filename,__dirname){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire,module.exports}),{});var __cjsMetaURL$5="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/@protobufjs/utf8/index.js";loader.define(__cjsMetaURL$5,(function(e,t,r,i,o){var n=e;n.length=function(e){for(var t=0,r=0,i=0;i<e.length;++i)(r=e.charCodeAt(i))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(i+1))?(++i,t+=4):t+=3;return t},n.read=function(e,t,r){if(r-t<1)return"";for(var i,o=null,n=[],s=0;t<r;)(i=e[t++])<128?n[s++]=i:i>191&&i<224?n[s++]=(31&i)<<6|63&e[t++]:i>239&&i<365?(i=((7&i)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,n[s++]=55296+(i>>10),n[s++]=56320+(1023&i)):n[s++]=(15&i)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,n)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,n.slice(0,s))),o.join("")):String.fromCharCode.apply(String,n.slice(0,s))},n.write=function(e,t,r){for(var i,o,n=r,s=0;s<e.length;++s)(i=e.charCodeAt(s))<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=63&i|128):55296==(64512&i)&&56320==(64512&(o=e.charCodeAt(s+1)))?(i=65536+((1023&i)<<10)+(1023&o),++s,t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=63&i|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=63&i|128);return r-n},r.exports}),{});var __cjsMetaURL$6="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/@protobufjs/pool/index.js";loader.define(__cjsMetaURL$6,(function(e,t,r,i,o){r.exports=function(e,t,r){var i=r||8192,o=i>>>1,n=null,s=i;return function(r){if(r<1||r>o)return e(r);s+r>i&&(n=e(i),s=0);var a=t.call(n,s,s+=r);return 7&s&&(s=1+(7|s)),a}},r.exports}),{});var __cjsMetaURL$7="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/util/longbits.js";loader.define(__cjsMetaURL$7,(function(e,t,r,i,o){r.exports=s;var n=t("../util/minimal");function s(e,t){this.lo=e>>>0,this.hi=t>>>0}var a=s.zero=new s(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var c=s.zeroHash="\0\0\0\0\0\0\0\0";s.fromNumber=function(e){if(0===e)return a;var t=e<0;t&&(e=-e);var r=e>>>0,i=(e-r)/4294967296>>>0;return t&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new s(r,i)},s.from=function(e){if("number"==typeof e)return s.fromNumber(e);if(n.isString(e)){if(!n.Long)return s.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new s(e.low>>>0,e.high>>>0):a},s.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},s.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var l=String.prototype.charCodeAt;s.fromHash=function(e){return e===c?a:new s((l.call(e,0)|l.call(e,1)<<8|l.call(e,2)<<16|l.call(e,3)<<24)>>>0,(l.call(e,4)|l.call(e,5)<<8|l.call(e,6)<<16|l.call(e,7)<<24)>>>0)},s.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},s.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},s.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},s.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10},r.exports}),(function(){return{"../util/minimal":__cjsMetaURL$8}}));var __cjsMetaURL$8="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/util/minimal.js";loader.define(__cjsMetaURL$8,(function(e,t,r,i,o){var n=e;function s(e,t,r){for(var i=Object.keys(t),o=0;o<i.length;++o)void 0!==e[i[o]]&&r||(e[i[o]]=t[i[o]]);return e}function a(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&s(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=t("@protobufjs/aspromise"),n.base64=t("@protobufjs/base64"),n.EventEmitter=t("@protobufjs/eventemitter"),n.float=t("@protobufjs/float"),n.inquire=t("@protobufjs/inquire"),n.utf8=t("@protobufjs/utf8"),n.pool=t("@protobufjs/pool"),n.LongBits=t("./longbits"),n.isNode=Boolean("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),n.global=n.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=s,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=a,n.ProtocolError=a("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null},r.exports}),(function(){return{"@protobufjs/aspromise":__cjsMetaURL,"@protobufjs/base64":__cjsMetaURL$1,"@protobufjs/eventemitter":__cjsMetaURL$2,"@protobufjs/float":__cjsMetaURL$3,"@protobufjs/inquire":__cjsMetaURL$4,"@protobufjs/utf8":__cjsMetaURL$5,"@protobufjs/pool":__cjsMetaURL$6,"./longbits":__cjsMetaURL$7}}));var __cjsMetaURL$9="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/writer.js";loader.define(__cjsMetaURL$9,(function(e,t,r,i,o){r.exports=f;var n,s=t("./util/minimal"),a=s.LongBits,c=s.base64,l=s.utf8;function u(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function p(){}function d(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new u(p,0,0),this.tail=this.head,this.states=null}var h=function(){return s.Buffer?function(){return(f.create=function(){return new n})()}:function(){return new f}};function _(e,t,r){t[r]=255&e}function y(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function m(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}f.create=h(),f.alloc=function(e){return new s.Array(e)},s.Array!==Array&&(f.alloc=s.pool(f.alloc,s.Array.prototype.subarray)),f.prototype._push=function(e,t,r){return this.tail=this.tail.next=new u(e,t,r),this.len+=t,this},y.prototype=Object.create(u.prototype),y.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new y((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(g,10,a.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=a.from(e);return this._push(g,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=a.from(e).zzEncode();return this._push(g,t.length(),t)},f.prototype.bool=function(e){return this._push(_,1,e?1:0)},f.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=a.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(s.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(s.float.writeDoubleLE,8,e)};var v=s.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var i=0;i<e.length;++i)t[r+i]=e[i]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(_,1,0);if(s.isString(e)){var r=f.alloc(t=c.length(e));c.decode(e,r,0),e=r}return this.uint32(t)._push(v,t,e)},f.prototype.string=function(e){var t=l.length(e);return t?this.uint32(t)._push(l.write,t,e):this._push(_,1,0)},f.prototype.fork=function(){return this.states=new d(this),this.head=this.tail=new u(p,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(p,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},f._configure=function(e){n=e,f.create=h(),n._configure()},r.exports}),(function(){return{"./util/minimal":__cjsMetaURL$8}}));var __cjsMetaURL$a="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/writer_buffer.js";loader.define(__cjsMetaURL$a,(function(e,t,r,i,o){r.exports=a;var n=t("./writer");(a.prototype=Object.create(n.prototype)).constructor=a;var s=t("./util/minimal");function a(){n.call(this)}function c(e,t,r){e.length<40?s.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}a._configure=function(){a.alloc=s._Buffer_allocUnsafe,a.writeBytesBuffer=s.Buffer&&s.Buffer.prototype instanceof Uint8Array&&"set"===s.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var i=0;i<e.length;)t[r++]=e[i++]}},a.prototype.bytes=function(e){s.isString(e)&&(e=s._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(a.writeBytesBuffer,t,e),this},a.prototype.string=function(e){var t=s.Buffer.byteLength(e);return this.uint32(t),t&&this._push(c,t,e),this},a._configure(),r.exports}),(function(){return{"./writer":__cjsMetaURL$9,"./util/minimal":__cjsMetaURL$8}}));var __cjsMetaURL$b="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/reader.js";loader.define(__cjsMetaURL$b,(function(e,t,r,i,o){r.exports=u;var n,s=t("./util/minimal"),a=s.LongBits,c=s.utf8;function l(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var p,d="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},f=function(){return s.Buffer?function(e){return(u.create=function(e){return s.Buffer.isBuffer(e)?new n(e):d(e)})(e)}:d};function h(){var e=new a(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw l(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw l(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function _(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function y(){if(this.pos+8>this.len)throw l(this,8);return new a(_(this.buf,this.pos+=4),_(this.buf,this.pos+=4))}u.create=f(),u.prototype._slice=s.Array.prototype.subarray||s.Array.prototype.slice,u.prototype.uint32=(p=4294967295,function(){if(p=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return p;if(p=(p|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return p;if(p=(p|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return p;if(p=(p|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return p;if(p=(p|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return p;if((this.pos+=5)>this.len)throw this.pos=this.len,l(this,10);return p}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw l(this,4);return _(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw l(this,4);return 0|_(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw l(this,4);var e=s.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw l(this,4);var e=s.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw l(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var i=s.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},u.prototype.string=function(){var e=this.bytes();return c.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw l(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw l(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){n=e,u.create=f(),n._configure();var t=s.Long?"toLong":"toNumber";s.merge(u.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return y.call(this)[t](!0)},sfixed64:function(){return y.call(this)[t](!1)}})},r.exports}),(function(){return{"./util/minimal":__cjsMetaURL$8}}));var __cjsMetaURL$c="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/reader_buffer.js";loader.define(__cjsMetaURL$c,(function(e,t,r,i,o){r.exports=a;var n=t("./reader");(a.prototype=Object.create(n.prototype)).constructor=a;var s=t("./util/minimal");function a(e){n.call(this,e)}a._configure=function(){s.Buffer&&(a.prototype._slice=s.Buffer.prototype.slice)},a.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},a._configure(),r.exports}),(function(){return{"./reader":__cjsMetaURL$b,"./util/minimal":__cjsMetaURL$8}}));var __cjsMetaURL$d="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/rpc/service.js";loader.define(__cjsMetaURL$d,(function(e,t,r,i,o){r.exports=s;var n=t("../util/minimal");function s(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(s.prototype=Object.create(n.EventEmitter.prototype)).constructor=s,s.prototype.rpcCall=function e(t,r,i,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,r,i,o);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return a.emit("error",e,t),s(e);if(null!==r){if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){s(e)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},s.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},r.exports}),(function(){return{"../util/minimal":__cjsMetaURL$8}}));var __cjsMetaURL$e="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/rpc.js";loader.define(__cjsMetaURL$e,(function(e,t,r,i,o){e.Service=t("./rpc/service"),r.exports}),(function(){return{"./rpc/service":__cjsMetaURL$d}}));var __cjsMetaURL$f="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/roots.js";loader.define(__cjsMetaURL$f,(function(e,t,r,i,o){r.exports={},r.exports}),{});var __cjsMetaURL$g="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/index-minimal.js";loader.define(__cjsMetaURL$g,(function(e,t,r,i,o){var n=e;function s(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=t("./writer"),n.BufferWriter=t("./writer_buffer"),n.Reader=t("./reader"),n.BufferReader=t("./reader_buffer"),n.util=t("./util/minimal"),n.rpc=t("./rpc"),n.roots=t("./roots"),n.configure=s,s(),r.exports}),(function(){return{"./writer":__cjsMetaURL$9,"./writer_buffer":__cjsMetaURL$a,"./reader":__cjsMetaURL$b,"./reader_buffer":__cjsMetaURL$c,"./util/minimal":__cjsMetaURL$8,"./rpc":__cjsMetaURL$e,"./roots":__cjsMetaURL$f}}));var __cjsMetaURL$h="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/@protobufjs/codegen/index.js";loader.define(__cjsMetaURL$h,(function(e,t,r,i,o){function n(e,t){"string"==typeof e&&(t=e,e=void 0);var r=[];function i(e){if("string"!=typeof e){var t=o();if(n.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var s=Object.keys(e),a=new Array(s.length+1),c=new Array(s.length),l=0;l<s.length;)a[l]=s[l],c[l]=e[s[l++]];return a[l]=t,Function.apply(null,a).apply(null,c)}return Function(t)()}for(var u=new Array(arguments.length-1),p=0;p<u.length;)u[p]=arguments[++p];if(p=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var r=u[p++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"})),p!==u.length)throw Error("parameter count mismatch");return r.push(e),i}function o(i){return"function "+(i||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return i.toString=o,i}r.exports=n,n.verbose=!1,r.exports}),{});var __cjsMetaURL$i="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/@protobufjs/fetch/index.js";loader.define(__cjsMetaURL$i,(function(e,t,r,i,o){r.exports=a;var n=t("@protobufjs/aspromise"),s=t("@protobufjs/inquire")("fs");function a(e,t,r){return"function"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&s&&s.readFile?s.readFile(e,(function(i,o){return i&&"undefined"!=typeof XMLHttpRequest?a.xhr(e,t,r):i?r(i):r(null,t.binary?o:o.toString("utf8"))})):a.xhr(e,t,r):n(a,this,e,t)}a.xhr=function(e,t,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState){if(0!==i.status&&200!==i.status)return r(Error("status "+i.status));if(t.binary){var e=i.response;if(!e){e=[];for(var o=0;o<i.responseText.length;++o)e.push(255&i.responseText.charCodeAt(o))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,i.responseText)}},t.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()},r.exports}),(function(){return{"@protobufjs/aspromise":__cjsMetaURL,"@protobufjs/inquire":__cjsMetaURL$4}}));var __cjsMetaURL$j="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/@protobufjs/path/index.js";loader.define(__cjsMetaURL$j,(function(e,t,r,i,o){var n=e,s=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},a=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=s(e),i="";r&&(i=t.shift()+"/");for(var o=0;o<t.length;)".."===t[o]?o>0&&".."!==t[o-1]?t.splice(--o,2):r?t.splice(o,1):++o:"."===t[o]?t.splice(o,1):++o;return i+t.join("/")};n.resolve=function(e,t,r){return r||(t=a(t)),s(t)?t:(r||(e=a(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?a(e+"/"+t):t)},r.exports}),{});var __cjsMetaURL$k="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/namespace.js";loader.define(__cjsMetaURL$k,(function(e,t,r,i,o){r.exports=f;var n=t("./object");((f.prototype=Object.create(n.prototype)).constructor=f).className="Namespace";var s,a,c,l=t("./field"),u=t("./util"),p=t("./oneof");function d(e,t){if(e&&e.length){for(var r={},i=0;i<e.length;++i)r[e[i].name]=e[i].toJSON(t);return r}}function f(e,t){n.call(this,e,t),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function h(e){e._nestedArray=null,e._lookupCache={};for(var t=e;t=t.parent;)t._lookupCache={};return e}f.fromJSON=function(e,t){return new f(e,t.options).addJSON(t.nested)},f.arrayToJSON=d,f.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0;return!1},f.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(f.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=u.toArray(this.nested))}}),f.prototype.toJSON=function(e){return u.toObject(["options",this.options,"nested",d(this.nestedArray,e)])},f.prototype.addJSON=function(e){if(e)for(var t,r=Object.keys(e),i=0;i<r.length;++i)t=e[r[i]],this.add((void 0!==t.fields?s.fromJSON:void 0!==t.values?c.fromJSON:void 0!==t.methods?a.fromJSON:void 0!==t.id?l.fromJSON:f.fromJSON)(r[i],t));return this},f.prototype.get=function(e){return this.nested&&this.nested[e]||null},f.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof c)return this.nested[e].values;throw Error("no such enum: "+e)},f.prototype.add=function(e){if(!(e instanceof l&&void 0!==e.extend||e instanceof s||e instanceof p||e instanceof c||e instanceof a||e instanceof f))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof f&&e instanceof f)||t instanceof s||t instanceof a)throw Error("duplicate name '"+e.name+"' in "+this);for(var r=t.nestedArray,i=0;i<r.length;++i)e.add(r[i]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};this.nested[e.name]=e,this instanceof s||this instanceof a||this instanceof c||this instanceof l||e._edition||(e._edition=e._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var o=this;o=o.parent;)o._needsRecursiveFeatureResolution=!0,o._needsRecursiveResolve=!0;return e.onAdd(this),h(this)},f.prototype.remove=function(e){if(!(e instanceof n))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),h(this)},f.prototype.define=function(e,t){if(u.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var i=e.shift();if(r.nested&&r.nested[i]){if(!((r=r.nested[i])instanceof f))throw Error("path conflicts with non-namespace objects")}else r.add(r=new f(i))}return t&&r.addJSON(t),r},f.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var e=this.nestedArray,t=0;for(this.resolve();t<e.length;)e[t]instanceof f?e[t++].resolveAll():e[t++].resolve();return this._needsRecursiveResolve=!1,this},f.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(this._needsRecursiveFeatureResolution=!1,e=this._edition||e,n.prototype._resolveFeaturesRecursive.call(this,e),this.nestedArray.forEach((function(t){t._resolveFeaturesRecursive(e)})),this):this},f.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),u.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;var i=e.join(".");if(""===e[0])return this.root.lookup(e.slice(1),t);var o=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+i];if(o&&(!t||t.indexOf(o.constructor)>-1))return o;if((o=this._lookupImpl(e,i))&&(!t||t.indexOf(o.constructor)>-1))return o;if(r)return null;for(var n=this;n.parent;){if((o=n.parent._lookupImpl(e,i))&&(!t||t.indexOf(o.constructor)>-1))return o;n=n.parent}return null},f.prototype._lookupImpl=function(e,t){if(Object.prototype.hasOwnProperty.call(this._lookupCache,t))return this._lookupCache[t];var r=this.get(e[0]),i=null;if(r)1===e.length?i=r:r instanceof f&&(e=e.slice(1),i=r._lookupImpl(e,e.join(".")));else for(var o=0;o<this.nestedArray.length;++o)this._nestedArray[o]instanceof f&&(r=this._nestedArray[o]._lookupImpl(e,t))&&(i=r);return this._lookupCache[t]=i,i},f.prototype.lookupType=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such type: "+e);return t},f.prototype.lookupEnum=function(e){var t=this.lookup(e,[c]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},f.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[s,c]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},f.prototype.lookupService=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},f._configure=function(e,t,r){s=e,a=t,c=r},r.exports}),(function(){return{"./object":__cjsMetaURL$z,"./field":__cjsMetaURL$x,"./util":__cjsMetaURL$v,"./oneof":__cjsMetaURL$y}}));var __cjsMetaURL$l="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/mapfield.js";loader.define(__cjsMetaURL$l,(function(e,t,r,i,o){r.exports=c;var n=t("./field");((c.prototype=Object.create(n.prototype)).constructor=c).className="MapField";var s=t("./types"),a=t("./util");function c(e,t,r,i,o,s){if(n.call(this,e,t,i,void 0,void 0,o,s),!a.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}c.fromJSON=function(e,t){return new c(e,t.id,t.keyType,t.type,t.options,t.comment)},c.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},c.prototype.resolve=function(){if(this.resolved)return this;if(void 0===s.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},c.d=function(e,t,r){return"function"==typeof r?r=a.decorateType(r).name:r&&"object"==typeof r&&(r=a.decorateEnum(r).name),function(i,o){a.decorateType(i.constructor).add(new c(o,e,t,r))}},r.exports}),(function(){return{"./field":__cjsMetaURL$x,"./types":__cjsMetaURL$w,"./util":__cjsMetaURL$v}}));var __cjsMetaURL$m="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/method.js";loader.define(__cjsMetaURL$m,(function(e,t,r,i,o){r.exports=a;var n=t("./object");((a.prototype=Object.create(n.prototype)).constructor=a).className="Method";var s=t("./util");function a(e,t,r,i,o,a,c,l,u){if(s.isObject(o)?(c=o,o=a=void 0):s.isObject(a)&&(c=a,a=void 0),void 0!==t&&!s.isString(t))throw TypeError("type must be a string");if(!s.isString(r))throw TypeError("requestType must be a string");if(!s.isString(i))throw TypeError("responseType must be a string");n.call(this,e,c),this.type=t||"rpc",this.requestType=r,this.requestStream=!!o||void 0,this.responseType=i,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l,this.parsedOptions=u}a.fromJSON=function(e,t){return new a(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},a.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))},r.exports}),(function(){return{"./object":__cjsMetaURL$z,"./util":__cjsMetaURL$v}}));var __cjsMetaURL$n="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/service.js";loader.define(__cjsMetaURL$n,(function(e,t,r,i,o){r.exports=l;var n=t("./namespace");((l.prototype=Object.create(n.prototype)).constructor=l).className="Service";var s=t("./method"),a=t("./util"),c=t("./rpc");function l(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function u(e){return e._methodsArray=null,e}l.fromJSON=function(e,t){var r=new l(e,t.options);if(t.methods)for(var i=Object.keys(t.methods),o=0;o<i.length;++o)r.add(s.fromJSON(i[o],t.methods[i[o]]));return t.nested&&r.addJSON(t.nested),t.edition&&(r._edition=t.edition),r.comment=t.comment,r._defaultEdition="proto3",r},l.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return a.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(l.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=a.toArray(this.methods))}}),l.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},l.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;n.prototype.resolve.call(this);for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return this},l.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(e=this._edition||e,n.prototype._resolveFeaturesRecursive.call(this,e),this.methodsArray.forEach((function(t){t._resolveFeaturesRecursive(e)})),this):this},l.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof s?(this.methods[e.name]=e,e.parent=this,u(this)):n.prototype.add.call(this,e)},l.prototype.remove=function(e){if(e instanceof s){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,u(this)}return n.prototype.remove.call(this,e)},l.prototype.create=function(e,t,r){for(var i,o=new c.Service(e,t,r),n=0;n<this.methodsArray.length;++n){var s=a.lcFirst((i=this._methodsArray[n]).resolve().name).replace(/[^$\w_]/g,"");o[s]=a.codegen(["r","c"],a.isReserved(s)?s+"_":s)("return this.rpcCall(m,q,s,r,c)")({m:i,q:i.resolvedRequestType.ctor,s:i.resolvedResponseType.ctor})}return o},r.exports}),(function(){return{"./namespace":__cjsMetaURL$k,"./method":__cjsMetaURL$m,"./util":__cjsMetaURL$v,"./rpc":__cjsMetaURL$e}}));var __cjsMetaURL$o="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/message.js";loader.define(__cjsMetaURL$o,(function(e,t,r,i,o){r.exports=s;var n=t("./util/minimal");function s(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}s.create=function(e){return this.$type.create(e)},s.encode=function(e,t){return this.$type.encode(e,t)},s.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},s.decode=function(e){return this.$type.decode(e)},s.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},s.verify=function(e){return this.$type.verify(e)},s.fromObject=function(e){return this.$type.fromObject(e)},s.toObject=function(e,t){return this.$type.toObject(e,t)},s.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)},r.exports}),(function(){return{"./util/minimal":__cjsMetaURL$8}}));var __cjsMetaURL$p="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/decoder.js";loader.define(__cjsMetaURL$p,(function(e,t,r,i,o){r.exports=function(e){for(var t=a.codegen(["r","l","e"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),r=0;r<e.fieldsArray.length;++r){var i=e._fieldsArray[r].resolve(),o=i.resolvedType instanceof n?"int32":i.type,l="m"+a.safeProp(i.name);t("case %i: {",i.id),i.map?(t("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos"),void 0!==s.defaults[i.keyType]?t("k=%j",s.defaults[i.keyType]):t("k=null"),void 0!==s.defaults[o]?t("value=%j",s.defaults[o]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",i.keyType)("case 2:"),void 0===s.basic[o]?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",o),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==s.long[i.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',l):t("%s[k]=value",l)):i.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),void 0!==s.packed[o]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,o)("}else"),void 0===s.basic[o]?t(i.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",l,r):t("%s.push(r.%s())",l,o)):void 0===s.basic[o]?t(i.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",l,r):t("%s=r.%s()",l,o),t("break")("}")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var u=e._fieldsArray[r];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",c(u))}return t("return m")};var n=t("./enum"),s=t("./types"),a=t("./util");function c(e){return"missing required '"+e.name+"'"}r.exports}),(function(){return{"./enum":__cjsMetaURL$A,"./types":__cjsMetaURL$w,"./util":__cjsMetaURL$v}}));var __cjsMetaURL$q="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/verifier.js";loader.define(__cjsMetaURL$q,(function(e,t,r,i,o){r.exports=function(e){var t=s.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,i={};r.length&&t("var p={}");for(var o=0;o<e.fieldsArray.length;++o){var n=e._fieldsArray[o].resolve(),u="m"+s.safeProp(n.name);if(n.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",u,n.name),n.map)t("if(!util.isObject(%s))",u)("return%j",a(n,"object"))("var k=Object.keys(%s)",u)("for(var i=0;i<k.length;++i){"),l(t,n,"k[i]"),c(t,n,o,u+"[k[i]]")("}");else if(n.repeated)t("if(!Array.isArray(%s))",u)("return%j",a(n,"array"))("for(var i=0;i<%s.length;++i){",u),c(t,n,o,u+"[i]")("}");else{if(n.partOf){var p=s.safeProp(n.partOf.name);1===i[n.partOf.name]&&t("if(p%s===1)",p)("return%j",n.partOf.name+": multiple values"),i[n.partOf.name]=1,t("p%s=1",p)}c(t,n,o,u)}n.optional&&t("}")}return t("return null")};var n=t("./enum"),s=t("./util");function a(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function c(e,t,r,i){if(t.resolvedType)if(t.resolvedType instanceof n){e("switch(%s){",i)("default:")("return%j",a(t,"enum value"));for(var o=Object.keys(t.resolvedType.values),s=0;s<o.length;++s)e("case %i:",t.resolvedType.values[o[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",a(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",a(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",a(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",a(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",a(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",a(t,"buffer"))}return e}function l(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",a(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",a(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",a(t,"boolean key"))}return e}r.exports}),(function(){return{"./enum":__cjsMetaURL$A,"./util":__cjsMetaURL$v}}));var __cjsMetaURL$r="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/converter.js";loader.define(__cjsMetaURL$r,(function(e,t,r,i,o){var n=e,s=t("./enum"),a=t("./util");function c(e,t,r,i){var o=!1;if(t.resolvedType)if(t.resolvedType instanceof s){e("switch(d%s){",i);for(var n=t.resolvedType.values,a=Object.keys(n),c=0;c<a.length;++c)n[a[c]]!==t.typeDefault||o||(e("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',i,i,i),t.repeated||e("break"),o=!0),e("case%j:",a[c])("case %i:",n[a[c]])("m%s=%j",i,n[a[c]])("break");e("}")}else e('if(typeof d%s!=="object")',i)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",i,r,i);else{var l=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",i,i);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",i,i);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",i,i);break;case"uint64":l=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",i,i,l)('else if(typeof d%s==="string")',i)("m%s=parseInt(d%s,10)",i,i)('else if(typeof d%s==="number")',i)("m%s=d%s",i,i)('else if(typeof d%s==="object")',i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",i,i,i,l?"true":"");break;case"bytes":e('if(typeof d%s==="string")',i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",i,i,i)("else if(d%s.length >= 0)",i)("m%s=d%s",i,i);break;case"string":e("m%s=String(d%s)",i,i);break;case"bool":e("m%s=Boolean(d%s)",i,i)}}return e}function l(e,t,r,i){if(t.resolvedType)t.resolvedType instanceof s?e("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",i,r,i,i,r,i,i):e("d%s=types[%i].toObject(m%s,o)",i,r,i);else{var o=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",i,i,i,i);break;case"uint64":o=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',i)("d%s=o.longs===String?String(m%s):m%s",i,i,i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",i,i,i,i,o?"true":"",i);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",i,i,i,i,i);break;default:e("d%s=m%s",i,i)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=a.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var i=0;i<t.length;++i){var o=t[i].resolve(),n=a.safeProp(o.name);o.map?(r("if(d%s){",n)('if(typeof d%s!=="object")',n)("throw TypeError(%j)",o.fullName+": object expected")("m%s={}",n)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",n),c(r,o,i,n+"[ks[i]]")("}")("}")):o.repeated?(r("if(d%s){",n)("if(!Array.isArray(d%s))",n)("throw TypeError(%j)",o.fullName+": array expected")("m%s=[]",n)("for(var i=0;i<d%s.length;++i){",n),c(r,o,i,n+"[i]")("}")("}")):(o.resolvedType instanceof s||r("if(d%s!=null){",n),c(r,o,i,n),o.resolvedType instanceof s||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(a.compareFieldsById);if(!t.length)return a.codegen()("return {}");for(var r=a.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],o=[],n=[],c=0;c<t.length;++c)t[c].partOf||(t[c].resolve().repeated?i:t[c].map?o:n).push(t[c]);if(i.length){for(r("if(o.arrays||o.defaults){"),c=0;c<i.length;++c)r("d%s=[]",a.safeProp(i[c].name));r("}")}if(o.length){for(r("if(o.objects||o.defaults){"),c=0;c<o.length;++c)r("d%s={}",a.safeProp(o[c].name));r("}")}if(n.length){for(r("if(o.defaults){"),c=0;c<n.length;++c){var u=n[c],p=a.safeProp(u.name);if(u.resolvedType instanceof s)r("d%s=o.enums===String?%j:%j",p,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",p)("}else")("d%s=o.longs===String?%j:%i",p,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var d="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",p,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",p,d)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",p,p)("}")}else r("d%s=%j",p,u.typeDefault)}r("}")}var f=!1;for(c=0;c<t.length;++c){u=t[c];var h=e._fieldsArray.indexOf(u);p=a.safeProp(u.name);u.map?(f||(f=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",p,p)("d%s={}",p)("for(var j=0;j<ks2.length;++j){"),l(r,u,h,p+"[ks2[j]]")("}")):u.repeated?(r("if(m%s&&m%s.length){",p,p)("d%s=[]",p)("for(var j=0;j<m%s.length;++j){",p),l(r,u,h,p+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",p,u.name),l(r,u,h,p),u.partOf&&r("if(o.oneofs)")("d%s=%j",a.safeProp(u.partOf.name),u.name)),r("}")}return r("return d")},r.exports}),(function(){return{"./enum":__cjsMetaURL$A,"./util":__cjsMetaURL$v}}));var __cjsMetaURL$s="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/wrappers.js";loader.define(__cjsMetaURL$s,(function(e,t,r,i,o){var n=e,s=t("./message");n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var i="."===e["@type"].charAt(0)?e["@type"].slice(1):e["@type"];return-1===i.indexOf("/")&&(i="/"+i),this.create({type_url:i,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="",i="";if(t&&t.json&&e.type_url&&e.value){i=e.type_url.substring(e.type_url.lastIndexOf("/")+1),r=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var o=this.lookup(i);o&&(e=o.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof s){var n=e.$type.toObject(e,t);return""===r&&(r="type.googleapis.com/"),i=r+("."===e.$type.fullName[0]?e.$type.fullName.slice(1):e.$type.fullName),n["@type"]=i,n}return this.toObject(e,t)}},r.exports}),(function(){return{"./message":__cjsMetaURL$o}}));var __cjsMetaURL$t="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/type.js";loader.define(__cjsMetaURL$t,(function(e,t,r,i,o){r.exports=b;var n=t("./namespace");((b.prototype=Object.create(n.prototype)).constructor=b).className="Type";var s=t("./enum"),a=t("./oneof"),c=t("./field"),l=t("./mapfield"),u=t("./service"),p=t("./message"),d=t("./reader"),f=t("./writer"),h=t("./util"),_=t("./encoder"),y=t("./decoder"),g=t("./verifier"),m=t("./converter"),v=t("./wrappers");function b(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function $(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(b.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],i=r.id;if(this._fieldsById[i])throw Error("duplicate id "+i+" in "+this);this._fieldsById[i]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=b.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof p||((e.prototype=new p).constructor=e,h.merge(e.prototype,t)),e.$type=e.prototype.$type=this,h.merge(e,p,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var i={};for(r=0;r<this.oneofsArray.length;++r)i[this._oneofsArray[r].resolve().name]={get:h.oneOfGetter(this._oneofsArray[r].oneof),set:h.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,i)}}}),b.generateConstructor=function(e){for(var t,r=h.codegen(["p"],e.name),i=0;i<e.fieldsArray.length;++i)(t=e._fieldsArray[i]).map?r("this%s={}",h.safeProp(t.name)):t.repeated&&r("this%s=[]",h.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},b.fromJSON=function(e,t){var r=new b(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var i=Object.keys(t.fields),o=0;o<i.length;++o)r.add((void 0!==t.fields[i[o]].keyType?l.fromJSON:c.fromJSON)(i[o],t.fields[i[o]]));if(t.oneofs)for(i=Object.keys(t.oneofs),o=0;o<i.length;++o)r.add(a.fromJSON(i[o],t.oneofs[i[o]]));if(t.nested)for(i=Object.keys(t.nested),o=0;o<i.length;++o){var p=t.nested[i[o]];r.add((void 0!==p.id?c.fromJSON:void 0!==p.fields?b.fromJSON:void 0!==p.values?s.fromJSON:void 0!==p.methods?u.fromJSON:n.fromJSON)(i[o],p))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r},b.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return h.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},b.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;n.prototype.resolveAll.call(this);var e=this.oneofsArray;for(r=0;r<e.length;)e[r++].resolve();for(var t=this.fieldsArray,r=0;r<t.length;)t[r++].resolve();return this},b.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(e=this._edition||e,n.prototype._resolveFeaturesRecursive.call(this,e),this.oneofsArray.forEach((function(t){t._resolveFeatures(e)})),this.fieldsArray.forEach((function(t){t._resolveFeatures(e)})),this):this},b.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},b.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof c&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),$(this)}return e instanceof a?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),$(this)):n.prototype.add.call(this,e)},b.prototype.remove=function(e){if(e instanceof c&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),$(this)}if(e instanceof a){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),$(this)}return n.prototype.remove.call(this,e)},b.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},b.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},b.prototype.create=function(e){return new this.ctor(e)},b.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=_(this)({Writer:f,types:t,util:h}),this.decode=y(this)({Reader:d,types:t,util:h}),this.verify=g(this)({types:t,util:h}),this.fromObject=m.fromObject(this)({types:t,util:h}),this.toObject=m.toObject(this)({types:t,util:h});var i=v[e];if(i){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(o),o.toObject=this.toObject,this.toObject=i.toObject.bind(o)}return this},b.prototype.encode=function(e,t){return this.setup().encode(e,t)},b.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},b.prototype.decode=function(e,t){return this.setup().decode(e,t)},b.prototype.decodeDelimited=function(e){return e instanceof d||(e=d.create(e)),this.decode(e,e.uint32())},b.prototype.verify=function(e){return this.setup().verify(e)},b.prototype.fromObject=function(e){return this.setup().fromObject(e)},b.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},b.d=function(e){return function(t){h.decorateType(t,e)}},r.exports}),(function(){return{"./namespace":__cjsMetaURL$k,"./enum":__cjsMetaURL$A,"./oneof":__cjsMetaURL$y,"./field":__cjsMetaURL$x,"./mapfield":__cjsMetaURL$l,"./service":__cjsMetaURL$n,"./message":__cjsMetaURL$o,"./reader":__cjsMetaURL$b,"./writer":__cjsMetaURL$9,"./util":__cjsMetaURL$v,"./encoder":__cjsMetaURL$B,"./decoder":__cjsMetaURL$p,"./verifier":__cjsMetaURL$q,"./converter":__cjsMetaURL$r,"./wrappers":__cjsMetaURL$s}}));var __cjsMetaURL$u="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/root.js";loader.define(__cjsMetaURL$u,(function(e,t,r,i,o){r.exports=f;var n=t("./namespace");((f.prototype=Object.create(n.prototype)).constructor=f).className="Root";var s,a,c,l=t("./field"),u=t("./enum"),p=t("./oneof"),d=t("./util");function f(e){n.call(this,"",e),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}function h(){}f.fromJSON=function(e,t){return t||(t=new f),e.options&&t.setOptions(e.options),t.addJSON(e.nested).resolveAll()},f.prototype.resolvePath=d.path.resolve,f.prototype.fetch=d.fetch,f.prototype.load=function e(t,r,i){"function"==typeof r&&(i=r,r=void 0);var o=this;if(!i)return d.asPromise(e,o,t,r);var n=i===h;function s(e,t){if(i){if(n)throw e;t&&t.resolveAll();var r=i;i=null,r(e,t)}}function l(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in c)return r}return null}function u(e,t){try{if(d.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),d.isString(t)){a.filename=e;var i,c=a(t,o,r),u=0;if(c.imports)for(;u<c.imports.length;++u)(i=l(c.imports[u])||o.resolvePath(e,c.imports[u]))&&p(i);if(c.weakImports)for(u=0;u<c.weakImports.length;++u)(i=l(c.weakImports[u])||o.resolvePath(e,c.weakImports[u]))&&p(i,!0)}else o.setOptions(t.options).addJSON(t.nested)}catch(e){s(e)}n||f||s(null,o)}function p(e,t){if(e=l(e)||e,!(o.files.indexOf(e)>-1))if(o.files.push(e),e in c)n?u(e,c[e]):(++f,setTimeout((function(){--f,u(e,c[e])})));else if(n){var r;try{r=d.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||s(e))}u(e,r)}else++f,o.fetch(e,(function(r,n){--f,i&&(r?t?f||s(null,o):s(r):u(e,n))}))}var f=0;d.isString(t)&&(t=[t]);for(var _,y=0;y<t.length;++y)(_=o.resolvePath("",t[y]))&&p(_);return n?(o.resolveAll(),o):(f||s(null,o),o)},f.prototype.loadSync=function(e,t){if(!d.isNode)throw Error("not supported");return this.load(e,t,h)},f.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return n.prototype.resolveAll.call(this)};var _=/^[A-Z]/;function y(e,t){var r=t.parent.lookup(t.extend);if(r){var i=new l(t.fullName,t.id,t.type,t.rule,void 0,t.options);return r.get(i.name)||(i.declaringField=t,t.extensionField=i,r.add(i)),!0}return!1}f.prototype._handleAdd=function(e){if(e instanceof l)void 0===e.extend||e.extensionField||y(0,e)||this.deferred.push(e);else if(e instanceof u)_.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof p)){if(e instanceof s)for(var t=0;t<this.deferred.length;)y(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);_.test(e.name)&&(e.parent[e.name]=e)}(e instanceof s||e instanceof u||e instanceof l)&&(this._fullyQualifiedObjects[e.fullName]=e)},f.prototype._handleRemove=function(e){if(e instanceof l){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof u)_.test(e.name)&&delete e.parent[e.name];else if(e instanceof n){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);_.test(e.name)&&delete e.parent[e.name]}delete this._fullyQualifiedObjects[e.fullName]},f._configure=function(e,t,r){s=e,a=t,c=r},r.exports}),(function(){return{"./namespace":__cjsMetaURL$k,"./field":__cjsMetaURL$x,"./enum":__cjsMetaURL$A,"./oneof":__cjsMetaURL$y,"./util":__cjsMetaURL$v}}));var __cjsMetaURL$v="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/util.js";loader.define(__cjsMetaURL$v,(function(e,t,r,i,o){var n,s,a=r.exports=t("./util/minimal"),c=t("./roots");a.codegen=t("@protobufjs/codegen"),a.fetch=t("@protobufjs/fetch"),a.path=t("@protobufjs/path"),a.fs=a.inquire("fs"),a.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),i=0;i<t.length;)r[i]=e[t[i++]];return r}return[]},a.toObject=function(e){for(var t={},r=0;r<e.length;){var i=e[r++],o=e[r++];void 0!==o&&(t[i]=o)}return t};var l=/\\/g,u=/"/g;a.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},a.safeProp=function(e){return!/^[$\w_]+$/.test(e)||a.isReserved(e)?'["'+e.replace(l,"\\\\").replace(u,'\\"')+'"]':"."+e},a.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var p=/_([a-z])/g;a.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(p,(function(e,t){return t.toUpperCase()}))},a.compareFieldsById=function(e,t){return e.id-t.id},a.decorateType=function(e,r){if(e.$type)return r&&e.$type.name!==r&&(a.decorateRoot.remove(e.$type),e.$type.name=r,a.decorateRoot.add(e.$type)),e.$type;n||(n=t("./type"));var i=new n(r||e.name);return a.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var d=0;a.decorateEnum=function(e){if(e.$type)return e.$type;s||(s=t("./enum"));var r=new s("Enum"+d++,e);return a.decorateRoot.add(r),Object.defineProperty(e,"$type",{value:r,enumerable:!1}),r},a.setProperty=function(e,t,r,i){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,r,o){var n=r.shift();if("__proto__"===n||"prototype"===n)return t;if(r.length>0)t[n]=e(t[n]||{},r,o);else{var s=t[n];if(s&&i)return t;s&&(o=[].concat(s).concat(o)),t[n]=o}return t}(e,t=t.split("."),r)},Object.defineProperty(a,"decorateRoot",{get:function(){return c.decorated||(c.decorated=new(t("./root")))}}),r.exports}),(function(){return{"./util/minimal":__cjsMetaURL$8,"./roots":__cjsMetaURL$f,"@protobufjs/codegen":__cjsMetaURL$h,"@protobufjs/fetch":__cjsMetaURL$i,"@protobufjs/path":__cjsMetaURL$j,"./type":__cjsMetaURL$t,"./enum":__cjsMetaURL$A,"./root":__cjsMetaURL$u}}));var __cjsMetaURL$w="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/types.js";loader.define(__cjsMetaURL$w,(function(e,t,r,i,o){var n=e,s=t("./util"),a=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function c(e,t){var r=0,i={};for(t|=0;r<e.length;)i[a[r+t]]=e[r++];return i}n.basic=c([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=c([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",s.emptyArray,null]),n.long=c([0,0,0,1,1],7),n.mapKey=c([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=c([1,5,0,0,0,5,5,0,0,0,1,1,0]),r.exports}),(function(){return{"./util":__cjsMetaURL$v}}));var __cjsMetaURL$x="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/field.js";loader.define(__cjsMetaURL$x,(function(e,t,r,i,o){r.exports=p;var n=t("./object");((p.prototype=Object.create(n.prototype)).constructor=p).className="Field";var s,a=t("./enum"),c=t("./types"),l=t("./util"),u=/^required|optional|repeated$/;function p(e,t,r,i,o,s,a){if(l.isObject(i)?(a=o,s=i,i=o=void 0):l.isObject(o)&&(a=s,s=o,o=void 0),n.call(this,e,s),!l.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!l.isString(r))throw TypeError("type must be a string");if(void 0!==i&&!u.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==o&&!l.isString(o))throw TypeError("extend must be a string");"proto3_optional"===i&&(i="optional"),this.rule=i&&"optional"!==i?i:void 0,this.type=r,this.id=t,this.extend=o||void 0,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!l.Long&&void 0!==c.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=a}p.fromJSON=function(e,t){var r=new p(e,t.id,t.type,t.rule,t.extend,t.options,t.comment);return t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r},Object.defineProperty(p.prototype,"required",{get:function(){return"LEGACY_REQUIRED"===this._features.field_presence}}),Object.defineProperty(p.prototype,"optional",{get:function(){return!this.required}}),Object.defineProperty(p.prototype,"delimited",{get:function(){return this.resolvedType instanceof s&&"DELIMITED"===this._features.message_encoding}}),Object.defineProperty(p.prototype,"packed",{get:function(){return"PACKED"===this._features.repeated_field_encoding}}),Object.defineProperty(p.prototype,"hasPresence",{get:function(){return!this.repeated&&!this.map&&(this.partOf||this.declaringField||this.extensionField||"IMPLICIT"!==this._features.field_presence)}}),p.prototype.setOption=function(e,t,r){return n.prototype.setOption.call(this,e,t,r)},p.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return l.toObject(["edition",this._editionToJSON(),"rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},p.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=c.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof s?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof a&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof a||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=l.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;l.base64.test(this.typeDefault)?l.base64.decode(this.typeDefault,e=l.newBuffer(l.base64.length(this.typeDefault)),0):l.utf8.write(this.typeDefault,e=l.newBuffer(l.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=l.emptyObject:this.repeated?this.defaultValue=l.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof s&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},p.prototype._inferLegacyProtoFeatures=function(e){if("proto2"!==e&&"proto3"!==e)return{};var t={};if("required"===this.rule&&(t.field_presence="LEGACY_REQUIRED"),this.parent&&void 0===c.defaults[this.type]){var r=this.parent.get(this.type.split(".").pop());r&&r instanceof s&&r.group&&(t.message_encoding="DELIMITED")}return!0===this.getOption("packed")?t.repeated_field_encoding="PACKED":!1===this.getOption("packed")&&(t.repeated_field_encoding="EXPANDED"),t},p.prototype._resolveFeatures=function(e){return n.prototype._resolveFeatures.call(this,this._edition||e)},p.d=function(e,t,r,i){return"function"==typeof t?t=l.decorateType(t).name:t&&"object"==typeof t&&(t=l.decorateEnum(t).name),function(o,n){l.decorateType(o.constructor).add(new p(n,e,t,r,{default:i}))}},p._configure=function(e){s=e},r.exports}),(function(){return{"./object":__cjsMetaURL$z,"./enum":__cjsMetaURL$A,"./types":__cjsMetaURL$w,"./util":__cjsMetaURL$v}}));var __cjsMetaURL$y="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/oneof.js";loader.define(__cjsMetaURL$y,(function(e,t,r,i,o){r.exports=c;var n=t("./object");((c.prototype=Object.create(n.prototype)).constructor=c).className="OneOf";var s=t("./field"),a=t("./util");function c(e,t,r,i){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function l(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}c.fromJSON=function(e,t){return new c(e,t.oneof,t.options,t.comment)},c.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},c.prototype.add=function(e){if(!(e instanceof s))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,l(this),this},c.prototype.remove=function(e){if(!(e instanceof s))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},c.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var r=e.get(this.oneof[t]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}l(this)},c.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},Object.defineProperty(c.prototype,"isProto3Optional",{get:function(){if(null==this.fieldsArray||1!==this.fieldsArray.length)return!1;var e=this.fieldsArray[0];return null!=e.options&&!0===e.options.proto3_optional}}),c.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){a.decorateType(t.constructor).add(new c(r,e)),Object.defineProperty(t,r,{get:a.oneOfGetter(e),set:a.oneOfSetter(e)})}},r.exports}),(function(){return{"./object":__cjsMetaURL$z,"./field":__cjsMetaURL$x,"./util":__cjsMetaURL$v}}));var __cjsMetaURL$z="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/object.js";loader.define(__cjsMetaURL$z,(function(e,t,r,i,o){r.exports=p,p.className="ReflectionObject";var n,s=t("./oneof"),a=t("./util"),c={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},l={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},u={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function p(e,t){if(!a.isString(e))throw TypeError("name must be a string");if(t&&!a.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(p.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),p.prototype.toJSON=function(){throw Error()},p.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},p.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},p.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},p.prototype._resolveFeaturesRecursive=function(e){return this._resolveFeatures(this._edition||e)},p.prototype._resolveFeatures=function(e){if(!this._featuresResolved){var t={};if(!e)throw new Error("Unknown edition for "+this.fullName);var r=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(e));if(this._edition){if("proto2"===e)t=Object.assign({},l);else if("proto3"===e)t=Object.assign({},u);else{if("2023"!==e)throw new Error("Unknown edition: "+e);t=Object.assign({},c)}return this._features=Object.assign(t,r||{}),void(this._featuresResolved=!0)}if(this.partOf instanceof s){var i=Object.assign({},this.partOf._features);this._features=Object.assign(i,r||{})}else if(this.declaringField);else{if(!this.parent)throw new Error("Unable to find a parent for "+this.fullName);var o=Object.assign({},this.parent._features);this._features=Object.assign(o,r||{})}this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}},p.prototype._inferLegacyProtoFeatures=function(){return{}},p.prototype.getOption=function(e){if(this.options)return this.options[e]},p.prototype.setOption=function(e,t,r){return this.options||(this.options={}),/^features\./.test(e)?a.setProperty(this.options,e,t,r):r&&void 0!==this.options[e]||(this.getOption(e)!==t&&(this.resolved=!1),this.options[e]=t),this},p.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(r){var o=i.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(o){var n=o[e];a.setProperty(n,r,t)}else(o={})[e]=a.setProperty({},r,t),i.push(o)}else{var s={};s[e]=t,i.push(s)}return this},p.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)this.setOption(r[i],e[r[i]],t);return this},p.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},p.prototype._editionToJSON=function(){if(this._edition&&"proto3"!==this._edition)return this._edition},p._configure=function(e){n=e},r.exports}),(function(){return{"./oneof":__cjsMetaURL$y,"./util":__cjsMetaURL$v}}));var __cjsMetaURL$A="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/enum.js";loader.define(__cjsMetaURL$A,(function(e,t,r,i,o){r.exports=c;var n=t("./object");((c.prototype=Object.create(n.prototype)).constructor=c).className="Enum";var s=t("./namespace"),a=t("./util");function c(e,t,r,i,o,s){if(n.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=o||{},this.valuesOptions=s,this._valuesFeatures={},this.reserved=void 0,t)for(var a=Object.keys(t),c=0;c<a.length;++c)"number"==typeof t[a[c]]&&(this.valuesById[this.values[a[c]]=t[a[c]]]=a[c])}c.prototype._resolveFeatures=function(e){var t=this;return e=this._edition||e,n.prototype._resolveFeatures.call(this,e),Object.keys(this.values).forEach((function(e){var r=Object.assign({},t._features);t._valuesFeatures[e]=Object.assign(r,t.valuesOptions&&t.valuesOptions[e]&&t.valuesOptions[e].features)})),this},c.fromJSON=function(e,t){var r=new c(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r},c.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},c.prototype.add=function(e,t,r,i){if(!a.isString(e))throw TypeError("name must be a string");if(!a.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return i&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[e]=i||null),this.comments[e]=r||null,this},c.prototype.remove=function(e){if(!a.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this},c.prototype.isReservedId=function(e){return s.isReservedId(this.reserved,e)},c.prototype.isReservedName=function(e){return s.isReservedName(this.reserved,e)},r.exports}),(function(){return{"./object":__cjsMetaURL$z,"./namespace":__cjsMetaURL$k,"./util":__cjsMetaURL$v}}));var __cjsMetaURL$B="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/encoder.js";loader.define(__cjsMetaURL$B,(function(e,t,r,i,o){r.exports=function(e){for(var t,r=a.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),i=e.fieldsArray.slice().sort(a.compareFieldsById),o=0;o<i.length;++o){var l=i[o].resolve(),u=e._fieldsArray.indexOf(l),p=l.resolvedType instanceof n?"int32":l.type,d=s.basic[p];t="m"+a.safeProp(l.name),l.map?(r("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|s.mapKey[l.keyType],l.keyType),void 0===d?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,t):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|d,p,t),r("}")("}")):l.repeated?(r("if(%s!=null&&%s.length){",t,t),l.packed&&void 0!==s.packed[p]?r("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",p,t)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",t),void 0===d?c(r,l,u,t+"[i]"):r("w.uint32(%i).%s(%s[i])",(l.id<<3|d)>>>0,p,t)),r("}")):(l.optional&&r("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,l.name),void 0===d?c(r,l,u,t):r("w.uint32(%i).%s(%s)",(l.id<<3|d)>>>0,p,t))}return r("return w")};var n=t("./enum"),s=t("./types"),a=t("./util");function c(e,t,r,i){return t.delimited?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,i,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,i,(t.id<<3|2)>>>0)}r.exports}),(function(){return{"./enum":__cjsMetaURL$A,"./types":__cjsMetaURL$w,"./util":__cjsMetaURL$v}}));var __cjsMetaURL$C="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/index-light.js";loader.define(__cjsMetaURL$C,(function(e,t,r,i,o){var n=r.exports=t("./index-minimal");n.build="light",n.load=function(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)},n.loadSync=function(e,t){return t||(t=new n.Root),t.loadSync(e)},n.encoder=t("./encoder"),n.decoder=t("./decoder"),n.verifier=t("./verifier"),n.converter=t("./converter"),n.ReflectionObject=t("./object"),n.Namespace=t("./namespace"),n.Root=t("./root"),n.Enum=t("./enum"),n.Type=t("./type"),n.Field=t("./field"),n.OneOf=t("./oneof"),n.MapField=t("./mapfield"),n.Service=t("./service"),n.Method=t("./method"),n.Message=t("./message"),n.wrappers=t("./wrappers"),n.types=t("./types"),n.util=t("./util"),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type),r.exports}),(function(){return{"./index-minimal":__cjsMetaURL$g,"./encoder":__cjsMetaURL$B,"./decoder":__cjsMetaURL$p,"./verifier":__cjsMetaURL$q,"./converter":__cjsMetaURL$r,"./object":__cjsMetaURL$z,"./namespace":__cjsMetaURL$k,"./root":__cjsMetaURL$u,"./enum":__cjsMetaURL$A,"./type":__cjsMetaURL$t,"./field":__cjsMetaURL$x,"./oneof":__cjsMetaURL$y,"./mapfield":__cjsMetaURL$l,"./service":__cjsMetaURL$n,"./method":__cjsMetaURL$m,"./message":__cjsMetaURL$o,"./wrappers":__cjsMetaURL$s,"./types":__cjsMetaURL$w,"./util":__cjsMetaURL$v}}));var __cjsMetaURL$D="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/tokenize.js";loader.define(__cjsMetaURL$D,(function(e,t,r,i,o){r.exports=_;var n=/[\s{}=;:[\],'"()<>]/g,s=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,a=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,c=/^ *[*/]+ */,l=/^\s*\*?\/*/,u=/\n/g,p=/\s/,d=/\\(.?)/g,f={0:"\0",r:"\r",n:"\n",t:"\t"};function h(e){return e.replace(d,(function(e,t){switch(t){case"\\":case"":return t;default:return f[t]||""}}))}function _(e,t){e=e.toString();var r=0,i=e.length,o=1,d=0,f={},_=[],y=null;function g(e){return Error("illegal "+e+" (line "+o+")")}function m(t){return e.charAt(t)}function v(r,i,n){var s,a={type:e.charAt(r++),lineEmpty:!1,leading:n},p=r-(t?2:3);do{if(--p<0||"\n"===(s=e.charAt(p))){a.lineEmpty=!0;break}}while(" "===s||"\t"===s);for(var h=e.substring(r,i).split(u),_=0;_<h.length;++_)h[_]=h[_].replace(t?l:c,"").trim();a.text=h.join("\n").trim(),f[o]=a,d=o}function b(t){var r=$(t),i=e.substring(t,r);return/^\s*\/\//.test(i)}function $(e){for(var t=e;t<i&&"\n"!==m(t);)t++;return t}function w(){if(_.length>0)return _.shift();if(y)return function(){var t="'"===y?a:s;t.lastIndex=r-1;var i=t.exec(e);if(!i)throw g("string");return r=t.lastIndex,S(y),y=null,h(i[1])}();var c,l,u,d,f,w=0===r;do{if(r===i)return null;for(c=!1;p.test(u=m(r));)if("\n"===u&&(w=!0,++o),++r===i)return null;if("/"===m(r)){if(++r===i)throw g("comment");if("/"===m(r))if(t){if(d=r,f=!1,b(r-1)){f=!0;do{if((r=$(r))===i)break;if(r++,!w)break}while(b(r))}else r=Math.min(i,$(r)+1);f&&(v(d,r,w),w=!0),o++,c=!0}else{for(f="/"===m(d=r+1);"\n"!==m(++r);)if(r===i)return null;++r,f&&(v(d,r-1,w),w=!0),++o,c=!0}else{if("*"!==(u=m(r)))return"/";d=r+1,f=t||"*"===m(d);do{if("\n"===u&&++o,++r===i)throw g("comment");l=u,u=m(r)}while("*"!==l||"/"!==u);++r,f&&(v(d,r-2,w),w=!0),c=!0}}}while(c);var D=r;if(n.lastIndex=0,!n.test(m(D++)))for(;D<i&&!n.test(m(D));)++D;var I=e.substring(r,r=D);return'"'!==I&&"'"!==I||(y=I),I}function S(e){_.push(e)}function D(){if(!_.length){var e=w();if(null===e)return null;S(e)}return _[0]}return Object.defineProperty({next:w,peek:D,push:S,skip:function(e,t){var r=D();if(r===e)return w(),!0;if(!t)throw g("token '"+r+"', '"+e+"' expected");return!1},cmnt:function(e){var r,i=null;return void 0===e?(r=f[o-1],delete f[o-1],r&&(t||"*"===r.type||r.lineEmpty)&&(i=r.leading?r.text:null)):(d<e&&D(),r=f[e],delete f[e],!r||r.lineEmpty||!t&&"/"!==r.type||(i=r.leading?null:r.text)),i}},"line",{get:function(){return o}})}_.unescape=h,r.exports}),{});var __cjsMetaURL$E="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/parse.js";loader.define(__cjsMetaURL$E,(function(e,t,r,i,o){r.exports=R,R.filename=null,R.defaults={keepCase:!1};var n=t("./tokenize"),s=t("./root"),a=t("./type"),c=t("./field"),l=t("./mapfield"),u=t("./oneof"),p=t("./enum"),d=t("./service"),f=t("./method"),h=t("./object"),_=t("./types"),y=t("./util"),g=/^[1-9][0-9]*$/,m=/^-?[1-9][0-9]*$/,v=/^0[x][0-9a-fA-F]+$/,b=/^-?0[x][0-9a-fA-F]+$/,$=/^0[0-7]+$/,w=/^-?0[0-7]+$/,S=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,D=/^[a-zA-Z_][a-zA-Z_0-9]*$/,I=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function R(e,t,r){t instanceof s||(r=t,t=new s),r||(r=R.defaults);var i,o,U,k,C=r.preferTrailingComment||!1,T=n(e,r.alternateCommentMode||!1),L=T.next,j=T.push,x=T.peek,M=T.skip,A=T.cmnt,z=!0,P="proto2",O=t,E=[],N={},F=r.keepCase?function(e){return e}:y.camelCase;function B(e,t,r){var i=R.filename;return r||(R.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(i?i+", ":"")+"line "+T.line+")")}function G(){var e,t=[];do{if('"'!==(e=L())&&"'"!==e)throw B(e);t.push(L()),M(e),e=x()}while('"'===e||"'"===e);return t.join("")}function V(e){var t=L();switch(t){case"'":case'"':return j(t),G();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var r=1;"-"===e.charAt(0)&&(r=-1,e=e.substring(1));switch(e){case"inf":case"INF":case"Inf":return r*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(g.test(e))return r*parseInt(e,10);if(v.test(e))return r*parseInt(e,16);if($.test(e))return r*parseInt(e,8);if(S.test(e))return r*parseFloat(e);throw B(e,"number",t)}(t,!0)}catch(r){if(e&&I.test(t))return t;throw B(t,"value")}}function H(e,t){var r,i;do{if(!t||'"'!==(r=x())&&"'"!==r)try{e.push([i=q(L()),M("to",!0)?q(L()):i])}catch(i){if(!(t&&I.test(r)&&P>=2023))throw i;e.push(r)}else{var o=G();if(e.push(o),P>=2023)throw B(o,"id")}}while(M(",",!0));var n={options:void 0,setOption:function(e,t){void 0===this.options&&(this.options={}),this.options[e]=t}};Y(n,(function(e){if("option"!==e)throw B(e);re(n,e),M(";")}),(function(){ne(n)}))}function q(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw B(e,"id");if(m.test(e))return parseInt(e,10);if(b.test(e))return parseInt(e,16);if(w.test(e))return parseInt(e,8);throw B(e,"id")}function W(){if(void 0!==i)throw B("package");if(i=L(),!I.test(i))throw B(i,"name");O=O.define(i),M(";")}function J(){var e,t=x();switch(t){case"weak":e=U||(U=[]),L();break;case"public":L();default:e=o||(o=[])}t=G(),M(";"),e.push(t)}function X(){if(M("="),(P=G())<2023)throw B(P,"syntax");M(";")}function Z(){M("="),P=G();if(!["2023"].includes(P))throw B(P,"edition");M(";")}function K(e,t){switch(t){case"option":return re(e,t),M(";"),!0;case"message":return Q(e,t),!0;case"enum":return te(e,t),!0;case"service":return function(e,t){if(!D.test(t=L()))throw B(t,"service name");var r=new d(t);Y(r,(function(e){if(!K(r,e)){if("rpc"!==e)throw B(e);!function(e,t){var r=A(),i=t;if(!D.test(t=L()))throw B(t,"name");var o,n,s,a,c=t;M("("),M("stream",!0)&&(n=!0);if(!I.test(t=L()))throw B(t);o=t,M(")"),M("returns"),M("("),M("stream",!0)&&(a=!0);if(!I.test(t=L()))throw B(t);s=t,M(")");var l=new f(c,i,o,s,n,a);l.comment=r,Y(l,(function(e){if("option"!==e)throw B(e);re(l,e),M(";")})),e.add(l)}(r,e)}})),e.add(r),e===O&&E.push(r)}(e,t),!0;case"extend":return function(e,t){if(!I.test(t=L()))throw B(t,"reference");var r=t;Y(null,(function(t){switch(t){case"required":case"repeated":ee(e,t,r);break;case"optional":ee(e,"proto3"===P?"proto3_optional":"optional",r);break;default:if("proto2"===P||!I.test(t))throw B(t);j(t),ee(e,"optional",r)}}))}(e,t),!0}return!1}function Y(e,t,r){var i=T.line;if(e&&("string"!=typeof e.comment&&(e.comment=A()),e.filename=R.filename),M("{",!0)){for(var o;"}"!==(o=L());)t(o);M(";",!0)}else r&&r(),M(";"),e&&("string"!=typeof e.comment||C)&&(e.comment=A(i)||e.comment)}function Q(e,t){if(!D.test(t=L()))throw B(t,"type name");var r=new a(t);Y(r,(function(e){if(!K(r,e))switch(e){case"map":!function(e){M("<");var t=L();if(void 0===_.mapKey[t])throw B(t,"type");M(",");var r=L();if(!I.test(r))throw B(r,"type");M(">");var i=L();if(!D.test(i))throw B(i,"name");M("=");var o=new l(F(i),q(L()),t,r);Y(o,(function(e){if("option"!==e)throw B(e);re(o,e),M(";")}),(function(){ne(o)})),e.add(o)}(r);break;case"required":if("proto2"!==P)throw B(e);case"repeated":ee(r,e);break;case"optional":if("proto3"===P)ee(r,"proto3_optional");else{if("proto2"!==P)throw B(e);ee(r,"optional")}break;case"oneof":!function(e,t){if(!D.test(t=L()))throw B(t,"name");var r=new u(F(t));Y(r,(function(e){"option"===e?(re(r,e),M(";")):(j(e),ee(r,"optional"))})),e.add(r)}(r,e);break;case"extensions":H(r.extensions||(r.extensions=[]));break;case"reserved":H(r.reserved||(r.reserved=[]),!0);break;default:if("proto2"===P||!I.test(e))throw B(e);j(e),ee(r,"optional")}})),e.add(r),e===O&&E.push(r)}function ee(e,t,r){var i=L();if("group"!==i){for(;i.endsWith(".")||x().startsWith(".");)i+=L();if(!I.test(i))throw B(i,"type");var o=L();if(!D.test(o))throw B(o,"name");o=F(o),M("=");var n=new c(o,q(L()),i,t,r);if(Y(n,(function(e){if("option"!==e)throw B(e);re(n,e),M(";")}),(function(){ne(n)})),"proto3_optional"===t){var s=new u("_"+o);n.setOption("proto3_optional",!0),s.add(n),e.add(s)}else e.add(n);e===O&&E.push(n)}else!function(e,t){if(P>=2023)throw B("group");var r=L();if(!D.test(r))throw B(r,"name");var i=y.lcFirst(r);r===i&&(r=y.ucFirst(r));M("=");var o=q(L()),n=new a(r);n.group=!0;var s=new c(i,o,r,t);s.filename=R.filename,Y(n,(function(e){switch(e){case"option":re(n,e),M(";");break;case"required":case"repeated":ee(n,e);break;case"optional":ee(n,"proto3"===P?"proto3_optional":"optional");break;case"message":Q(n,e);break;case"enum":te(n,e);break;case"reserved":H(n.reserved||(n.reserved=[]),!0);break;default:throw B(e)}})),e.add(n).add(s)}(e,t)}function te(e,t){if(!D.test(t=L()))throw B(t,"name");var r=new p(t);Y(r,(function(e){switch(e){case"option":re(r,e),M(";");break;case"reserved":H(r.reserved||(r.reserved=[]),!0),void 0===r.reserved&&(r.reserved=[]);break;default:!function(e,t){if(!D.test(t))throw B(t,"name");M("=");var r=q(L(),!0),i={options:void 0,getOption:function(e){return this.options[e]}};i.setOption=function(e,t){h.prototype.setOption.call(i,e,t)},i.setParsedOption=function(){},Y(i,(function(e){if("option"!==e)throw B(e);re(i,e),M(";")}),(function(){ne(i)})),e.add(t,r,i.comment,i.parsedOptions||i.options)}(r,e)}})),e.add(r),e===O&&E.push(r)}function re(e,t){var r,i,o=!0;for("option"===t&&(t=L());"="!==t;){if("("===t){var n=L();M(")"),t="("+n+")"}if(o){if(o=!1,t.includes(".")&&!t.includes("(")){var s=t.split(".");r=s[0]+".",t=s[1];continue}r=t}else i=i?i+=t:t;t=L()}var a=ie(e,i?r.concat(i):r);i=i&&"."===i[0]?i.slice(1):i,function(e,t,r,i){e.setParsedOption&&e.setParsedOption(t,r,i)}(e,r=r&&"."===r[r.length-1]?r.slice(0,-1):r,a,i)}function ie(e,t){if(M("{",!0)){for(var r={};!M("}",!0);){if(!D.test(k=L()))throw B(k,"name");if(null===k)throw B(k,"end of input");var i,o=k;if(M(":",!0),"{"===x())i=ie(e,t+"."+k);else if("["===x()){var n;if(i=[],M("[",!0)){do{n=V(!0),i.push(n)}while(M(",",!0));M("]"),void 0!==n&&oe(e,t+"."+k,n)}}else i=V(!0),oe(e,t+"."+k,i);var s=r[o];s&&(i=[].concat(s).concat(i)),r[o]=i,M(",",!0),M(";",!0)}return r}var a=V(!0);return oe(e,t,a),a}function oe(e,t,r){O===e&&/^features\./.test(t)?N[t]=r:e.setOption&&e.setOption(t,r)}function ne(e){if(M("[",!0)){do{re(e,"option")}while(M(",",!0));M("]")}return e}for(;null!==(k=L());)switch(k){case"package":if(!z)throw B(k);W();break;case"import":if(!z)throw B(k);J();break;case"syntax":if(!z)throw B(k);X();break;case"edition":if(!z)throw B(k);Z();break;case"option":re(O,k),M(";",!0);break;default:if(K(O,k)){z=!1;continue}throw B(k)}return E.forEach((function(e){e._edition=P,Object.keys(N).forEach((function(t){void 0===e.getOption(t)&&e.setOption(t,N[t],!0)}))})),R.filename=null,{package:i,imports:o,weakImports:U,root:t}}r.exports}),(function(){return{"./tokenize":__cjsMetaURL$D,"./root":__cjsMetaURL$u,"./type":__cjsMetaURL$t,"./field":__cjsMetaURL$x,"./mapfield":__cjsMetaURL$l,"./oneof":__cjsMetaURL$y,"./enum":__cjsMetaURL$A,"./service":__cjsMetaURL$n,"./method":__cjsMetaURL$m,"./object":__cjsMetaURL$z,"./types":__cjsMetaURL$w,"./util":__cjsMetaURL$v}}));var __cjsMetaURL$F="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/common.js";loader.define(__cjsMetaURL$F,(function(e,t,r,i,o){r.exports=a;var n,s=/\/|\./;function a(e,t){s.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),a[e]=t}a("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),a("duration",{Duration:n={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),a("timestamp",{Timestamp:n}),a("empty",{Empty:{fields:{}}}),a("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),a("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),a("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),a.get=function(e){return a[e]||null},r.exports}),{});var __cjsMetaURL$G="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/src/index.js";loader.define(__cjsMetaURL$G,(function(e,t,r,i,o){var n=r.exports=t("./index-light");n.build="full",n.tokenize=t("./tokenize"),n.parse=t("./parse"),n.common=t("./common"),n.Root._configure(n.Type,n.parse,n.common),r.exports}),(function(){return{"./index-light":__cjsMetaURL$C,"./tokenize":__cjsMetaURL$D,"./parse":__cjsMetaURL$E,"./common":__cjsMetaURL$F}}));var __cjsMetaURL$H="file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/index.js";loader.define(__cjsMetaURL$H,(function(e,t,r,i,o){r.exports=t("./src/index"),r.exports}),(function(){return{"./src/index":__cjsMetaURL$G}})),__cjsMetaURL$H||loader.throwInvalidWrapper("./index.js","file:///Users/user/Documents/Work/creator_project/SandPuzzle-client/node_modules/protobufjs/index.mjs?cjs=&original=.js"),loader.require(__cjsMetaURL$H),cclegacy._RF.push({},"524baSmzXpA45uhTcuPXrhi","ProtobufferHandler",void 0),cclegacy._RF.pop(),cclegacy._RF.push({},"80301oN3XpBv7TienxV5BuG","SocketManager",void 0),cclegacy._RF.pop(),cclegacy._RF.push({},"4430cTlvKNEyKjTaJ6V4P1Y","SocketNode",void 0),cclegacy._RF.pop(),cclegacy._RF.push({},"be5ebNhDE5JPoQIAkxpMn2z","WebSock",void 0),cclegacy._RF.pop(),cclegacy._RF.push({},"cd6d9qCI8NHfI34eKdJZCuG","LinkedList",void 0),cclegacy._RF.pop(),cclegacy._RF.push({},"76ffa/dxYNOmqOryt8r6VM8","Stack",void 0),cclegacy._RF.pop(),cclegacy._RF.push({},"d938fXtzLNBJbZPTV/L1d4D","MD5",void 0);var Crypt=function(){function e(){}return e.rotl=function(e,t){return e<<t|e>>>32-t},e.rotr=function(e,t){return e<<32-t|e>>>t},e.endianNumber=function(t){return 16711935&e.rotl(t,8)|4278255360&e.rotl(t,24)},e.endianArray=function(t){for(var r=0,i=t.length;r<i;r++)t[r]=e.endianNumber(t[r]);return t},e.randomBytes=function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},e.bytesToWords=function(e){for(var t=[],r=0,i=0,o=e.length;r<o;r++,i+=8)t[i>>>5]|=e[r]<<24-i%32;return t},e.wordsToBytes=function(e){for(var t=[],r=0,i=32*e.length;r<i;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},e.bytesToHex=function(e){for(var t=[],r=0,i=e.length;r<i;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},e.hexToBytes=function(e){for(var t=[],r=0,i=e.length;r<i;r+=2)t.push(parseInt(e.substr(r,2),16));return t},e}();function stringToBytes(e){for(var t=[],r=0,i=(e=unescape(encodeURIComponent(e))).length;r<i;r++)t.push(255&e.charCodeAt(r));return t}var md5Lib=function e(t){for(var r=stringToBytes(t),i=Crypt.bytesToWords(r),o=8*r.length,n=i.length,s=1732584193,a=-271733879,c=-1732584194,l=271733878,u=0;u<n;u++)i[u]=16711935&(i[u]<<8|i[u]>>>24)|4278255360&(i[u]<<24|i[u]>>>8);i[o>>>5]|=128<<o%32,i[14+(o+64>>>9<<4)]=o;var p=e._ff,d=e._gg,f=e._hh,h=e._ii;n=i.length;for(var _=0;_<n;_+=16){var y=s,g=a,m=c,v=l;s=p(s,a,c,l,i[_+0],7,-680876936),l=p(l,s,a,c,i[_+1],12,-389564586),c=p(c,l,s,a,i[_+2],17,606105819),a=p(a,c,l,s,i[_+3],22,-1044525330),s=p(s,a,c,l,i[_+4],7,-176418897),l=p(l,s,a,c,i[_+5],12,1200080426),c=p(c,l,s,a,i[_+6],17,-1473231341),a=p(a,c,l,s,i[_+7],22,-45705983),s=p(s,a,c,l,i[_+8],7,1770035416),l=p(l,s,a,c,i[_+9],12,-1958414417),c=p(c,l,s,a,i[_+10],17,-42063),a=p(a,c,l,s,i[_+11],22,-1990404162),s=p(s,a,c,l,i[_+12],7,1804603682),l=p(l,s,a,c,i[_+13],12,-40341101),c=p(c,l,s,a,i[_+14],17,-1502002290),s=d(s,a=p(a,c,l,s,i[_+15],22,1236535329),c,l,i[_+1],5,-165796510),l=d(l,s,a,c,i[_+6],9,-1069501632),c=d(c,l,s,a,i[_+11],14,643717713),a=d(a,c,l,s,i[_+0],20,-373897302),s=d(s,a,c,l,i[_+5],5,-701558691),l=d(l,s,a,c,i[_+10],9,38016083),c=d(c,l,s,a,i[_+15],14,-660478335),a=d(a,c,l,s,i[_+4],20,-405537848),s=d(s,a,c,l,i[_+9],5,568446438),l=d(l,s,a,c,i[_+14],9,-1019803690),c=d(c,l,s,a,i[_+3],14,-187363961),a=d(a,c,l,s,i[_+8],20,1163531501),s=d(s,a,c,l,i[_+13],5,-1444681467),l=d(l,s,a,c,i[_+2],9,-51403784),c=d(c,l,s,a,i[_+7],14,1735328473),s=f(s,a=d(a,c,l,s,i[_+12],20,-1926607734),c,l,i[_+5],4,-378558),l=f(l,s,a,c,i[_+8],11,-2022574463),c=f(c,l,s,a,i[_+11],16,1839030562),a=f(a,c,l,s,i[_+14],23,-35309556),s=f(s,a,c,l,i[_+1],4,-1530992060),l=f(l,s,a,c,i[_+4],11,1272893353),c=f(c,l,s,a,i[_+7],16,-155497632),a=f(a,c,l,s,i[_+10],23,-1094730640),s=f(s,a,c,l,i[_+13],4,681279174),l=f(l,s,a,c,i[_+0],11,-358537222),c=f(c,l,s,a,i[_+3],16,-722521979),a=f(a,c,l,s,i[_+6],23,76029189),s=f(s,a,c,l,i[_+9],4,-640364487),l=f(l,s,a,c,i[_+12],11,-421815835),c=f(c,l,s,a,i[_+15],16,530742520),s=h(s,a=f(a,c,l,s,i[_+2],23,-995338651),c,l,i[_+0],6,-198630844),l=h(l,s,a,c,i[_+7],10,1126891415),c=h(c,l,s,a,i[_+14],15,-1416354905),a=h(a,c,l,s,i[_+5],21,-57434055),s=h(s,a,c,l,i[_+12],6,1700485571),l=h(l,s,a,c,i[_+3],10,-1894986606),c=h(c,l,s,a,i[_+10],15,-1051523),a=h(a,c,l,s,i[_+1],21,-2054922799),s=h(s,a,c,l,i[_+8],6,1873313359),l=h(l,s,a,c,i[_+15],10,-30611744),c=h(c,l,s,a,i[_+6],15,-1560198380),a=h(a,c,l,s,i[_+13],21,1309151649),s=h(s,a,c,l,i[_+4],6,-145523070),l=h(l,s,a,c,i[_+11],10,-1120210379),c=h(c,l,s,a,i[_+2],15,718787259),a=h(a,c,l,s,i[_+9],21,-343485551),s=s+y>>>0,a=a+g>>>0,c=c+m>>>0,l=l+v>>>0}return Crypt.endianArray([s,a,c,l])};function md5(e){if(null==e)throw new Error("Illegal argument "+e);return Crypt.bytesToHex(Crypt.wordsToBytes(md5Lib(e)))}md5Lib._ff=function(e,t,r,i,o,n,s){var a=e+(t&r|~t&i)+(o>>>0)+s;return(a<<n|a>>>32-n)+t},md5Lib._gg=function(e,t,r,i,o,n,s){var a=e+(t&i|r&~i)+(o>>>0)+s;return(a<<n|a>>>32-n)+t},md5Lib._hh=function(e,t,r,i,o,n,s){var a=e+(t^r^i)+(o>>>0)+s;return(a<<n|a>>>32-n)+t},md5Lib._ii=function(e,t,r,i,o,n,s){var a=e+(r^(t|~i))+(o>>>0)+s;return(a<<n|a>>>32-n)+t},cclegacy._RF.pop(),cclegacy._RF.push({},"1a26eRepdlHsJEf387+kx07","MathTool",void 0),cclegacy._RF.pop(),cclegacy._RF.push({},"2c320QfHX1GhLI2nrJog2/e","PlaySpineInEditor",void 0),cclegacy._RF.pop(),cclegacy._RF.push({},"5fa3alajrpNP44T7DJP4STU","ResLoader",void 0);var ResLoader=function(){function e(){}return e.loadBundle=function(e){return new Promise((function(t,r){assetManager.loadBundle(e,(function(e,i){e?r(e):t(i)}))}))},e.loadBundleRes=function(e,t,r){return void 0===r&&(r=assetManager.getBundle("resources")),new Promise((function(i,o){r||o(new Error("bundle not found or not loaded")),r.load(e,t,(function(e,t){e?o(e):i(t)}))}))},e.loadRes=function(e,t,r){void 0===r&&(r="resources");var i=assetManager.getBundle(r);return i?this.loadBundleRes(e,t,i):new Promise((function(e,t){t(new Error("bundle not found or not loaded"))}))},e}();cclegacy._RF.pop(),cclegacy._RF.push({},"1bc56TlEc9DT6971WAZKlWu","SafeJSON",void 0);var SafeJSON=function(){function e(){}return e.parse=function(e,t){try{return JSON.parse(e,t)}catch(e){return console.log(e),null}},e.stringify=function(e,t,r){try{return JSON.stringify(e,t,r)}catch(e){return console.log(e),""}},e}();cclegacy._RF.pop(),cclegacy._RF.push({},"8c7f3lgtcdM3r0lVibq88dm","Utils",void 0);var Utils=function(){function e(){}e.compareVersion=function(e,t){for(var r=e.split("."),i=t.split("."),o=0;o<r.length&&o<i.length;o++){var n=parseInt(r[o])-parseInt(i[o]);if(0!==n)return n}return r.length-i.length};var t=e.prototype;return t.isJsonString=function(e){try{return JSON.parse(e),!0}catch(e){return!1}},t.getUrlParam=function(e){var t=e.split("?")[1];return t?t.split("&").reduce((function(e,t){var r=t.split("="),i=r[0],o=r[1];return e[i]=o,e}),{}):{}},e}(),_dec$2,_class$2;cclegacy._RF.pop(),cclegacy._RF.push({},"9a164aDtRZKl727XvUqf/fH","UIModule",void 0);var ccclass$1=_decorator.ccclass,property$2=_decorator.property,UIModule=(_dec$2=ccclass$1("UIModule"),_dec$2(_class$2=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.prototype.child=function(e,t){return void 0===t&&(t=this.node),find(e,t)},t}(Component))||_class$2),_dec$3,_dec2,_dec3,_class$3,_class2,_descriptor$1;cclegacy._RF.pop(),cclegacy._RF.push({},"8e264SYZ7BKuYNA2kUaYv6p","AdUI",void 0),cclegacy._RF.pop(),cclegacy._RF.push({},"85676M0sgZGYbJs2DVK9bvw","PixelSprite",void 0);var ccclass$2=_decorator.ccclass,property$3=_decorator.property,requireComponent=_decorator.requireComponent,PixelSprite=(_dec$3=ccclass$2("PixelSprite"),_dec2=requireComponent(Sprite),_dec3=property$3(Size),_dec$3(_class$3=_dec2((_class2=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"size",_descriptor$1,_assertThisInitialized(t)),t._texture=null,t._sprite=null,t._pixelData=null,t._autoUpdate=!0,t._isDirty=!1,t}_inheritsLoose(t,e);var r=t.prototype;return r.setAutoUpdate=function(e){this._autoUpdate=e},r.onLoad=function(){this.reSize()},r.reSize=function(){this._texture=new Texture2D,this._texture.reset({width:this.size.width,height:this.size.height,format:Texture2D.PixelFormat.RGBA8888});var e=new SpriteFrame;e.texture=this._texture,e.packable=!1,this.node.getComponent(Sprite)||this.node.addComponent(Sprite),this.node.getComponent(Sprite).spriteFrame=e,this._sprite=this.node.getComponent(Sprite),this._pixelData=new Uint8Array(this._texture.width*this._texture.height*4),this.readTexturePixels()},r.updateData=function(e,t,r,i,o){if(void 0===i&&(i=!1),void 0===o&&(o=!1),this._texture&&this._pixelData){var n=e.length,s=e[0].length;if(t+s>this._texture.width||r+n>this._texture.height)debug("updateData: 坐标超出纹理范围");else{for(var a=0;a<n;a++)for(var c=0;c<s;c++){var l=c+t,u=4*((a+r)*this._texture.width+l),p=e[a][c];p&&(o||void 0!==p.r&&void 0!==p.g&&void 0!==p.b&&void 0!==p.a)&&(this._pixelData[u]=p.r,this._pixelData[u+1]=p.g,this._pixelData[u+2]=p.b,this._pixelData[u+3]=p.a)}this._isDirty=!0,i&&(this._isDirty=!1,this._texture.uploadData(this._pixelData))}}},r.updateAllData=function(){this._pixelData&&this._texture&&(this._isDirty=!1,this._texture.uploadData(this._pixelData))},r.lateUpdate=function(e){this._autoUpdate&&this._isDirty&&(this.updateAllData(),this._isDirty=!1)},r.readTexturePixels=function(){if(this._texture&&this._pixelData)try{"undefined"!=typeof window&&window.document?this.readTexturePixelsWeb():this.readTexturePixelsNative()}catch(e){debug("读取纹理像素数据失败:",e),this._pixelData.fill(255)}},r.readTexturePixelsWeb=function(){if("undefined"!=typeof document){var e=document.createElement("canvas"),t=e.getContext("2d");if(t){if(e.width=this._texture.width,e.height=this._texture.height,this._texture.image){var r=this._texture.image;if(r&&r._nativeData){var i=r._nativeData;if(i&&"object"==typeof i&&"IMG"===i.tagName){t.drawImage(i,0,0);for(var o=t.getImageData(0,0,this._texture.width,this._texture.height).data,n=0;n<o.length;n++)this._pixelData[n]=o[n];return void debug("成功从ImageAsset._nativeData读取像素数据")}}if(r&&r.data){var s=r.data;if(s instanceof Uint8Array||s instanceof ArrayBuffer){for(var a=s instanceof ArrayBuffer?new Uint8Array(s):s,c=0;c<Math.min(this._pixelData.length,a.length);c++)this._pixelData[c]=a[c];return void debug("成功从ImageAsset.data读取像素数据")}}}this._pixelData.fill(255)}else this._pixelData.fill(255)}else this._pixelData.fill(255)},r.readTexturePixelsNative=function(){debug("原生平台暂不支持像素读取，初始化为白色"),this._pixelData.fill(255)},r.getPixelData=function(){return this._pixelData},r.setPixel=function(e,t,r,i){if(void 0===i&&(i=!1),this._texture&&this._pixelData&&!(e<0||e>=this._texture.width||t<0||t>=this._texture.height)){var o=4*(t*this._texture.width+e);this._pixelData[o]=r.r,this._pixelData[o+1]=r.g,this._pixelData[o+2]=r.b,this._pixelData[o+3]=r.a,this._isDirty=!0,i&&(this._isDirty=!1,this._texture.uploadData(this._pixelData))}},r.getPixel=function(e,t){if(!this._texture||!this._pixelData)return null;if(e<0||e>=this._texture.width||t<0||t>=this._texture.height)return null;var r=4*(t*this._texture.width+e);return new Color(this._pixelData[r],this._pixelData[r+1],this._pixelData[r+2],this._pixelData[r+3])},r.clear=function(e){void 0===e&&(e=!1),this._pixelData&&(this._pixelData.fill(0),this._isDirty=!0,e&&(this._isDirty=!1,this._texture.uploadData(this._pixelData)))},r.drawPixelGrid=function(e,t,r,i){if(void 0===e&&(e=1),void 0===t&&(t=new Color(0,0,0,255)),void 0===r&&(r=null),void 0===i&&(i=!0),this._texture&&this._pixelData){this._pixelData.fill(0);for(var o=this._texture.width,n=this._texture.height,s=Math.floor(o/e),a=Math.floor(n/e),c=0;c<a;c++)for(var l=0;l<s;l++){var u=l*e,p=c*e,d=void 0;d=r&&r[c]&&r[c][l]?r[c][l]:new Color(255*Math.random(),255*Math.random(),255*Math.random(),255);for(var f=p+1;f<p+e-1;f++)for(var h=u+1;h<u+e-1;h++)if(h<o&&f<n){var _=4*(f*o+h);this._pixelData[_]=d.r,this._pixelData[_+1]=d.g,this._pixelData[_+2]=d.b,this._pixelData[_+3]=d.a}}this.drawGridLines(e,t),this._isDirty=!0,i&&(this._isDirty=!1,this._texture.uploadData(this._pixelData))}},r.setGridBlockColor=function(e,t,r,i,o){if(void 0===i&&(i=1),void 0===o&&(o=!0),this._texture&&this._pixelData){var n=this._texture.width,s=this._texture.height,a=Math.floor(n/i),c=Math.floor(s/i);if(e<0||e>=a||t<0||t>=c)debug("网格坐标超出范围");else{for(var l=e*i,u=t*i,p=u+1;p<u+i-1;p++)for(var d=l+1;d<l+i-1;d++)if(d<n&&p<s){var f=4*(p*n+d);this._pixelData[f]=r.r,this._pixelData[f+1]=r.g,this._pixelData[f+2]=r.b,this._pixelData[f+3]=r.a}this._isDirty=!0,o&&(this._isDirty=!1,this._texture.uploadData(this._pixelData))}}},r.clearGridBlockColor=function(e,t,r,i){if(void 0===r&&(r=1),void 0===i&&(i=!0),this._texture&&this._pixelData){var o=this._texture.width,n=this._texture.height,s=Math.floor(o/r),a=Math.floor(n/r);if(!(e<0||e>=s||t<0||t>=a)){for(var c=e*r,l=t*r,u=l+1;u<l+r-1;u++)for(var p=c+1;p<c+r-1;p++)if(p<o&&u<n){var d=4*(u*o+p);this._pixelData[d]=0,this._pixelData[d+1]=0,this._pixelData[d+2]=0,this._pixelData[d+3]=0}this._isDirty=!0,i&&(this._isDirty=!1,this._texture.uploadData(this._pixelData))}}},r.getGridBlockColor=function(e,t,r){if(void 0===r&&(r=1),!this._texture||!this._pixelData)return null;var i=this._texture.width,o=this._texture.height,n=Math.floor(i/r),s=Math.floor(o/r);if(e<0||e>=n||t<0||t>=s)return null;var a=e*r+Math.floor(r/2),c=t*r+Math.floor(r/2);if(a<i&&c<o){var l=4*(c*i+a);return new Color(this._pixelData[l],this._pixelData[l+1],this._pixelData[l+2],this._pixelData[l+3])}return null},r.drawGridLines=function(e,t,r,i,o){var n=r||this._pixelData,s=i||this._texture.width,a=o||this._texture.height;if(n){for(var c=0;c<s;c+=e)for(var l=0;l<a;l++){var u=4*(l*s+c);n[u]=t.r,n[u+1]=t.g,n[u+2]=t.b,n[u+3]=t.a}for(var p=0;p<a;p+=e)for(var d=0;d<s;d++){var f=4*(p*s+d);n[f]=t.r,n[f+1]=t.g,n[f+2]=t.b,n[f+3]=t.a}}},t}(Component),_descriptor$1=_applyDecoratedDescriptor(_class2.prototype,"size",[_dec3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Size(0,0)}}),_class$3=_class2))||_class$3)||_class$3);cclegacy._RF.pop(),cclegacy._RF.push({},"990d2iQ0JNAyLQWXj3GjO8P","ColorHelper",void 0);var ColorHelper=function(){function e(){}return e.addColor=function(e,t,r,i,o){for(var n=this.hsb2rgb(t,r,i),s=0;s<o;s++)e.push(n)},e.hsb2rgb=function(e,t,r){var i,o,n;if(e/=360,0===t)i=o=n=r;else{var s=Math.floor(6*e),a=6*e-s,c=r*(1-t),l=r*(1-a*t),u=r*(1-(1-a)*t);switch(s%6){case 0:i=r,o=u,n=c;break;case 1:i=l,o=r,n=c;break;case 2:i=c,o=r,n=u;break;case 3:i=c,o=l,n=r;break;case 4:i=u,o=c,n=r;break;case 5:i=r,o=c,n=l}}return new Color(Math.round(255*i),Math.round(255*o),Math.round(255*n),255)},e.rgb2hsb=function(e,t,r){e/=255,t/=255,r/=255;var i=Math.max(e,t,r),o=i,n=i-Math.min(e,t,r),s=0,a=0;if(0===i)return{h:0,s:0,v:0};if(a=n/i,0===n)s=0;else{switch(i){case e:s=(t-r)/n+(t<r?6:0);break;case t:s=(r-e)/n+2;break;case r:s=(e-t)/n+4}s/=6}return{h:Math.round(360*s),s:a,v:o}},e.buildColorArray=function(e,t){t.length=0;for(var r=e.length,i=0;i<r;i++){var o=e[i],n=this.rgb2hsb(o.r,o.g,o.b),s=t[i]=[];this.addColor(s,n.h,n.s,n.v,60),this.addColor(s,n.h,n.s,.95*n.v,20),this.addColor(s,n.h,n.s,.85*n.v,10),this.addColor(s,n.h,n.s,.8*n.v,10)}},e}();cclegacy._RF.pop(),cclegacy._RF.push({},"ffccf0IfVBNJZjeOQJFx8Ls","ShapeHelper",void 0);var Shape=function(e){return e[e.T=0]="T",e[e.T_B=1]="T_B",e[e.L_L=2]="L_L",e[e.L_R=3]="L_R",e[e.RECTANGLE=4]="RECTANGLE",e[e.SQUARE=5]="SQUARE",e[e.Z=6]="Z",e[e.Z_REVERSE=7]="Z_REVERSE",e}({}),maxSize=24,ShapeHelper=function(){function e(){}return e.buildShape=function(e,t){for(var r=[],i=0;i<maxSize;i++){r[i]=[];for(var o=0;o<maxSize;o++)r[i][o]=new Color(0,0,0,0)}switch(e){case Shape.T:this.buildTShape(r,t);break;case Shape.T_B:this.buildTBottomShape(r,t);break;case Shape.L_L:this.buildLLeftShape(r,t);break;case Shape.L_R:this.buildLRightShape(r,t);break;case Shape.RECTANGLE:this.buildRectangleShape(r,t);break;case Shape.SQUARE:this.buildSquareShape(r,t);break;case Shape.Z:this.buildZShape(r,t);break;case Shape.Z_REVERSE:this.buildZReverseShape(r,t)}return r},e.buildTShape=function(e,t){for(var r=12;r<=17;r++)for(var i=3;i<=20;i++){var o=this.getRandomColor(t);e[r][i]=o}for(var n=6;n<=11;n++)for(var s=9;s<=14;s++){var a=this.getRandomColor(t);e[n][s]=a}},e.buildTBottomShape=function(e,t){for(var r=6;r<=11;r++)for(var i=3;i<=20;i++){var o=this.getRandomColor(t);e[r][i]=o}for(var n=12;n<=17;n++)for(var s=9;s<=14;s++){var a=this.getRandomColor(t);e[n][s]=a}},e.buildLLeftShape=function(e,t){for(var r=12;r<=17;r++)for(var i=3;i<=20;i++){var o=this.getRandomColor(t);e[r][i]=o}for(var n=6;n<=11;n++)for(var s=3;s<=8;s++){var a=this.getRandomColor(t);e[n][s]=a}},e.buildLRightShape=function(e,t){for(var r=12;r<=17;r++)for(var i=3;i<=20;i++){var o=this.getRandomColor(t);e[r][i]=o}for(var n=6;n<=11;n++)for(var s=15;s<=20;s++){var a=this.getRandomColor(t);e[n][s]=a}},e.buildRectangleShape=function(e,t){for(var r=9;r<=15;r++)for(var i=1;i<=22;i++){var o=this.getRandomColor(t);e[r][i]=o}},e.buildSquareShape=function(e,t){for(var r=3;r<=20;r++)for(var i=3;i<=20;i++){var o=this.getRandomColor(t);e[r][i]=o}},e.buildZShape=function(e,t){for(var r=5;r<=11;r++)for(var i=1;i<=14;i++){var o=this.getRandomColor(t);e[r][i]=o}for(var n=12;n<=18;n++)for(var s=8;s<=21;s++){var a=this.getRandomColor(t);e[n][s]=a}},e.buildZReverseShape=function(e,t){for(var r=this.getRandomColor(t),i=5;i<=11;i++)for(var o=8;o<=21;o++)e[i][o]=r;for(var n=12;n<=18;n++)for(var s=1;s<=14;s++)e[n][s]=r},e.getRandomColor=function(e){if(0===e.length)return new Color(255,255,255,255);var t=Math.floor(Math.random()*e.length);return debug$1("randomIndex",t),e[t]},e}();cclegacy._RF.pop(),cclegacy._RF.push({},"3c47b2JypZIyo53BO7IoHwo","ConfigLoader",void 0);var ConfigLoader=function(){function e(){}return e.loadConfig=function(e,t){var r;return r=t instanceof JsonAsset?t.json:t,this._configs.set(e,r),r},e.getConfig=function(e,t){return this._configs.get(e)||t},e.hasConfig=function(e){return this._configs.has(e)},e.clearConfigs=function(){this._configs.clear()},e.getConfigNames=function(){return Array.from(this._configs.keys())},e}();ConfigLoader._configs=new Map,cclegacy._RF.pop(),cclegacy._RF.push({},"78a92ZTip9O0pv4s68DzndJ","ScoreManager",void 0);var scoreManager=function(){function e(e){void 0===e&&(e=100),this._score=0,this._placeCount=0,this._placeScoreConfig=[],this._eliminateScoreConfig=[],this._scoreHistory=[],this._listeners=[],this._maxHistorySize=100,this._comboCount=0,this._comboCountWindow=3,this._lastEliminateScoreTime=0,this._placeCountSinceLastEliminate=0,this._maxHistorySize=e}var t=e.prototype;return t.initScoreConfig=function(){var e=this;ConfigLoader.getConfig("shape").forEach((function(t){e._placeScoreConfig.push({shape:t.type,points:t.place_score}),e._eliminateScoreConfig.push({shape:t.type,points:t.eliminate_score})}))},t.addPlaceScore=function(e,t,r){var i,o=null==(i=this._placeScoreConfig.find((function(t){return t.shape===e})))?void 0:i.points;if(o){this._score+=o;var n={timestamp:Date.now(),scoreType:"place_shape",shapeType:[e],points:o,totalScore:this._score,color:t,pos:r};debug("放置，分数 +"+o+"，总分: "+this._score),this._addToHistory(n),this._notifyListeners(n)}else debug("未知的分数类型: shape_placed_"+e)},t.addEliminateScore=function(e,t){var r=this,i=0;e.forEach((function(e){var t,o=null==(t=r._eliminateScoreConfig.find((function(t){return t.shape===e})))?void 0:t.points;o?i+=o:debug("未知的分数类型: shape_eliminated_"+e)}));var o=Date.now(),n=i;if(this._shouldApplyCombo(o)){this._comboCount++;var s=this._comboCount,a={timestamp:o,scoreType:"combo",shapeType:e,points:(i=n*s)-n,totalScore:this._score+i};this._score+=a.points,debug("连击奖励 +"+a.points+" (x"+s+")"),this._addToHistory(a),this._notifyListeners(a)}else this._comboCount=1;this._placeCountSinceLastEliminate=0,this._lastEliminateScoreTime=o,this._score+=n;var c={timestamp:o,scoreType:"eliminate_shape",shapeType:e,points:i,totalScore:this._score,color:t};debug("消除，分数 +"+i+"，总分: "+this._score),this._addToHistory(c),this._notifyListeners(c)},t.addPlaceCount=function(){this._placeCount++,this._placeCountSinceLastEliminate++,debug("放置次数 +1，当前放置次数",this._placeCount,"距离上次消除后放置次数",this._placeCountSinceLastEliminate),this._placeCountSinceLastEliminate>this._comboCountWindow&&this.resetCombo()},t.getScore=function(){return this._score},t.resetScore=function(){this._score=0,this._scoreHistory=[],this._comboCount=0,this._placeCount=0,this._lastEliminateScoreTime=0,debug("分数已重置")},t.getComboCount=function(){return this._comboCount},t.resetCombo=function(){this._comboCount=0,this._lastEliminateScoreTime=0,this._placeCountSinceLastEliminate=0,debug("连击已重置")},t.addScoreListener=function(e){this._listeners.push(e)},t.removeScoreListener=function(e){var t=this._listeners.indexOf(e);t>-1&&this._listeners.splice(t,1)},t.getScoreHistory=function(e){return e?this._scoreHistory.filter((function(t){return t.scoreType===e})):[].concat(this._scoreHistory)},t.getRecentScores=function(e){return void 0===e&&(e=10),this._scoreHistory.slice(-e)},t._addToHistory=function(e){this._scoreHistory.push(e),this._scoreHistory.length>this._maxHistorySize&&this._scoreHistory.shift()},t._shouldApplyCombo=function(e){return 0!==this._lastEliminateScoreTime&&this._placeCountSinceLastEliminate<=this._comboCountWindow},t._notifyListeners=function(e){this._listeners.forEach((function(t){try{t(e)}catch(e){console.error("分数监听器错误:",e)}}))},t.clear=function(){this._listeners=[],this._scoreHistory=[],this._comboCount=0,this._placeCount=0,this._placeCountSinceLastEliminate=0,this._score=0,this._placeScoreConfig=[],this._eliminateScoreConfig=[]},e}(),ScoreManager=new scoreManager;cclegacy._RF.pop(),cclegacy._RF.push({},"1999ej1AC1AM76fSGnQo5LA","UserData",void 0);var userData=function(e){function t(){var t;return(t=e.call(this)||this)._uid="",t._level=1,t._highestScore=0,t._diamonds=0,t}_inheritsLoose(t,e);var r=t.prototype;return r.save=function(e){void 0===e&&(e=!0),localStorage.setItem("userData",JSON.stringify(this)),e&&GlobalEvent.emit("UserData:Changed")},r.load=function(){var e=localStorage.getItem("userData");if(e){var t=SafeJSON.parse(e);Object.assign(this,t)}},_createClass(t,[{key:"uid",get:function(){return this._uid},set:function(e){this._uid=e}},{key:"level",get:function(){return this._level},set:function(e){this._level=e}},{key:"highestScore",get:function(){return this._highestScore},set:function(e){this._highestScore=e}},{key:"diamonds",get:function(){return this._diamonds},set:function(e){this._diamonds=e}}]),t}(SingletonClass),UserData=userData.getInstance();cclegacy._RF.pop(),cclegacy._RF.push({},"91c61rOlh9COL9yTtRhTmRI","UILayers",void 0);var UILayers=function(e){return e[e.GAME=0]="GAME",e[e.HUD=1]="HUD",e[e.POPUP=2]="POPUP",e[e.ALERT=3]="ALERT",e[e.LOADING=4]="LOADING",e[e.WAITING=5]="WAITING",e[e.OVERLAY=6]="OVERLAY",e[e.NUM=7]="NUM",e}(UILayers||{}),UILayersName=["GAME","HUD","POPUP","ALERT","LOADING","WAITING","OVERLAY"];cclegacy._RF.pop(),cclegacy._RF.push({},"21661ghaahKjYYzVFLskguR","UIMgr",void 0);var UIMgr=function(e){function t(){var t;return(t=e.call(this)||this)._uiRoot=null,t}_inheritsLoose(t,e);var r=t.prototype;return r.setUp=function(e){this._uiRoot=new Node;var t=this._uiRoot.addComponent(UITransform);t.setContentSize(0,0),t.setAnchorPoint(.5,.5),this._uiRoot.name="UI_ROOT",this._uiRoot.active=!0,e.addChild(this._uiRoot);for(var r=0;r<UILayers.NUM;r++){var i=new Node;i.name=UILayersName[r];var o=i.addComponent(UITransform);o.setContentSize(Screen.ScreenWidth,Screen.ScreenHeight),o.setAnchorPoint(.5,.5),this._uiRoot.addChild(i)}},r.showUI=function(e,t){for(var r=this,i=arguments.length,o=new Array(i>2?i-2:0),n=2;n<i;n++)o[n-2]=arguments[n];var s=new e,a=function(e){var i=instantiate(e);r.getLayerNode(s.getLayer()).addChild(i),s.setup.apply(s,[i].concat(o)),null==t||t(s)};return"string"==typeof s.getPrefab()?ResLoader.loadRes(s.getPrefab(),Prefab).then((function(e){a(e)})):a(s.getPrefab()),s},r.closeAllUI=function(){this._uiRoot.destroyAllChildren()},r.getLayerNode=function(e){return this._uiRoot.getChildByName(UILayersName[e])},t}(SingletonClass),_dec$4,_dec2$1,_dec3$1,_dec4,_dec5,_dec6,_dec7,_class$4,_class2$1,_descriptor$2,_descriptor2,_descriptor3,_descriptor4,_descriptor5;cclegacy._RF.pop(),cclegacy._RF.push({},"7ff057Mn8BAYo+NN/T2/ErY","PixelSpriteNum",void 0);var ccclass$3=_decorator.ccclass,property$4=_decorator.property,executeInEditMode=_decorator.executeInEditMode,PixelSpriteNum=(_dec$4=ccclass$3("PixelSpriteNum"),_dec2$1=executeInEditMode(),_dec3$1=property$4({displayName:DEV}),_dec4=property$4({displayName:DEV}),_dec5=property$4({displayName:DEV}),_dec6=property$4({displayName:DEV}),_dec7=property$4({displayName:DEV}),_dec$4(_class$4=_dec2$1((_class2$1=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"_blockSize",_descriptor$2,_assertThisInitialized(t)),_initializerDefineProperty(t,"_number",_descriptor2,_assertThisInitialized(t)),_initializerDefineProperty(t,"_digitSpacing",_descriptor3,_assertThisInitialized(t)),_initializerDefineProperty(t,"_useCommaFormat",_descriptor4,_assertThisInitialized(t)),_initializerDefineProperty(t,"_digitColor",_descriptor5,_assertThisInitialized(t)),t.digitTemplates=[[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],[[0,0,1,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0]],[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,1,1,1,1]],[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,0,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],[[0,0,0,1,0],[0,0,1,1,0],[0,1,0,1,0],[1,0,0,1,0],[1,1,1,1,1],[0,0,0,1,0],[0,0,0,1,0]],[[1,1,1,1,1],[1,0,0,0,0],[1,1,1,1,0],[0,0,0,0,1],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],[[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1],[0,1,1,1,0]]],t.commaTemplate=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,1,0],[0,1,0],[1,0,0]],t}_inheritsLoose(t,e);var r=t.prototype;return r.onEnable=function(){this.size=new Size(25*this.blockSize,7),this.showNumber(this._number)},r.onLoad=function(){e.prototype.onLoad.call(this),this.size=new Size(5*this.blockSize,7),this.showNumber(this._number)},r.showNumber=function(e,t){void 0===t&&(t=1);var r=[];this.useCommaFormat?r=this.getFormattedChars(e):r=this.getDigits(e,t);for(var i=0,o=0;o<r.length;o++)"string"==typeof r[o]&&","===r[o]?i+=3:i+=5,o<r.length-1&&(i+=this.digitSpacing);for(var n=[],s=0;s<7;s++){n[s]=[];for(var a=0;a<i;a++)n[s][a]=new Color(0,0,0,0)}for(var c=0,l=0;l<r.length;l++){var u=r[l],p=void 0,d=void 0;"string"==typeof u&&","===u?(p=this.commaTemplate,d=3):(p=this.digitTemplates[u],d=5);for(var f=0;f<7;f++)for(var h=0;h<d;h++)1===p[f][h]&&(n[f][c+h]=this.digitColor);c+=d,l<r.length-1&&(c+=this.digitSpacing)}i*this.blockSize==this.size.width&&7*this.blockSize==this.size.height||(this.size=new Size(i*this.blockSize,7*this.blockSize),this.reSize()),this.drawPixelGrid(this.blockSize,new Color(0,0,0,0),n,!0)},r.getDigits=function(e,t){var r=[],i=Math.abs(e);if(0===i)r.push(0);else for(;i>0;)r.unshift(i%10),i=Math.floor(i/10);for(;r.length<t;)r.unshift(0);return r},r.getFormattedChars=function(e){for(var t=this.getDigits(e,0),r=[],i=0;i<t.length;i++){r.push(t[i]);var o=t.length-1-i;o>0&&o%3==0&&r.push(",")}return r},_createClass(t,[{key:"blockSize",get:function(){return this._blockSize},set:function(e){this._blockSize=e,this.showNumber(this._number)}},{key:"number",get:function(){return this._number},set:function(e){this._number=e,this.showNumber(this._number)}},{key:"digitSpacing",get:function(){return this._digitSpacing},set:function(e){this._digitSpacing=e,this.showNumber(this._number)}},{key:"useCommaFormat",get:function(){return this._useCommaFormat},set:function(e){this._useCommaFormat=e,this.showNumber(this._number)}},{key:"digitColor",get:function(){return this._digitColor},set:function(e){this._digitColor=e,this.showNumber(this._number)}}]),t}(PixelSprite),_descriptor$2=_applyDecoratedDescriptor(_class2$1.prototype,"_blockSize",[property$4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),_applyDecoratedDescriptor(_class2$1.prototype,"blockSize",[_dec3$1],Object.getOwnPropertyDescriptor(_class2$1.prototype,"blockSize"),_class2$1.prototype),_descriptor2=_applyDecoratedDescriptor(_class2$1.prototype,"_number",[property$4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_applyDecoratedDescriptor(_class2$1.prototype,"number",[_dec4],Object.getOwnPropertyDescriptor(_class2$1.prototype,"number"),_class2$1.prototype),_descriptor3=_applyDecoratedDescriptor(_class2$1.prototype,"_digitSpacing",[property$4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_applyDecoratedDescriptor(_class2$1.prototype,"digitSpacing",[_dec5],Object.getOwnPropertyDescriptor(_class2$1.prototype,"digitSpacing"),_class2$1.prototype),_descriptor4=_applyDecoratedDescriptor(_class2$1.prototype,"_useCommaFormat",[property$4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_applyDecoratedDescriptor(_class2$1.prototype,"useCommaFormat",[_dec6],Object.getOwnPropertyDescriptor(_class2$1.prototype,"useCommaFormat"),_class2$1.prototype),_descriptor5=_applyDecoratedDescriptor(_class2$1.prototype,"_digitColor",[property$4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Color(255,255,255,255)}}),_applyDecoratedDescriptor(_class2$1.prototype,"digitColor",[_dec7],Object.getOwnPropertyDescriptor(_class2$1.prototype,"digitColor"),_class2$1.prototype),_class$4=_class2$1))||_class$4)||_class$4);cclegacy._RF.pop(),cclegacy._RF.push({},"56ed0Qi1axArq10l0Uecwe+","UserPreferences",void 0);var userPreferences=function(e){function t(){var t;return(t=e.call(this)||this).musicVolume=1,t.soundVolume=1,t.vibrate=!0,t}_inheritsLoose(t,e);var r=t.prototype;return r.load=function(){var e=localStorage.getItem("userPreferences");if(e){var t=SafeJSON.parse(e);Object.assign(this,t)}},r.save=function(){localStorage.setItem("userPreferences",SafeJSON.stringify(this)),GlobalEvent.emit("UserPreferences:Changed")},t}(SingletonClass),UserPreferences=userPreferences.getInstance();function UIControllerProperty(e,t,r){return function(i){i._uiControllerConfig={layer:e,prefab:t,layout:r}}}cclegacy._RF.pop(),cclegacy._RF.push({},"beae6C5jNpMmJoLvZaBq5hM","UIController",void 0);var UIController=function(){function e(){this._destroyed=!1,this._instId=0,this._node=void 0,this._layout=void 0,this._instId=e._idBase++;var t=this.constructor._uiControllerConfig;t&&(this.getLayer=function(){return t.layer},this.getPrefab=function(){return t.prefab},this.getLayout=function(){return t.layout})}var t=e.prototype;return t.onClickEvent=function(e){void 0===e&&(e=!0),UserPreferences.vibrate&&Device.VibrateShort(),e&&AudioMgr.Ins().playOneShot("audio/btn",.5)},t.setup=function(e){this._node=e,this._layout=this.node.getComponent(this.getLayout());for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.onCreated.apply(this,r),this._destroyed&&this.close()},t.close=function(){this._destroyed=!0,this._node&&(this.node.removeFromParent(),this.onDispose(),this._node=null)},t.getLayer=function(){return null},t.getPrefab=function(){return null},t.getLayout=function(){return null},t.onCreated=function(){},t.onDispose=function(){},t.onUpdate=function(e){},_createClass(e,[{key:"node",get:function(){return this._node}},{key:"instId",get:function(){return this._instId}}]),e}();UIController._idBase=1e3,cclegacy._RF.pop(),cclegacy._RF.push({},"c87f3cdzAZFqou7GLosAEO2","NetTaskBase",void 0);var NetTaskBase=function(e){function t(){var t;(t=e.call(this)||this)._onSucceed=void 0,t._onFail=void 0,t.reqData=SafeJSON.stringify({});var r=t.constructor._taskConfig;return r&&(t.name=r.name,t.url=r.url,t.method=r.method),t}_inheritsLoose(t,e);var r=t.prototype;return r.start=function(){for(var e=this,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return debug(this.name+" start: ",r),new Promise((function(t,r){e._onSucceed=function(e){t(e)},e._onFail=function(e){r(e)};var i={GET:HttpManager.get.bind(HttpManager),POST:HttpManager.post.bind(HttpManager),PUT:HttpManager.put.bind(HttpManager),HEAD:HttpManager.head.bind(HttpManager)}[e.method];if(!i)throw new Error("callbackHttpMethod is not set");i(e.url,e.reqData,"json",e,["Content-Type","application/json"])}))},r.onCompete=function(e){try{var t;debug(this.name+" onCompete data:",e.data),null==(t=this._onSucceed)||t.call(this,e.data)}catch(e){debug("NetTaskBase onCompete error,name:"+this.name,e)}},r.onError=function(e){var t,r;debug("NetTaskBase onError\n   name:"+this.name+"\n   url:"+this.url+"\n   message:"+e.message+"\n   statusCode:"+e.status),null==(t=this._onFail)||t.call(this,null!=(r=e.message)?r:"")},t}(HttpTask);cclegacy._RF.pop(),cclegacy._RF.push({},"24fabGVrwJNLLW9IKzXytHe","Server",void 0);var Server={baseUrl:"https://sandpuzzle.server.api.garyxuan.cn",getUserInfo:"/api/user/{uid}",watchAd:"/api/user/{uid}/watch-ad",levelUp:"/api/user/{uid}/level",addDiamond:"/api/user/{uid}/diamonds",updateHighestScore:"/api/user/{uid}/highest-score",getRank:"/api/user/{uid}/rank",getRankList:"/api/user/leaderboard?limit={limit}&page={page}"},_dec$5,_class$5;cclegacy._RF.pop(),cclegacy._RF.push({},"bf25cpcdxFBbbpelMdpicmd","ReqAddDiamond",void 0);var ReqAddDiamond=(_dec$5=HttpTaskProperty("ReqAddDiamond",""+Server.baseUrl+Server.addDiamond,"PUT"),_dec$5(_class$5=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.prototype.start=function(t){var r=this;return this.url=this.url.replace("{uid}",UserData.uid),this.reqData=SafeJSON.stringify({amount:t}),new Promise((function(t,i){e.prototype.start.call(r).then((function(e){e&&e.success?(UserData.diamonds=e.data.currentDiamonds,UserData.save(),t(e)):i(e.message)})).catch((function(e){i(e)}))}))},t}(NetTaskBase))||_class$5);cclegacy._RF.pop(),cclegacy._RF.push({},"39380pCT2BLq7rS9CAw2D8H","UIPopAni",void 0);var UIPopAni=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var r=t.prototype;return r.playAni=function(){var e=this;Tween.stopAllByTarget(this.node),find("Mask",this.node).active=!1,this.node.scale=new Vec3(1.2,1.2,1.2),this.node.getComponent(UIOpacity).opacity=0,tween(this.node).delay(.1).parallel(tween(this.node).to(.05,{scale:new Vec3(.95,.95,.95)}),tween(this.node.getComponent(UIOpacity)).to(.1,{opacity:255})).to(.05,{scale:new Vec3(1,1,1)}).call((function(){var t;find("Mask",e.node).active=!0,null==(t=e.node.getComponent(Widget))||t.updateAlignment()})).start()},r.close=function(){find("Mask",this.node).active=!1,tween(this.node).to(5/60,{scale:new Vec3(.95,.95,.95)}).parallel(tween(this.node).to(10/60,{scale:new Vec3(1.2,1.2,1.2)}),tween(this.node.getComponent(UIOpacity)).to(10/60,{opacity:0})).call(e.prototype.close.bind(this)).start()},t}(UIController),_dec$6,_dec2$2,_dec3$2,_dec4$1,_dec5$1,_dec6$1,_class$6,_class2$2,_descriptor$3,_descriptor2$1,_descriptor3$1,_descriptor4$1;cclegacy._RF.pop(),cclegacy._RF.push({},"54e48nClpxFSIzT1XXAzuV+","PixelSpriteWord",void 0);var ccclass$4=_decorator.ccclass,property$5=_decorator.property,executeInEditMode$1=_decorator.executeInEditMode,PixelSpriteWord=(_dec$6=ccclass$4("PixelSpriteWord"),_dec2$2=executeInEditMode$1(),_dec3$2=property$5({displayName:DEV}),_dec4$1=property$5({displayName:DEV}),_dec5$1=property$5({displayName:DEV}),_dec6$1=property$5({displayName:DEV}),_dec$6(_class$6=_dec2$2((_class2$2=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"_blockSize",_descriptor$3,_assertThisInitialized(t)),_initializerDefineProperty(t,"_letterSpacing",_descriptor2$1,_assertThisInitialized(t)),_initializerDefineProperty(t,"_wordColor",_descriptor3$1,_assertThisInitialized(t)),_initializerDefineProperty(t,"_word",_descriptor4$1,_assertThisInitialized(t)),t.letterTemplates={A:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],B:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0]],C:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],D:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0]],E:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],F:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],G:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],H:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],I:[[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1]],J:[[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],K:[[1,0,0,0,1],[1,0,0,1,0],[1,0,1,0,0],[1,1,0,0,0],[1,0,1,0,0],[1,0,0,1,0],[1,0,0,0,1]],L:[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],M:[[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],N:[[1,0,0,0,1],[1,1,0,0,1],[1,0,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],O:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],P:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],Q:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,1,1],[0,1,1,1,1]],R:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,1,0,0],[1,0,0,1,0],[1,0,0,0,1]],S:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],T:[[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],U:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],V:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,1,0,1,0],[0,0,1,0,0]],W:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[1,1,0,1,1],[1,0,0,0,1]],X:[[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1]],Y:[[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],Z:[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],"&":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,1,0],[0,1,1,0,0],[1,0,1,0,1],[1,0,0,0,1],[0,1,0,1,0]],0:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],1:[[0,0,1,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0]],2:[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,1,1,1,1]],3:[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,0,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],4:[[0,0,0,1,0],[0,0,1,1,0],[0,1,0,1,0],[1,0,0,1,0],[1,1,1,1,1],[0,0,0,1,0],[0,0,0,1,0]],5:[[1,1,1,1,1],[1,0,0,0,0],[1,1,1,1,0],[0,0,0,0,1],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],6:[[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],7:[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],8:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],9:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1],[0,1,1,1,0]],"+":[[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],"-":[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],"?":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,1,0,0]],"!":[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,1,0,0]],":":[[0,0,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,1,0,0],[0,0,0,0,0]],";":[[0,0,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,1,0,0],[0,1,0,0,0]],"(":[[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0]],")":[[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0]],"[":[[1,1,1,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,0,0]],"]":[[0,0,1,1,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,1,1,1]],"{":[[0,0,1,1,0],[0,1,0,0,0],[0,1,0,0,0],[1,0,0,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,0,1,1,0]],"}":[[0,1,1,0,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,0,1],[0,0,0,1,0],[0,0,0,1,0],[0,1,1,0,0]],"=":[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0]],"<":[[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0]],">":[[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0]],"/":[[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],"\\":[[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0]],"|":[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],"@":[[0,1,1,1,0],[1,0,0,0,1],[1,0,1,1,1],[1,0,1,0,1],[1,0,1,1,1],[1,0,0,0,0],[0,1,1,1,0]],"#":[[0,1,0,1,0],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[0,1,0,1,0]],$:[[0,0,1,0,0],[0,1,1,1,1],[1,0,1,0,0],[0,1,1,1,0],[0,0,1,0,1],[1,1,1,1,0],[0,0,1,0,0]],"%":[[1,1,0,0,1],[1,1,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,1,1],[0,1,0,1,1],[1,0,0,1,1]],"^":[[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],"*":[[0,0,1,0,0],[1,0,1,0,1],[0,1,1,1,0],[1,1,1,1,1],[0,1,1,1,0],[1,0,1,0,1],[0,0,1,0,0]],_:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1]],a:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1]],b:[[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0]],c:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],d:[[0,0,0,0,1],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1]],e:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0]],f:[[0,0,1,1,0],[0,1,0,0,0],[0,1,0,0,0],[1,1,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],g:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0]],h:[[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],i:[[0,0,1,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0]],j:[[0,0,0,1,0],[0,0,0,0,0],[0,0,1,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,1,1,0,0]],k:[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,1,0],[1,0,1,0,0],[1,1,0,0,0],[1,0,1,0,0],[1,0,0,1,0]],l:[[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0]],m:[[0,0,0,0,0],[0,0,0,0,0],[1,1,0,1,0],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],n:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],o:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],p:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0]],q:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1]],r:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],s:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,1,1,1,0]],t:[[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,1],[0,0,0,1,0]],u:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1]],v:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],w:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0]],x:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1]],y:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0]],z:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,1,1,1,1]]},t.spaceTemplate=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],t.dotTemplate=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,1,0]],t}_inheritsLoose(t,e);var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),this.size=new Size(25*this.blockSize,7*this.blockSize),this.word&&this.word.length>0&&this.showText(this.word)},r.onEnable=function(){this.word&&this.word.length>0&&this.showText(this.word)},r.showText=function(e){for(var t=this.getDisplayChars(e),r=0,i=0;i<t.length;i++)" "===t[i]||"."===t[i]?r+=3:r+=5,i<t.length-1&&(r+=this.letterSpacing);for(var o=[],n=0;n<7;n++){o[n]=[];for(var s=0;s<r;s++)o[n][s]=new Color(0,0,0,0)}for(var a=0,c=0;c<t.length;c++){var l=t[c],u=void 0,p=void 0;if(" "===l)u=this.spaceTemplate,p=3;else if("."===l)u=this.dotTemplate,p=3;else{if(!(u=this.letterTemplates[l])){debug("Warning: Letter '"+l+"' not found in templates, skipping");continue}p=5}for(var d=0;d<7;d++)for(var f=0;f<p;f++)1===u[d][f]&&(o[d][a+f]=this.wordColor);a+=p,c<t.length-1&&(a+=this.letterSpacing)}r*this.blockSize==this.size.width&&7*this.blockSize==this.size.height||(this.size=new Size(r*this.blockSize,7*this.blockSize),this.reSize()),this.drawPixelGrid(this.blockSize,new Color(0,0,0,0),o,!0)},r.getDisplayChars=function(e){return e.split("")},_createClass(t,[{key:"blockSize",get:function(){return this._blockSize},set:function(e){this._blockSize=e,this.showText(this._word)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing=e,this.showText(this._word)}},{key:"wordColor",get:function(){return this._wordColor},set:function(e){this._wordColor=e,this.showText(this._word)}},{key:"word",get:function(){return this._word},set:function(e){this._word=e,this.showText(this._word)}},{key:"string",set:function(e){this._word=e,this.showText(e)}}]),t}(PixelSprite),_descriptor$3=_applyDecoratedDescriptor(_class2$2.prototype,"_blockSize",[property$5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),_applyDecoratedDescriptor(_class2$2.prototype,"blockSize",[_dec3$2],Object.getOwnPropertyDescriptor(_class2$2.prototype,"blockSize"),_class2$2.prototype),_descriptor2$1=_applyDecoratedDescriptor(_class2$2.prototype,"_letterSpacing",[property$5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_applyDecoratedDescriptor(_class2$2.prototype,"letterSpacing",[_dec4$1],Object.getOwnPropertyDescriptor(_class2$2.prototype,"letterSpacing"),_class2$2.prototype),_descriptor3$1=_applyDecoratedDescriptor(_class2$2.prototype,"_wordColor",[property$5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Color(255,255,255,255)}}),_applyDecoratedDescriptor(_class2$2.prototype,"wordColor",[_dec5$1],Object.getOwnPropertyDescriptor(_class2$2.prototype,"wordColor"),_class2$2.prototype),_descriptor4$1=_applyDecoratedDescriptor(_class2$2.prototype,"_word",[property$5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_applyDecoratedDescriptor(_class2$2.prototype,"word",[_dec6$1],Object.getOwnPropertyDescriptor(_class2$2.prototype,"word"),_class2$2.prototype),_class$6=_class2$2))||_class$6)||_class$6),_dec$7,_dec2$3,_dec3$3,_dec4$2,_dec5$2,_class$7,_class2$3,_descriptor$4,_descriptor2$2,_descriptor3$2,_descriptor4$2,_dec6$2,_class5;cclegacy._RF.pop(),cclegacy._RF.push({},"57a32pCrIVI2Y5IILNmZOv7","UIAlert",void 0);var ccclass$5=_decorator.ccclass,property$6=_decorator.property,Layout_UIAlert=(_dec$7=ccclass$5("Layout_UIAlert"),_dec2$3=property$6(PixelSpriteWord),_dec3$3=property$6(Label),_dec4$2=property$6(Button),_dec5$2=property$6(Button),_dec$7((_class2$3=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"title",_descriptor$4,_assertThisInitialized(t)),_initializerDefineProperty(t,"content",_descriptor2$2,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnOK",_descriptor3$2,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnCancel",_descriptor4$2,_assertThisInitialized(t)),t}return _inheritsLoose(t,e),t}(UIModule),_descriptor$4=_applyDecoratedDescriptor(_class2$3.prototype,"title",[_dec2$3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2$2=_applyDecoratedDescriptor(_class2$3.prototype,"content",[_dec3$3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3$2=_applyDecoratedDescriptor(_class2$3.prototype,"btnOK",[_dec4$2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor4$2=_applyDecoratedDescriptor(_class2$3.prototype,"btnCancel",[_dec5$2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$7=_class2$3))||_class$7),UIAlertOptions=function(){function e(){this._title="",this._content="",this._showCancel=!1,this._clickCallback=void 0,this._clickCallbackThisArgs=void 0}var t=e.prototype;return t.setTitle=function(e){return this._title=e,this},t.onClick=function(e,t){return this._clickCallback=e,this._clickCallbackThisArgs=t,this},e}(),UIAlert=(_dec6$2=UIControllerProperty(UILayers.ALERT,"prefab/UIAlert",Layout_UIAlert),_dec6$2(_class5=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this)._options=void 0,t}_inheritsLoose(t,e),t.show=function(e,r){void 0===r&&(r=!1);var i=new UIAlertOptions;return i._content=e,i._showCancel=r,UIMgr.getInstance().showUI(t,(function(e){e.init(i),e.playAni()})),i};var r=t.prototype;return r.init=function(e){this._options=e;var t=this._options,r=this._layout;r.title.string=t._title||"Alert",r.content.string=t._content,r.btnCancel.node.active=t._showCancel,t._showCancel||(r.btnOK.node.x=0)},r.onCreated=function(){var e=this,t=this._layout;t.btnOK.node.on("click",(function(){e.onClickEvent(!1),e.close();var t,r=e._options;null!=r&&r._clickCallbackThisArgs?null==r||null==(t=r._clickCallback)||t.call(null==r?void 0:r._clickCallbackThisArgs,!0):null==r||null==r._clickCallback||r._clickCallback(!0)})),t.btnCancel.node.on("click",(function(){e.onClickEvent(!1),e.close();var t,r=e._options;null!=r&&r._clickCallbackThisArgs?null==r||null==(t=r._clickCallback)||t.call(null==r?void 0:r._clickCallbackThisArgs,!1):null==r||null==r._clickCallback||r._clickCallback(!1)}))},t}(UIPopAni))||_class5),_dec$8,_dec2$4,_class$8,_class2$4,_descriptor$5,_dec3$4,_class4;cclegacy._RF.pop(),cclegacy._RF.push({},"3037dYb1Y1EnqsAWM9xP1gi","UIWaiting",void 0);var ccclass$6=_decorator.ccclass,property$7=_decorator.property,Layout_UIWaiting=(_dec$8=ccclass$6("Layout_UIWaiting"),_dec2$4=property$7(Label),_dec$8((_class2$4=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"content",_descriptor$5,_assertThisInitialized(t)),t}return _inheritsLoose(t,e),t}(UIModule),_descriptor$5=_applyDecoratedDescriptor(_class2$4.prototype,"content",[_dec2$4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$8=_class2$4))||_class$8),_instance=null,UIWaiting=(_dec3$4=UIControllerProperty(UILayers.WAITING,"prefab/UIWaiting",Layout_UIWaiting),_dec3$4(_class4=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this)._contentStr="loading...",t}_inheritsLoose(t,e),t.show=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _instance||(_instance=UIMgr.getInstance().showUI(t),debug("UIWaiting show")),_instance._contentStr=r||"loading...",e.abrupt("return",_instance);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var r=t.prototype;return r.onCreated=function(){debug("UIWaiting onCreated"),this._layout.content.string=this._contentStr},t.hide=function(){_instance&&(_instance.close(),_instance=null)},r.onDispose=function(){_instance=null},t}(UIController))||_class4),_dec$9,_dec2$5,_dec3$5,_dec4$3,_dec5$3,_class$9,_class2$5,_descriptor$6,_descriptor2$3,_descriptor3$3,_descriptor4$3,_dec6$3,_class4$1;cclegacy._RF.pop(),cclegacy._RF.push({},"2efb3b81xxJVqRLP5ZVEvV4","UIGameOver",void 0);var ccclass$7=_decorator.ccclass,property$8=_decorator.property,Layout_UIGameOver=(_dec$9=ccclass$7("Layout_UIGameOver"),_dec2$5=property$8(Node),_dec3$5=property$8(Button),_dec4$3=property$8(PixelSpriteNum),_dec5$3=property$8(PixelSpriteNum),_dec$9((_class2$5=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"root",_descriptor$6,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnHome",_descriptor2$3,_assertThisInitialized(t)),_initializerDefineProperty(t,"score",_descriptor3$3,_assertThisInitialized(t)),_initializerDefineProperty(t,"highestScore",_descriptor4$3,_assertThisInitialized(t)),t}return _inheritsLoose(t,e),t}(UIModule),_descriptor$6=_applyDecoratedDescriptor(_class2$5.prototype,"root",[_dec2$5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2$3=_applyDecoratedDescriptor(_class2$5.prototype,"btnHome",[_dec3$5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3$3=_applyDecoratedDescriptor(_class2$5.prototype,"score",[_dec4$3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor4$3=_applyDecoratedDescriptor(_class2$5.prototype,"highestScore",[_dec5$3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$9=_class2$5))||_class$9),UIGameOver=(_dec6$3=UIControllerProperty(UILayers.POPUP,"prefab/UIGameOver",Layout_UIGameOver),_dec6$3(_class4$1=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e),t.show=function(){UIMgr.getInstance().showUI(t)};var r=t.prototype;return r.onCreated=function(){var t=this,r=this._layout;r.btnHome.node.on("click",(function(){t.onClickEvent(!1),e.prototype.close.call(t),director.loadScene("HomeScene")})),r.score.showNumber(GameScene.Ins.currentScoreLabel.number),r.highestScore.showNumber(GameScene.Ins.highestScoreLabel.number),tween(this._layout.root).to(.2,{x:0},{easing:"sineOut"}).start()},r.close=function(){tween(this._layout.root).to(.15,{x:Screen.ScreenWidth},{easing:"sineIn"}).call((function(){})).start()},t}(UIController))||_class4$1),_dec$a,_dec2$6,_dec3$6,_dec4$4,_class$a,_class2$6,_descriptor$7,_descriptor2$4,_descriptor3$4,_dec5$4,_class4$2;cclegacy._RF.pop(),cclegacy._RF.push({},"138b2O7uj1DUZbJpRZagCmz","UIAdUnavaliable",void 0);var ccclass$8=_decorator.ccclass,property$9=_decorator.property,Layout_UIAdUnavailable=(_dec$a=ccclass$8("Layout_UIAdUnavailable"),_dec2$6=property$9(Node),_dec3$6=property$9(Button),_dec4$4=property$9(Button),_dec$a((_class2$6=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"root",_descriptor$7,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnBack",_descriptor2$4,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnOK",_descriptor3$4,_assertThisInitialized(t)),t}return _inheritsLoose(t,e),t}(UIModule),_descriptor$7=_applyDecoratedDescriptor(_class2$6.prototype,"root",[_dec2$6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2$4=_applyDecoratedDescriptor(_class2$6.prototype,"btnBack",[_dec3$6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3$4=_applyDecoratedDescriptor(_class2$6.prototype,"btnOK",[_dec4$4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$a=_class2$6))||_class$a),UIAdUnavailable=(_dec5$4=UIControllerProperty(UILayers.POPUP,"prefab/UIAdUnavailable",Layout_UIAdUnavailable),_dec5$4(_class4$2=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e),t.show=function(){UIMgr.getInstance().showUI(t)};var r=t.prototype;return r.onCreated=function(){var e=this,t=this._layout;t.btnBack.node.on("click",(function(){e.onClickEvent(),e.close()})),t.btnOK.node.on("click",(function(){e.onClickEvent(),e.close()})),tween(this._layout.root).to(.2,{x:0},{easing:"sineOut"}).start()},r.close=function(){tween(this._layout.root).to(.15,{x:Screen.ScreenWidth},{easing:"sineIn"}).call(e.prototype.close.bind(this)).start()},t}(UIController))||_class4$2),_dec$b,_dec2$7,_class$b,_class2$7,_descriptor$8,_dec3$7,_class4$3;cclegacy._RF.pop(),cclegacy._RF.push({},"3b05b/ZAKBFZ4aPR6CcePDG","UITips",void 0);var ccclass$9=_decorator.ccclass,property$a=_decorator.property,Layout_UITips=(_dec$b=ccclass$9("Layout_UITips"),_dec2$7=property$a(PixelSpriteWord),_dec$b((_class2$7=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"content",_descriptor$8,_assertThisInitialized(t)),t}return _inheritsLoose(t,e),t}(UIModule),_descriptor$8=_applyDecoratedDescriptor(_class2$7.prototype,"content",[_dec2$7],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$b=_class2$7))||_class$b),_instance$1=null,UITips=(_dec3$7=UIControllerProperty(UILayers.WAITING,"prefab/UITips",Layout_UITips),_dec3$7(_class4$3=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this)._contentStr="",t._showTime=0,t._showTimer=0,t}_inheritsLoose(t,e),t.show=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r,i){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i=2),_instance$1||(_instance$1=UIMgr.getInstance().showUI(t)),_instance$1._contentStr=r,_instance$1._showTime=i,e.abrupt("return",_instance$1);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();var r=t.prototype;return r.onCreated=function(){var e=this;debug("UITips onCreated"),this._layout.content.string=this._contentStr,this._showTimer=GlobalTimer.startTimer((function(){e.close(),e._showTimer=0}),this._showTime,1)},t.hide=function(){_instance$1&&(_instance$1.close(),_instance$1=null)},r.onDispose=function(){_instance$1=null,this._showTimer>0&&(GlobalTimer.stopTimer(this._showTimer),this._showTimer=0)},t}(UIController))||_class4$3),_dec$c,_dec2$8,_dec3$8,_dec4$5,_dec5$5,_class$c,_class2$8,_descriptor$9,_descriptor2$5,_descriptor3$5,_descriptor4$4,_dec6$4,_class4$4;cclegacy._RF.pop(),cclegacy._RF.push({},"b1c1ceOfVRB3qnvaUqXhRlz","UIResurrection",void 0);var ccclass$a=_decorator.ccclass,property$b=_decorator.property,Layout_UIResurrection=(_dec$c=ccclass$a("Layout_UIResurrection"),_dec2$8=property$b(Button),_dec3$8=property$b(Button),_dec4$5=property$b(Button),_dec5$5=property$b(Node),_dec$c((_class2$8=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"btnClose",_descriptor$9,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnRelive",_descriptor2$5,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnDiamond",_descriptor3$5,_assertThisInitialized(t)),_initializerDefineProperty(t,"or",_descriptor4$4,_assertThisInitialized(t)),t}return _inheritsLoose(t,e),t}(UIModule),_descriptor$9=_applyDecoratedDescriptor(_class2$8.prototype,"btnClose",[_dec2$8],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2$5=_applyDecoratedDescriptor(_class2$8.prototype,"btnRelive",[_dec3$8],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3$5=_applyDecoratedDescriptor(_class2$8.prototype,"btnDiamond",[_dec4$5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor4$4=_applyDecoratedDescriptor(_class2$8.prototype,"or",[_dec5$5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$c=_class2$8))||_class$c),UIResurrection=(_dec6$4=UIControllerProperty(UILayers.POPUP,"prefab/UIResurrection",Layout_UIResurrection),_dec6$4(_class4$4=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).countdownTimer=-1,t._bRewarded=!1,t}_inheritsLoose(t,e),t.show=function(){UIMgr.getInstance().showUI(t)};var r=t.prototype;return r.onCreated=function(){var e=this,t=this._layout;t.btnClose.node.on("click",(function(){e.onClickEvent(!1),e.close(),e.onResurrectionFail(),UIGameOver.show()})),t.btnRelive.node.on("click",(function(){e.onClickEvent(!1),e.onClickAdRelive()})),t.btnDiamond.node.on("click",(function(){e.onClickEvent(!1),e.onClickDiamondRelive()})),t.btnRelive.node.active=!1,t.or.active=!1,AdManager.Ins().isRewardedAdReady(AD_CONFIG.adUnitIds.rewardedVideo,(function(r){t.btnRelive.node.active=r,t.or.active=r,r||(AdManager.Ins().loadRewardedAd(AD_CONFIG.adUnitIds.rewardedVideo),e.onAdShowFail())}));var r=10,i=this.node.getChildByName("countdown").getComponent(PixelSpriteNum);i.showNumber(r--);var o=GlobalTimer.startTimer((function(){0==r&&(GlobalTimer.stopTimer(e.countdownTimer),e.countdownTimer=-1,e.onTimeOut()),AudioMgr.Ins().playOneShot("audio/tick"),i.showNumber(r--)}),1,-1);this.countdownTimer=o},r.onTimeOut=function(){this.close(),this.onResurrectionFail(),UIGameOver.show()},r.onResurrectionFail=function(){GlobalEvent.emit("UIResurrection:Failed")},r.onClickAdRelive=function(){this.countdownTimer>0&&GlobalTimer.pauseTimer(this.countdownTimer),AdManager.Ins().setListener(this),AdManager.Ins().showRewardedAd(AD_CONFIG.adUnitIds.rewardedVideo)},r.onClickDiamondRelive=function(){var e=ConfigLoader.getConfig("item").find((function(e){return 2===e.id}));UserData.diamonds<e.consume?UITips.show("Diamonds not enough"):(UIWaiting.show("Requesting resurrection..."),(new ReqAddDiamond).start(-e.consume).then((function(){GlobalEvent.emit("UIResurrection:Success"),UIWaiting.hide()})).catch((function(e){UIAlert.show(e),UIWaiting.hide()})),this.close())},r.onAdRewarded=function(){debug("onAdRewarded"),this._bRewarded=!0},r.onAdClose=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(debug("onAdClose"),this._bRewarded){e.next=3;break}return e.abrupt("return");case 3:UITips.show("Resurrection successful"),GlobalEvent.emit("UIResurrection:Success"),this.close();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.onAdShowFail=function(){debug("onAdShowFail"),UIAdUnavailable.show()},r.onDispose=function(){this.countdownTimer>0&&GlobalTimer.stopTimer(this.countdownTimer)},t}(UIController))||_class4$4),_dec$d,_class$d;cclegacy._RF.pop(),cclegacy._RF.push({},"dcfa9isbRlHhqhf/MhAvOyK","ReqUpdateHighestScore",void 0);var ReqUpdateHighestScore=(_dec$d=HttpTaskProperty("ReqUpdateHighestScore",""+Server.baseUrl+Server.updateHighestScore,"PUT"),_dec$d(_class$d=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.prototype.start=function(t){var r=this;return this.url=this.url.replace("{uid}",UserData.uid),this.reqData=SafeJSON.stringify({highest_score:t}),new Promise((function(t,i){e.prototype.start.call(r).then((function(e){e&&e.success?(UserData.highestScore=e.data.highestScore,UserData.save(),t(e)):i(e.message)})).catch((function(e){i(e)}))}))},t}(NetTaskBase))||_class$d),_dec$e,_dec2$9,_dec3$9,_dec4$6,_dec5$6,_dec6$5,_dec7$1,_dec8,_dec9,_class$e,_class2$9,_descriptor$a,_descriptor2$6,_descriptor3$6,_descriptor4$5,_descriptor5$1,_descriptor6,_descriptor7,_descriptor8,_dec10,_class4$5;cclegacy._RF.pop(),cclegacy._RF.push({},"5928fLLih9Nlqaw+1xbgzSk","UIPause",void 0);var ccclass$b=_decorator.ccclass,property$c=_decorator.property,Layout_UIPause=(_dec$e=ccclass$b("Layout_UIPause"),_dec2$9=property$c(Node),_dec3$9=property$c(Button),_dec4$6=property$c(Button),_dec5$6=property$c(Button),_dec6$5=property$c(Button),_dec7$1=property$c(Button),_dec8=property$c(Button),_dec9=property$c(Button),_dec$e((_class2$9=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"root",_descriptor$a,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnClose",_descriptor2$6,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnHome",_descriptor3$6,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnRestart",_descriptor4$5,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnMusic",_descriptor5$1,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnSound",_descriptor6,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnVibrate",_descriptor7,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnRule",_descriptor8,_assertThisInitialized(t)),t}return _inheritsLoose(t,e),t}(UIModule),_descriptor$a=_applyDecoratedDescriptor(_class2$9.prototype,"root",[_dec2$9],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2$6=_applyDecoratedDescriptor(_class2$9.prototype,"btnClose",[_dec3$9],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3$6=_applyDecoratedDescriptor(_class2$9.prototype,"btnHome",[_dec4$6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor4$5=_applyDecoratedDescriptor(_class2$9.prototype,"btnRestart",[_dec5$6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor5$1=_applyDecoratedDescriptor(_class2$9.prototype,"btnMusic",[_dec6$5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor6=_applyDecoratedDescriptor(_class2$9.prototype,"btnSound",[_dec7$1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor7=_applyDecoratedDescriptor(_class2$9.prototype,"btnVibrate",[_dec8],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor8=_applyDecoratedDescriptor(_class2$9.prototype,"btnRule",[_dec9],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$e=_class2$9))||_class$e),UIPause=(_dec10=UIControllerProperty(UILayers.POPUP,"prefab/UIPause",Layout_UIPause),_dec10(_class4$5=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e),t.show=function(){UIMgr.getInstance().showUI(t)};var r=t.prototype;return r.onCreated=function(){var t=this,r=this._layout;r.btnClose.node.on("click",(function(){t.onClickEvent(),t.close()})),r.btnHome.node.on("click",(function(){t.onClickEvent(!1),e.prototype.close.call(t),director.loadScene("HomeScene")})),r.btnRestart.node.on("click",(function(){t.onClickEvent(!1);UIAlert.show("Are you sure you want to reset your game?\nThis will set your current score to zero.",!0).onClick((function(r){r&&(e.prototype.close.call(t),GlobalEvent.emit("UIPause:ResetGame"))}))})),find("icon/off",r.btnMusic.node).active=0==UserPreferences.musicVolume,r.btnMusic.node.on("click",(function(){debug("layout.btnMusic.node.onclick"),t.onClickEvent(!1);var e=1==AudioMgr.Ins().musicVolume;find("icon/off",r.btnMusic.node).active=e,AudioMgr.Ins().musicVolume=e?0:1,UserPreferences.musicVolume=AudioMgr.Ins().musicVolume,0==AudioMgr.Ins().musicVolume?AudioMgr.Ins().pause():AudioMgr.Ins().resume()})),find("icon/off",r.btnSound.node).active=0==UserPreferences.soundVolume,r.btnSound.node.on("click",(function(){t.onClickEvent(!1);var e=1==AudioMgr.Ins().soundVolume;find("icon/off",r.btnSound.node).active=e,AudioMgr.Ins().soundVolume=e?0:1,UserPreferences.soundVolume=AudioMgr.Ins().soundVolume})),find("icon/off",r.btnVibrate.node).active=!UserPreferences.vibrate,r.btnVibrate.node.on("click",(function(){t.onClickEvent(!1),UserPreferences.vibrate=!UserPreferences.vibrate,find("icon/off",r.btnVibrate.node).active=!UserPreferences.vibrate})),r.btnRule.node.on("click",(function(){t.onClickEvent()})),tween(this._layout.root).to(.2,{x:0},{easing:"sineOut"}).start()},r.close=function(){var t=this;tween(this._layout.root).to(.15,{x:Screen.ScreenWidth},{easing:"sineIn"}).call((function(){e.prototype.close.call(t)})).start()},r.onDispose=function(){UserPreferences.save()},t}(UIController))||_class4$5);cclegacy._RF.pop(),cclegacy._RF.push({},"a18fapoRfBMaY4Z7Rm3rBQz","GameSceneBase",void 0);var GameSceneBase=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.prototype.onClickEvent=function(e){void 0===e&&(e=!0),UserPreferences.vibrate&&Device.VibrateShort(),e&&AudioMgr.Ins().playOneShot("audio/btn")},t}(UIModule),_dec$f,_dec2$a,_dec3$a,_class$f,_class2$a,_descriptor$b,_descriptor2$7,_dec4$7,_class4$6;cclegacy._RF.pop(),cclegacy._RF.push({},"adf1cqRVLlEuobI6TfVtHC0","UIFlyDiamonds",void 0);var ccclass$c=_decorator.ccclass,property$d=_decorator.property,Layout_UIFlyDiamonds=(_dec$f=ccclass$c("Layout_UIFlyDiamonds"),_dec2$a=property$d(Node),_dec3$a=property$d(Node),_dec$f((_class2$a=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"pos",_descriptor$b,_assertThisInitialized(t)),_initializerDefineProperty(t,"icon",_descriptor2$7,_assertThisInitialized(t)),t}return _inheritsLoose(t,e),t}(UIModule),_descriptor$b=_applyDecoratedDescriptor(_class2$a.prototype,"pos",[_dec2$a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2$7=_applyDecoratedDescriptor(_class2$a.prototype,"icon",[_dec3$a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$f=_class2$a))||_class$f),UIFlyDiamonds=(_dec4$7=UIControllerProperty(UILayers.OVERLAY,"prefab/UIFlyDiamonds",Layout_UIFlyDiamonds),_dec4$7(_class4$6=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.show=function(){UIMgr.getInstance().showUI(t)},t.prototype.onCreated=function(){for(var e=this,t=this._layout,r=function(r){var i=instantiate(t.icon);i.active=!0,i.parent=e.node,i.position=v3(0,0,0),tween(i).delay(.1*r).call((function(){AudioMgr.Ins().playOneShot("audio/fly_diamonds")})).to(.4,{position:t.pos.position}).call((function(){9==r&&e.close()})).start()},i=0;i<10;i++)r(i)},t}(UIController))||_class4$6),_dec$g,_dec2$b,_dec3$b,_dec4$8,_class$g,_class2$b,_descriptor$c,_descriptor2$8,_descriptor3$7,_dec5$7,_class4$7;cclegacy._RF.pop(),cclegacy._RF.push({},"3f16c8OYn1Bv6aCN1yKofOq","UIAd",void 0);var ccclass$d=_decorator.ccclass,property$e=_decorator.property,Layout_UIAd=(_dec$g=ccclass$d("Layout_UIAd"),_dec2$b=property$e(Node),_dec3$b=property$e(Node),_dec4$8=property$e(Button),_dec$g((_class2$b=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"root",_descriptor$c,_assertThisInitialized(t)),_initializerDefineProperty(t,"tips",_descriptor2$8,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnBack",_descriptor3$7,_assertThisInitialized(t)),t}return _inheritsLoose(t,e),t}(UIModule),_descriptor$c=_applyDecoratedDescriptor(_class2$b.prototype,"root",[_dec2$b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2$8=_applyDecoratedDescriptor(_class2$b.prototype,"tips",[_dec3$b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3$7=_applyDecoratedDescriptor(_class2$b.prototype,"btnBack",[_dec4$8],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$g=_class2$b))||_class$g),UIAd=(_dec5$7=UIControllerProperty(UILayers.OVERLAY,"prefab/UIAd",Layout_UIAd),_dec5$7(_class4$7=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this)._bRewarded=!1,t}_inheritsLoose(t,e),t.show=function(){UIMgr.getInstance().showUI(t)};var r=t.prototype;return r.onCreated=function(){var e=this;this._layout.btnBack.node.on("click",(function(){e.onClickEvent(),e.close()})),tween(this._layout.root).to(.2,{x:0},{easing:"sineOut"}).call((function(){e.initAd()})).start()},r.initAd=function(){var e=this;AdManager.Ins().isRewardedAdReady(AD_CONFIG.adUnitIds.rewardedVideo,(function(t){t?(AdManager.Ins().setListener(e),AdManager.Ins().showRewardedAd(AD_CONFIG.adUnitIds.rewardedVideo)):(AdManager.Ins().loadRewardedAd(AD_CONFIG.adUnitIds.rewardedVideo),e.onAdShowFail())}))},r.onAdRewarded=function(){this._bRewarded=!0},r.onAdShowFail=function(){this._layout.tips.active=!0},r.onAdClose=function(){if(debug("onAdClose"),this._bRewarded){this.close();var e=ConfigLoader.getConfig("award").ad;(new ReqAddDiamond).start(e).then((function(){UITips.show("Received "+e+" Diamonds"),UIFlyDiamonds.show()})).catch((function(e){UIAlert.show(e)}))}},r.close=function(){tween(this._layout.root).to(.15,{x:Screen.ScreenWidth},{easing:"sineIn"}).call(e.prototype.close.bind(this)).start()},t}(UIController))||_class4$7),_dec$h,_dec2$c,_dec3$c,_dec4$9,_dec5$8,_dec6$6,_dec7$2,_dec8$1,_dec9$1,_dec10$1,_class$h,_class2$c,_descriptor$d,_descriptor2$9,_descriptor3$8,_descriptor4$6,_descriptor5$2,_descriptor6$1,_descriptor7$1,_descriptor8$1;cclegacy._RF.pop(),cclegacy._RF.push({},"e456ciAxy5PbZnOjNUd7M1B","PixelSpriteProgress",void 0);var ccclass$e=_decorator.ccclass,property$f=_decorator.property,executeInEditMode$2=_decorator.executeInEditMode,PixelSpriteProgress=(_dec$h=ccclass$e("PixelSpriteProgress"),_dec2$c=executeInEditMode$2(),_dec3$c=property$f({displayName:DEV}),_dec4$9=property$f({displayName:DEV}),_dec5$8=property$f({displayName:DEV}),_dec6$6=property$f({displayName:DEV}),_dec7$2=property$f({displayName:DEV}),_dec8$1=property$f({displayName:DEV}),_dec9$1=property$f({displayName:DEV}),_dec10$1=property$f({displayName:DEV}),_dec$h(_class$h=_dec2$c((_class2$c=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"_blockSize",_descriptor$d,_assertThisInitialized(t)),_initializerDefineProperty(t,"_widthBlocks",_descriptor2$9,_assertThisInitialized(t)),_initializerDefineProperty(t,"_heightBlocks",_descriptor3$8,_assertThisInitialized(t)),_initializerDefineProperty(t,"_border",_descriptor4$6,_assertThisInitialized(t)),_initializerDefineProperty(t,"_borderColor",_descriptor5$2,_assertThisInitialized(t)),_initializerDefineProperty(t,"_bgColor",_descriptor6$1,_assertThisInitialized(t)),_initializerDefineProperty(t,"_fillColor",_descriptor7$1,_assertThisInitialized(t)),_initializerDefineProperty(t,"_progress",_descriptor8$1,_assertThisInitialized(t)),t}_inheritsLoose(t,e);var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),this.resizeCanvas(),this.redraw()},r.onEnable=function(){this.redraw()},r.resizeCanvas=function(){var e=this._widthBlocks*this._blockSize,t=this._heightBlocks*this._blockSize;e===this.size.width&&t===this.size.height||(this.size=new Size(e,t),this.reSize())},r.resizeAndRedraw=function(){this.resizeCanvas(),this.redraw()},r.redraw=function(){if(this.node&&this._blockSize){for(var e=this._widthBlocks,t=this._heightBlocks,r=Math.min(this._border,Math.floor(Math.min(e,t)/2)),i=[],o=0;o<t;o++){i[o]=[];for(var n=0;n<e;n++)i[o][n]=new Color(0,0,0,0)}for(var s=0;s<t;s++)for(var a=0;a<e;a++){r>0&&(s<r||s>=t-r||a<r||a>=e-r)&&(i[s][a]=this._borderColor)}for(var c=r,l=e-r,u=r,p=t-r,d=u;d<p;d++)for(var f=c;f<l;f++)i[d][f]=this._bgColor;for(var h=l-c,_=Math.round(h*this._progress),y=u;y<p;y++)for(var g=c;g<c+_;g++)i[y][g]=this._fillColor;this.drawPixelGrid(this._blockSize,new Color(0,0,0,0),i,!0)}},_createClass(t,[{key:"blockSize",get:function(){return this._blockSize},set:function(e){this._blockSize=e,this.redraw()}},{key:"widthBlocks",get:function(){return this._widthBlocks},set:function(e){this._widthBlocks=Math.max(3,Math.floor(e)),this.resizeAndRedraw()}},{key:"heightBlocks",get:function(){return this._heightBlocks},set:function(e){this._heightBlocks=Math.max(3,Math.floor(e)),this.resizeAndRedraw()}},{key:"border",get:function(){return this._border},set:function(e){this._border=Math.max(0,Math.floor(e)),this.redraw()}},{key:"borderColor",get:function(){return this._borderColor},set:function(e){this._borderColor=e,this.redraw()}},{key:"backgroundColorCell",get:function(){return this._bgColor},set:function(e){this._bgColor=e,this.redraw()}},{key:"fillColor",get:function(){return this._fillColor},set:function(e){this._fillColor=e,this.redraw()}},{key:"progress",get:function(){return this._progress},set:function(e){this._progress=Math.max(0,Math.min(1,e)),this.redraw()}}]),t}(PixelSprite),_descriptor$d=_applyDecoratedDescriptor(_class2$c.prototype,"_blockSize",[property$f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),_applyDecoratedDescriptor(_class2$c.prototype,"blockSize",[_dec3$c],Object.getOwnPropertyDescriptor(_class2$c.prototype,"blockSize"),_class2$c.prototype),_descriptor2$9=_applyDecoratedDescriptor(_class2$c.prototype,"_widthBlocks",[property$f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),_applyDecoratedDescriptor(_class2$c.prototype,"widthBlocks",[_dec4$9],Object.getOwnPropertyDescriptor(_class2$c.prototype,"widthBlocks"),_class2$c.prototype),_descriptor3$8=_applyDecoratedDescriptor(_class2$c.prototype,"_heightBlocks",[property$f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),_applyDecoratedDescriptor(_class2$c.prototype,"heightBlocks",[_dec5$8],Object.getOwnPropertyDescriptor(_class2$c.prototype,"heightBlocks"),_class2$c.prototype),_descriptor4$6=_applyDecoratedDescriptor(_class2$c.prototype,"_border",[property$f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_applyDecoratedDescriptor(_class2$c.prototype,"border",[_dec6$6],Object.getOwnPropertyDescriptor(_class2$c.prototype,"border"),_class2$c.prototype),_descriptor5$2=_applyDecoratedDescriptor(_class2$c.prototype,"_borderColor",[property$f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Color(30,27,76,255)}}),_applyDecoratedDescriptor(_class2$c.prototype,"borderColor",[_dec7$2],Object.getOwnPropertyDescriptor(_class2$c.prototype,"borderColor"),_class2$c.prototype),_descriptor6$1=_applyDecoratedDescriptor(_class2$c.prototype,"_bgColor",[property$f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Color(25,31,82,255)}}),_applyDecoratedDescriptor(_class2$c.prototype,"backgroundColorCell",[_dec8$1],Object.getOwnPropertyDescriptor(_class2$c.prototype,"backgroundColorCell"),_class2$c.prototype),_descriptor7$1=_applyDecoratedDescriptor(_class2$c.prototype,"_fillColor",[property$f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Color(255,199,64,255)}}),_applyDecoratedDescriptor(_class2$c.prototype,"fillColor",[_dec9$1],Object.getOwnPropertyDescriptor(_class2$c.prototype,"fillColor"),_class2$c.prototype),_descriptor8$1=_applyDecoratedDescriptor(_class2$c.prototype,"_progress",[property$f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.6}}),_applyDecoratedDescriptor(_class2$c.prototype,"progress",[_dec10$1],Object.getOwnPropertyDescriptor(_class2$c.prototype,"progress"),_class2$c.prototype),_class$h=_class2$c))||_class$h)||_class$h),_dec$i,_dec2$d,_dec3$d,_dec4$a,_dec5$9,_dec6$7,_dec7$3,_dec8$2,_class$i,_class2$d,_descriptor$e,_descriptor2$a,_descriptor3$9,_descriptor4$7,_descriptor5$3,_descriptor6$2,_descriptor7$2,_dec9$2,_class4$8;cclegacy._RF.pop(),cclegacy._RF.push({},"f0df3+FCGBBorqC3DaAbH5x","UILevelUp",void 0);var ccclass$f=_decorator.ccclass,property$g=_decorator.property,Layout_UILevelUp=(_dec$i=ccclass$f("Layout_UILevelUp"),_dec2$d=property$g(Node),_dec3$d=property$g(Button),_dec4$a=property$g(Button),_dec5$9=property$g(Button),_dec6$7=property$g(PixelSpriteNum),_dec7$3=property$g(PixelSpriteNum),_dec8$2=property$g(PixelSprite),_dec$i((_class2$d=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"root",_descriptor$e,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnClose",_descriptor2$a,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnNo",_descriptor3$9,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnAd",_descriptor4$7,_assertThisInitialized(t)),_initializerDefineProperty(t,"labelAward",_descriptor5$3,_assertThisInitialized(t)),_initializerDefineProperty(t,"levelScore",_descriptor6$2,_assertThisInitialized(t)),_initializerDefineProperty(t,"unlockColor",_descriptor7$2,_assertThisInitialized(t)),t}return _inheritsLoose(t,e),t}(UIModule),_descriptor$e=_applyDecoratedDescriptor(_class2$d.prototype,"root",[_dec2$d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2$a=_applyDecoratedDescriptor(_class2$d.prototype,"btnClose",[_dec3$d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3$9=_applyDecoratedDescriptor(_class2$d.prototype,"btnNo",[_dec4$a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor4$7=_applyDecoratedDescriptor(_class2$d.prototype,"btnAd",[_dec5$9],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor5$3=_applyDecoratedDescriptor(_class2$d.prototype,"labelAward",[_dec6$7],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor6$2=_applyDecoratedDescriptor(_class2$d.prototype,"levelScore",[_dec7$3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor7$2=_applyDecoratedDescriptor(_class2$d.prototype,"unlockColor",[_dec8$2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$i=_class2$d))||_class$i),UILevelUp=(_dec9$2=UIControllerProperty(UILayers.POPUP,"prefab/UILevelUp",Layout_UILevelUp),_dec9$2(_class4$8=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this)._config=null,t}_inheritsLoose(t,e),t.show=function(){UIMgr.getInstance().showUI(t)};var r=t.prototype;return r.onCreated=function(){var e=this,t=this._layout;if(t.btnClose.node.on("click",(function(){e.onClickEvent(),e.close()})),t.btnNo.node.on("click",(function(){e.onClickEvent(),e.close()})),t.btnAd.node.on("click",(function(){AdManager.Ins().isRewardedAdReady(AD_CONFIG.adUnitIds.rewardedVideo,(function(t){t?(AdManager.Ins().setListener(e),AdManager.Ins().showRewardedAd(AD_CONFIG.adUnitIds.rewardedVideo)):e.onAdShowFail()}))})),this._config=ConfigLoader.getConfig("level").find((function(e){return e.level===UserData.level})),t.labelAward.number=this._config.award,find("Label",t.btnAd.node).getComponent(PixelSpriteWord).word="CLAIM x "+this._config.ad_multiple,this._config.unlock_color){t.unlockColor.node.active=!0;for(var r=(new Color).fromHEX(this._config.unlock_color),i=[],o=0;o<30;o++)if(i[o]=[],o<16)for(var n=(30-(2+4*Math.floor(o/2)))/2,s=0;s<30;s++)i[o][s]=s>=n&&s<30-n?1:0;else for(var a=0;a<30;a++)i[o][a]=0;for(var c=[],l=0;l<i.length;l++){c[l]=[];for(var u=0;u<i[l].length;u++)1===i[l][u]?c[l][u]=r:c[l][u]=new Color(0,0,0,0)}t.unlockColor.drawPixelGrid(10,new Color(0,0,0,0),c,!0)}else t.levelScore.node.active=!0,t.levelScore.number=this._config.score_start;tween(this._layout.root).to(.2,{x:0},{easing:"sineOut"}).start()},r.close=function(){tween(this._layout.root).to(.15,{x:Screen.ScreenWidth},{easing:"sineIn"}).call(e.prototype.close.bind(this)).start()},r.onAdRewarded=function(){var t=this;UIWaiting.show("Loading...");var r=(this._config.ad_multiple-1)*this._config.award;(new ReqAddDiamond).start(r).then((function(){e.prototype.close.call(t),UITips.show("Received "+r+" Diamonds"),UIFlyDiamonds.show(),UIWaiting.hide()})).catch((function(e){UIAlert.show(e),UIWaiting.hide()}))},r.onAdShowFail=function(){e.prototype.close.call(this),UIAdUnavailable.show()},t}(UIController))||_class4$8),_dec$j,_class$j;cclegacy._RF.pop(),cclegacy._RF.push({},"a0e481PMKxLeotAb5Mnuxia","ReqLevelUp",void 0);var ReqLevelUp=(_dec$j=HttpTaskProperty("ReqLevelUp",""+Server.baseUrl+Server.levelUp,"PUT"),_dec$j(_class$j=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.prototype.start=function(t){var r=this;return this.url=this.url.replace("{uid}",UserData.uid),this.reqData=t?SafeJSON.stringify({level:t}):SafeJSON.stringify({level:UserData.level+1}),new Promise((function(t,i){e.prototype.start.call(r).then((function(e){e&&e.success?(UserData.level=e.data.currentLevel,UserData.save(),t(e)):i(e.message)})).catch((function(e){i(e)}))}))},t}(NetTaskBase))||_class$j),_dec$k,_dec2$e,_dec3$e,_dec4$b,_dec5$a,_dec6$8,_dec7$4,_dec8$3,_dec9$3,_dec10$2,_dec11,_dec12,_dec13,_class$k,_class2$e,_descriptor$f,_descriptor2$b,_descriptor3$a,_descriptor4$8,_descriptor5$4,_descriptor6$3,_descriptor7$3,_descriptor8$2,_descriptor9,_descriptor10,_descriptor11,_descriptor12,_class3;cclegacy._RF.pop(),cclegacy._RF.push({},"cfe2cEog4hPuo6DYs2GRTCi","GameScene",void 0);var ccclass$g=_decorator.ccclass,property$h=_decorator.property,GameScene=(_dec$k=ccclass$g("GameScene"),_dec2$e=property$h({type:PixelSprite,displayName:"沙盘纹理"}),_dec3$e=property$h({type:Node,displayName:"最高点控制线"}),_dec4$b=property$h({type:CCInteger,displayName:"方块大小"}),_dec5$a=property$h({type:PixelSpriteNum,displayName:"钻石数量"}),_dec6$8=property$h({type:PixelSpriteNum,displayName:"最高分"}),_dec7$4=property$h({type:PixelSpriteNum,displayName:"当前分数"}),_dec8$3=property$h({type:PixelSpriteProgress,displayName:"分数进度"}),_dec9$3=property$h({type:PixelSpriteWord,displayName:"关卡开始分数"}),_dec10$2=property$h({type:PixelSpriteWord,displayName:"关卡结束分数"}),_dec11=property$h({type:PixelSprite,displayName:"当前形状1"}),_dec12=property$h({type:PixelSprite,displayName:"当前形状2"}),_dec13=property$h({type:PixelSprite,displayName:"当前形状3"}),_dec$k((_class3=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).moduleName="GameScene",_initializerDefineProperty(t,"sandMap",_descriptor$f,_assertThisInitialized(t)),_initializerDefineProperty(t,"topLine",_descriptor2$b,_assertThisInitialized(t)),_initializerDefineProperty(t,"blockSize",_descriptor3$a,_assertThisInitialized(t)),_initializerDefineProperty(t,"diamondsLabel",_descriptor4$8,_assertThisInitialized(t)),_initializerDefineProperty(t,"highestScoreLabel",_descriptor5$4,_assertThisInitialized(t)),_initializerDefineProperty(t,"currentScoreLabel",_descriptor6$3,_assertThisInitialized(t)),_initializerDefineProperty(t,"currentScoreProgress",_descriptor7$3,_assertThisInitialized(t)),_initializerDefineProperty(t,"levelStartScoreLabel",_descriptor8$2,_assertThisInitialized(t)),_initializerDefineProperty(t,"levelEndScoreLabel",_descriptor9,_assertThisInitialized(t)),_initializerDefineProperty(t,"shape1",_descriptor10,_assertThisInitialized(t)),_initializerDefineProperty(t,"shape2",_descriptor11,_assertThisInitialized(t)),_initializerDefineProperty(t,"shape3",_descriptor12,_assertThisInitialized(t)),t._randColor=[],t._unlockColors=[],t._levelConfig=null,t._sandFlowingTimer=!1,t._activeSandCoords=new Set,t._shapeInfo=[],t._sandInfoMap=new Map,t._shapeId=0,t._flashingBlocks=[],t._flashTimer=0,t._isFlashing=!1,t._stableTimer=0,t._stableDelay=.05,t._lastPlaySandSoundTime=0,t._needsTextureUpdate=!1,t._textureUpdateTimer=0,t._textureUpdateInterval=1/60,t._frameCount=0,t._lastFPSUpdate=0,t._gridCols=0,t._gridRows=0,t._isGameOver=!1,t._checkGameOverTimer=0,t._topLineRow=0,t._mainTimer=0,t._isLevelUp=!1,t}_inheritsLoose(t,e);var r=t.prototype;return r.getShapePixelSprite=function(e){switch(e){case 0:return this.shape1;case 1:return this.shape2;case 2:return this.shape3}},r.start=function(){t.Ins=this,this.initNode(),this.initEvent(),this.onInit()},r.initNode=function(){for(var e=this,t=0,r=-99999999,i=!1,o=function(){t=0,r=-99999999,i=!1},n=function(n){e.child("shape"+(n+1)).on(Node.EventType.TOUCH_START,(function(o){if(!e._shapeInfo[n].used&&!(e._sandFlowingTimer||e._isFlashing||e._isGameOver)){UserPreferences.vibrate&&Device.VibrateShort(),i=!0,t=o.getUILocation().x;for(var s=e._shapeInfo[n].info.colors,a=e.sandMap._texture.width/e.blockSize/2-Math.floor(s[0].length/2),c=0;c<s.length;c++)for(var l=0;l<s[c].length;l++){e.sandMap.setGridBlockColor(a+l,c,s[c][l],e.blockSize,!1);var u=e.coordToString(c,a+l);e._sandInfoMap.set(u,{color:s[c][l],info:e._shapeInfo[n].info})}r=a,e._needsTextureUpdate=!0}})),e.child("shape"+(n+1)).on(Node.EventType.TOUCH_MOVE,(function(o){if(i&&!e._shapeInfo[n].used&&!(e._sandFlowingTimer||e._isFlashing||e._isGameOver)){var s=o.getUILocation().x,a=e._shapeInfo[n].info.colors,c=e.sandMap._texture.width/e.blockSize/2,l=c-Math.floor(a[0].length/2),u=Math.floor(2*(s-t)/e.blockSize);l+u+a[0].length>2*c?(error("out of right"),u=2*c-l-a[0].length):l+u<0&&(error("out of left"),u=-l),-99999999==r&&(r=l);var p=l+u,d=p-r;if(0!=d){if(d>0)for(var f=0;f<a.length;f++)for(var h=0;h<d;h++)e.sandMap.clearGridBlockColor(r+h,f,e.blockSize,!1);else if(d<0)for(var _=0;_<a.length;_++)for(var y=0;y<Math.abs(d);y++)e.sandMap.clearGridBlockColor(r+a[0].length-1-y,_,e.blockSize,!1);for(var g=0;g<a.length;g++)for(var m=0;m<a[g].length;m++){e.sandMap.setGridBlockColor(p+m,g,a[g][m],e.blockSize,!1);var v=e.coordToString(g,p+m);e._sandInfoMap.set(v,{color:a[g][m],info:e._shapeInfo[n].info})}r=p,e._needsTextureUpdate=!0}}})),e.child("shape"+(n+1)).on(Node.EventType.TOUCH_END,(function(t){debug("touch end"),i&&!e._shapeInfo[n].used&&(e._sandFlowingTimer||e._isFlashing||e._isGameOver||(debug("lastBlockLeftX",r),debug("this.sandMap.size.width",e.sandMap.size.width),e._sandFlowingTimer=!0,e.getShapePixelSprite(n).clear(!0),e._shapeInfo[n].used=!0,ScoreManager.addPlaceCount(),ScoreManager.addPlaceScore(e._shapeInfo[n].info.shapeType,e._unlockColors[e._shapeInfo[n].info.colorIndex]),e._shapeInfo.every((function(e){return 1==e.used}))&&e.initShape(),o()))})),e.child("shape"+(n+1)).on(Node.EventType.TOUCH_CANCEL,(function(t){debug("touch cancel"),i&&!e._shapeInfo[n].used&&(e._sandFlowingTimer||e._isFlashing||e._isGameOver||(e._sandFlowingTimer=!0,e.getShapePixelSprite(n).clear(!0),e._shapeInfo[n].used=!0,ScoreManager.addPlaceCount(),ScoreManager.addPlaceScore(e._shapeInfo[n].info.shapeType,e._unlockColors[e._shapeInfo[n].info.colorIndex]),e._shapeInfo.every((function(e){return 1==e.used}))&&e.initShape(),o()))}))},s=0;s<3;s++)n(s)},r.initEvent=function(){var e=this;GlobalEvent.on("UserData:Changed",(function(){debug("UserData:Changed"),e.initUserInfo()})),GlobalEvent.on("UserData:Level:Changed",(function(){debug("LevelConfig:Changed"),e.onLevelChanged()})),GlobalEvent.on("UIResurrection:Success",(function(){debug("UIResurrection:Success"),e.restartGame()})),GlobalEvent.on("UIResurrection:Failed",(function(){debug("UIResurrection:Failed"),e.clearGameLocalCache(),UIWaiting.show("Loading..."),(new ReqLevelUp).start(1).then((function(){UIWaiting.hide()})).catch((function(e){director.loadScene("HomeScene"),UIMgr.getInstance().closeAllUI(),UIWaiting.hide()}))})),GlobalEvent.on("UIPause:ResetGame",(function(){debug("UIPause:ResetGame"),e.resetGame(),e.restartGame()}))},r.onInit=function(){var e=this;debug("GameScene onInit"),this.initConfig(),this.initUserInfo(),this.initProps(),this.initScoreSystem(),this.initSandMap(),this.initShape(),this._mainTimer=GlobalTimer.startTimer((function(t){e._isGameOver?debug("gameOver return"):(e.flowSand(t),e.matching(),e.updateFlashEffect(1/60),e._textureUpdateTimer+=t,e._needsTextureUpdate&&e._textureUpdateTimer>=e._textureUpdateInterval&&(e.sandMap.updateAllData(),e._needsTextureUpdate=!1,e._textureUpdateTimer=0),e.updatePerformance(t),e._sandFlowingTimer&&(e._checkGameOverTimer+=t),e._checkGameOverTimer>0&&!e._sandFlowingTimer&&!e._isFlashing&&(e._checkGameOverTimer=0,e.checkGameOver()))}),1/60,-1)},r.initSandMap=function(){var e=this;if(this.sandMap){this.sandMap.clear(!0),this.blockSize=this._levelConfig.block_size;var t=this.sandMap._texture.width,r=this.sandMap._texture.height;if(this._gridCols=Math.floor(t/this.blockSize),this._gridRows=Math.floor(r/this.blockSize),this.topLine){var i=this.topLine.position,o=this.sandMap.size.height/2-i.y;this._topLineRow=Math.floor(o/this.blockSize),this.topLine.y=this.sandMap.size.height/2-this._topLineRow*this.blockSize,debug("topLine row:",this._topLineRow)}var n=sys.localStorage.getItem("sandMapColor"),s=sys.localStorage.getItem("sandMapInfo");if(n)for(var a=SafeJSON.parse(n),c=0;c<a.length;c++)for(var l=0;l<a[c].length;l++){var u=a[c][l].split(",");this.sandMap.setGridBlockColor(l,c,new Color(Number(u[0]),Number(u[1]),Number(u[2]),Number(u[3])),this.blockSize,!1)}if(s){var p=SafeJSON.parse(s);debug("parsed",p),this._sandInfoMap=new Map(p.map((function(t){var r=t[0],i=t[1],o=i[0],n=i[1],s=i[2],a=e.parseCoord(r),c=a[0],l=a[1];return[r,{color:e.sandMap.getGridBlockColor(l,c,e.blockSize)||new Color(0,0,0,0),info:{colorIndex:o,shapeType:n,shapeId:s}}]}))),this._activeSandCoords=new Set(this._sandInfoMap.keys())}this.sandMap.updateAllData(),GlobalTimer.startTimer((function(){e.sandMap.setAutoUpdate(!1)}),1/60,0)}},r.testFillSanMap=function(){for(var e=this.sandMap._texture.width,t=this.sandMap._texture.height,r=[],i=0;i<t;i++){r[i]=[];for(var o=0;o<e;o++){var n=Math.floor(Math.random()*this._unlockColors.length);r[i][o]=this._unlockColors[n]}}this.sandMap.drawPixelGrid(this.blockSize,new Color(0,0,0,0),r,!0)},r.initShape=function(){if(this.shape1&&this.shape2&&this.shape3)if(0!=this._unlockColors.length)for(var e=-1,t=0;t<3;t++){var r=Math.floor(Math.random()*this._randColor.length);Math.random()>.05&&-1!=e&&e==r&&(r=(r+1)%this._randColor.length),e=r;var i=Math.floor(Math.random()*(Object.keys(Shape).length/2-1)),o=ShapeHelper.buildShape(i,this._randColor[r]);debug("blockColors",o),this.getShapePixelSprite(t).drawPixelGrid(8,new Color(0,0,0,0),o,!0),this._shapeInfo[t]={used:!1,info:{colors:this.dealShapeColor(t,o),shapeType:i,shapeId:this._shapeId++,colorIndex:r}}}else error("initShape _unlockColors not init");else error("initShape error, shape not init")},r.dealShapeColor=function(e,t){for(var r=t,i=r[0].length,o=r.length,n=[],s=0,a=0;a<i;a++){for(var c=!1,l=0;l<o;l++)if(0!=r[a][l].r||0!=r[a][l].g||0!=r[a][l].b){c=!0;break}c&&(n[s]=[].concat(r[a]),s++)}if(n.length>0){for(var u=[],p=n[0].length,d=[],f=0;f<p;f++){for(var h=!1,_=0;_<n.length;_++)if(0!=n[_][f].r||0!=n[_][f].g||0!=n[_][f].b){h=!0;break}h&&d.push(f)}for(var y=0;y<n.length;y++){u[y]=[];for(var g=0;g<d.length;g++)u[y][g]=n[y][d[g]]}return u}return[]},r.flowSand=function(e){if(this.sandMap&&this.sandMap._texture&&this._sandFlowingTimer&&!this._isFlashing){for(var t=!1,r=!1,i=0;i<2;i++){for(var o=[],n=0;n<this._gridRows;n++)o[n]=new Array(this._gridCols).fill(!1);for(var s=!1,a=!1,c=this._gridRows-2;c>=0;c--)for(var l=c%2==0,u=l?0:this._gridCols-1,p=l?this._gridCols:-1,d=l?1:-1,f=u;f!==p;f+=d)if(!o[c][f]){var h=this.sandMap.getGridBlockColor(f,c,this.blockSize);if(h&&(0!==h.r||0!==h.g||0!==h.b)){var _=this.getFallDistance(c,f,this._gridRows,this._gridCols);if(_>0)_=Math.min(_,Math.ceil(this._gridRows/8)),this.movePixel(c,f,c+_,f,h,o),s=!0;else{var y=f-1,g=f+1;if(!(Math.random()>80))for(var m=[{row:c+1,col:y},{row:c+1,col:g},{row:c+2,col:y},{row:c+2,col:g}],v=0,b=Math.random()<.5?[m[0],m[1],m[2],m[3]]:[m[1],m[0],m[3],m[2]];v<b.length;v++){var $=b[v];if(this.canMoveTo($.row,$.col,this._gridRows,this._gridCols)){this.movePixel(c,f,$.row,$.col,h,o),s=!0,a=!0;break}}}}}s&&(t=!0),a&&(r=!0)}t?(this._stableTimer=0,0==this._lastPlaySandSoundTime&&r&&(this._lastPlaySandSoundTime=Date.now(),AudioMgr.Ins().playOneShot("audio/sand_move"))):(this._stableTimer+=e,this._stableTimer>=this._stableDelay&&(this._sandFlowingTimer=!1,this._stableTimer=0,this._lastPlaySandSoundTime=0))}},r.matching=function(){if(this.sandMap&&this.sandMap._texture&&!this._sandFlowingTimer&&!this._isFlashing){var e=Array.from(this._activeSandCoords);if(0!==e.length){for(var t=[],r=0;r<this._gridRows;r++)t[r]=new Array(this._gridCols).fill(!1);for(var i=0,o=e;i<o.length;i++){var n=o[i],s=this.parseCoord(n),a=s[0],c=s[1];if(!t[a][c]){var l=this.bfsConnectedBlock(a,c,this._gridRows,this._gridCols,t);if(l.length>0){debug("connectedBlock.length > 0");var u=Math.min.apply(Math,l.map((function(e){return e.col}))),p=Math.max.apply(Math,l.map((function(e){return e.col})));0===u&&p===this._gridCols-1&&this.startFlashEffect(l)}}}this._activeSandCoords.clear(),this._isFlashing}}},r.bfsConnectedBlock=function(e,t,r,i,o){var n=[],s=[],a=this.coordToString(e,t),c=this._sandInfoMap.get(a);if(!c)return n;var l=c.info.colorIndex;for(s.push({row:e,col:t}),o[e][t]=!0;s.length>0;){var u=s.shift();n.push(u);for(var p=0,d=[{row:-1,col:0},{row:1,col:0},{row:0,col:-1},{row:0,col:1}];p<d.length;p++){var f=d[p],h=u.row+f.row,_=u.col+f.col;if(!(h<0||h>=r||_<0||_>=i)&&!o[h][_]){var y=this.coordToString(h,_),g=this._sandInfoMap.get(y);g&&g.info.colorIndex===l&&(o[h][_]=!0,s.push({row:h,col:_}))}}}return n},r.startFlashEffect=function(e){var t=this;this._isFlashing||(UserPreferences.vibrate&&(Device.VibrateShort(),AudioMgr.Ins().playOneShot("audio/remove")),this._flashingBlocks=e.map((function(e){var r=t.coordToString(e.row,e.col),i=t._sandInfoMap.get(r);return{row:e.row,col:e.col,originalColor:i?i.color:new Color(0,0,0,0)}})),this._isFlashing=!0,this._flashTimer=0)},r.updateFlashEffect=function(e){if(this._isFlashing){if(this._flashTimer+=e,this._flashTimer>=.3)return this.eliminateConnectedBlock(this._flashingBlocks),this._isFlashing=!1,this._flashingBlocks=[],this._flashTimer=0,void(this._sandFlowingTimer=!0);for(var t,r=Math.floor(this._flashTimer/.05)%2==0,i=_createForOfIteratorHelperLoose(this._flashingBlocks);!(t=i()).done;){var o=t.value;r?this.sandMap.setGridBlockColor(o.col,o.row,new Color(255,255,255,255),this.blockSize,!1):this.sandMap.setGridBlockColor(o.col,o.row,o.originalColor,this.blockSize,!1)}this._needsTextureUpdate=!0}},r.eliminateConnectedBlock=function(e){for(var t,r=[],i=[],o=_createForOfIteratorHelperLoose(e);!(t=o()).done;){var n=t.value;this.sandMap.clearGridBlockColor(n.col,n.row,this.blockSize,!1);var s=this.coordToString(n.row,n.col),a=this._sandInfoMap.get(s);a&&-1===r.indexOf(a.info.shapeId)&&(r.push(a.info.shapeId),i.push(a.info.shapeType)),this._sandInfoMap.delete(s)}ScoreManager.addEliminateScore(i,e[0].originalColor),this._needsTextureUpdate=!0},r.parseCoord=function(e){var t=e.split(",").map(Number);return[t[0],t[1]]},r.coordToString=function(e,t){return e+","+t},r.canMoveTo=function(e,t,r,i){if(e<0||e>=r||t<0||t>=i)return!1;var o=this.sandMap.getGridBlockColor(t,e,this.blockSize);return!o||0===o.r&&0===o.g&&0===o.b},r.getFallDistance=function(e,t,r,i){for(var o=0,n=e+1;n<r&&this.canMoveTo(n,t,r,i);n++)o++;return o},r.movePixel=function(e,t,r,i,o,n){var s=this.coordToString(e,t),a=this._sandInfoMap.get(s);if(this.sandMap.clearGridBlockColor(t,e,this.blockSize,!1),this._sandInfoMap.delete(s),this.sandMap.setGridBlockColor(i,r,o,this.blockSize,!1),a){var c=this.coordToString(r,i);this._sandInfoMap.set(c,a)}n[r][i]=!0,this._activeSandCoords.add(this.coordToString(r,i)),this._needsTextureUpdate=!0},r.getActivePixels=function(){for(var e=[],t=0;t<this._gridRows;t++)for(var r=0;r<this._gridCols;r++){var i=this.sandMap.getGridBlockColor(r,t,this.blockSize);!i||0===i.r&&0===i.g&&0===i.b||e.push({row:t,col:r})}return e},r.checkGameOver=function(){if(!this._isGameOver&&!this._sandFlowingTimer&&!this._isFlashing){debug("checkGameOver");for(var e=!1,t=[],r=0;r<this._gridRows;r++){t[r]=[];for(var i=0;i<this._gridCols;i++){var o=this.sandMap.getGridBlockColor(i,r,this.blockSize);t[r][i]=o.r+","+o.g+","+o.b+","+o.a,!e&&r<this._topLineRow&&o&&(0!==o.r||0!==o.g||0!==o.b)&&(debug("游戏结束！沙子堆积超过topLine row:",r,this._topLineRow),e=!0)}}if(e)sys.localStorage.removeItem("sandMapColor"),sys.localStorage.removeItem("sandMapInfo"),this.gameOver();else{sys.localStorage.setItem("sandMapColor",SafeJSON.stringify(t));var n=Array.from(this._sandInfoMap.entries()).map((function(e){var t=e[0],r=e[1];return[t,[r.info.colorIndex,r.info.shapeType,r.info.shapeId]]}));sys.localStorage.setItem("sandMapInfo",SafeJSON.stringify(n)),sys.localStorage.setItem("currentScore",this.currentScoreLabel.number.toString())}}},r.gameOver=function(){var e=this;this._isGameOver||(this._isGameOver=!0,GlobalTimer.pauseTimer(this._mainTimer),UIResurrection.show(),ScoreManager.getScore()>UserData.highestScore&&(this.highestScoreLabel.number=ScoreManager.getScore(),(new ReqUpdateHighestScore).start(ScoreManager.getScore()).catch((function(t){e.highestScoreLabel.number=UserData.highestScore,UIAlert.show(t),error("ReqUpdateHighestScore fail")}))),ScoreManager.resetCombo())},r.clearGameLocalCache=function(){sys.localStorage.removeItem("currentScore"),sys.localStorage.removeItem("sandMapColor"),sys.localStorage.removeItem("sandMapInfo")},r.resetGame=function(){this.clearGameLocalCache(),ScoreManager.resetScore(),this.currentScoreLabel.number=0,this.currentScoreProgress.progress=0},r.restartGame=function(){debug("重新开始游戏"),this._isGameOver=!1,this._sandFlowingTimer=!1,this._isFlashing=!1,this._stableTimer=0,this._flashTimer=0,this._flashingBlocks=[],this._shapeInfo=[],this._activeSandCoords.clear(),this._sandInfoMap.clear(),this._shapeId=0,this.sandMap.clear(!0),this.initShape(),GlobalTimer.resumeTimer(this._mainTimer)},r.updatePerformance=function(e){(this._frameCount++,this._lastFPSUpdate+=e,this._lastFPSUpdate>=1)&&(debug("FPS: "+(this._frameCount/this._lastFPSUpdate).toFixed(1)),this._frameCount=0,this._lastFPSUpdate=0)},r.onLevelChanged=function(){this.initUserInfo(),this.initConfig(),this.initScoreSystem()},r.initConfig=function(){var e=this;this._unlockColors.length=0;var t=ConfigLoader.getConfig("level");t.slice(0,UserData.level).forEach((function(t){var r,i=null==(r=t.unlock_color)?void 0:r.split(";");null==i||i.forEach((function(t){e._unlockColors.push((new Color).fromHEX(t))}))})),this._levelConfig=t.find((function(e){return e.level===UserData.level})),this._randColor=[],ColorHelper.buildColorArray(this._unlockColors,this._randColor)},r.initUserInfo=function(){this.highestScoreLabel.number=UserData.highestScore,this.diamondsLabel.number=UserData.diamonds},r.initProps=function(){var e=ConfigLoader.getConfig("award");find("ad/diamonds",this.node).getComponent(PixelSpriteNum).number=e.ad;var t=ConfigLoader.getConfig("item");find("bomb/diamonds",this.node).getComponent(PixelSpriteNum).number=t.find((function(e){return 1===e.id})).consume,find("refresh/diamonds",this.node).getComponent(PixelSpriteNum).number=t.find((function(e){return 3===e.id})).consume},r.initScoreSystem=function(){var e=sys.localStorage.getItem("currentScore");this.currentScoreLabel.number=e?parseInt(e):0,this.currentScoreProgress.progress=(this.currentScoreLabel.number-this._levelConfig.score_start)/(this._levelConfig.score_end-this._levelConfig.score_start),this.levelStartScoreLabel.string=this._levelConfig.score_start/1e3+"K",this.levelEndScoreLabel.string=this._levelConfig.score_end/1e3+"K",ScoreManager.initScoreConfig(),ScoreManager.removeScoreListener(this.onScoreUpdated.bind(this)),ScoreManager.addScoreListener(this.onScoreUpdated.bind(this))},r.onScoreUpdated=function(e){debug("onScoreUpdated"),"combo"==e.scoreType?this.generateComboEffect(ScoreManager.getComboCount(),e.color,e.pos):(this.generateAddScoreEffect(e.points,e.color,e.pos),this.checkLevelUp()),this.currentScoreLabel.number=ScoreManager.getScore(),this.currentScoreProgress.progress=(this.currentScoreLabel.number-this._levelConfig.score_start)/(this._levelConfig.score_end-this._levelConfig.score_start)},r.checkUploadHighestScore=function(){ScoreManager.getScore()>UserData.highestScore&&(this.highestScoreLabel.number=ScoreManager.getScore(),(new ReqUpdateHighestScore).start(ScoreManager.getScore()).catch((function(e){})))},r.checkLevelUp=function(){var e=this;if(ScoreManager.getScore()>=this._levelConfig.score_end){if(this._isLevelUp)return void error("checkLevelUp: is level up");UIWaiting.show("Requesting level up..."),this._isLevelUp=!0,this.checkUploadHighestScore(),(new ReqLevelUp).start().then((function(){UIWaiting.hide(),AudioMgr.Ins().playOneShot("audio/levelup"),UILevelUp.show(),e.onLevelChanged(),e._isLevelUp=!1})).catch((function(t){UIWaiting.hide(),UIAlert.show(t).onClick((function(e){e&&director.loadScene("HomeScene")})),e._isLevelUp=!1,error("ReqLevelUp fail")}))}},r.generateAddScoreEffect=function(e,t,r){void 0===r&&(r=new Vec3(0,0,0));var i=this.child("AddScoreEffect");Tween.stopAllByTarget(i),i.active=!0,i.setPosition(0,300),t&&(i.getComponent(PixelSpriteWord).wordColor=t),i.getComponent(PixelSpriteWord).word="+"+e,tween(i).by(.5,{position:new Vec3(0,100,0)}).call((function(){i.active=!1})).start()},r.generateComboEffect=function(e,t,r){void 0===r&&(r=new Vec3(0,0,0));var i=this.child("ComboEffect");Tween.stopAllByTarget(i),i.active=!0,i.setPosition(0,0),t&&(i.getComponent(PixelSpriteWord).wordColor=t),i.getComponent(PixelSpriteWord).word="Comb x"+e,tween(i).by(.5,{position:new Vec3(0,100,0)}).call((function(){i.active=!1})).start()},r.onClickRefreshShape=function(){var e=this;this.onClickEvent(!1);var t=find("refresh/diamonds",this.node).getComponent(PixelSpriteNum).number;UserData.diamonds<t?UITips.show("Diamonds not enough"):(UIWaiting.show("Loading..."),(new ReqAddDiamond).start(-t).then((function(){e.initShape(),UIWaiting.hide()})).catch((function(e){UIAlert.show(e),UIWaiting.hide()})))},r.onClickPause=function(){this.onClickEvent(),UIPause.show()},r.onClickWatchAd=function(){this.onClickEvent(),UIAd.show()},r.onClickShop=function(){this.onClickEvent()},r.onClickBomb=function(){this.onClickEvent(!1),UITips.show("Not yet unlocked")},r.onDestroy=function(){debug("GameScene:onDestroy"),GlobalTimer.stopTimer(this._mainTimer),ScoreManager.clear(),this.removeAllEvent(),t.Ins=null},r.removeAllEvent=function(){GlobalEvent.off("UserData:Changed"),GlobalEvent.off("UIResurrection:Success"),GlobalEvent.off("UserData:Level:Changed"),GlobalEvent.off("UIResurrection:Failed"),GlobalEvent.off("UIPause:ResetGame")},t}(GameSceneBase),_class3.Ins=null,_class2$e=_class3,_descriptor$f=_applyDecoratedDescriptor(_class2$e.prototype,"sandMap",[_dec2$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2$b=_applyDecoratedDescriptor(_class2$e.prototype,"topLine",[_dec3$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3$a=_applyDecoratedDescriptor(_class2$e.prototype,"blockSize",[_dec4$b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),_descriptor4$8=_applyDecoratedDescriptor(_class2$e.prototype,"diamondsLabel",[_dec5$a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor5$4=_applyDecoratedDescriptor(_class2$e.prototype,"highestScoreLabel",[_dec6$8],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor6$3=_applyDecoratedDescriptor(_class2$e.prototype,"currentScoreLabel",[_dec7$4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor7$3=_applyDecoratedDescriptor(_class2$e.prototype,"currentScoreProgress",[_dec8$3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor8$2=_applyDecoratedDescriptor(_class2$e.prototype,"levelStartScoreLabel",[_dec9$3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor9=_applyDecoratedDescriptor(_class2$e.prototype,"levelEndScoreLabel",[_dec10$2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor10=_applyDecoratedDescriptor(_class2$e.prototype,"shape1",[_dec11],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor11=_applyDecoratedDescriptor(_class2$e.prototype,"shape2",[_dec12],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor12=_applyDecoratedDescriptor(_class2$e.prototype,"shape3",[_dec13],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$k=_class2$e))||_class$k),_dec$l,_dec2$f,_dec3$f,_dec4$c,_class$l,_class2$f,_descriptor$g,_descriptor2$c,_descriptor3$b,_dec5$b,_class4$9;cclegacy._RF.pop(),cclegacy._RF.push({},"07d92GGo99D/LYZCGt/HXCX","UIInfo",void 0);var ccclass$h=_decorator.ccclass,property$i=_decorator.property,Layout_UIInfo=(_dec$l=ccclass$h("Layout_UIInfo"),_dec2$f=property$i(Node),_dec3$f=property$i(Button),_dec4$c=property$i(Button),_dec$l((_class2$f=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"root",_descriptor$g,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnBack",_descriptor2$c,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnOK",_descriptor3$b,_assertThisInitialized(t)),t}return _inheritsLoose(t,e),t}(UIModule),_descriptor$g=_applyDecoratedDescriptor(_class2$f.prototype,"root",[_dec2$f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2$c=_applyDecoratedDescriptor(_class2$f.prototype,"btnBack",[_dec3$f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3$b=_applyDecoratedDescriptor(_class2$f.prototype,"btnOK",[_dec4$c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$l=_class2$f))||_class$l),UIInfo=(_dec5$b=UIControllerProperty(UILayers.POPUP,"prefab/UIInfo",Layout_UIInfo),_dec5$b(_class4$9=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e),t.show=function(){UIMgr.getInstance().showUI(t)};var r=t.prototype;return r.onCreated=function(){var e=this,t=this._layout;t.btnBack.node.on("click",(function(){e.onClickEvent(),e.close()})),t.btnOK.node.on("click",(function(){e.onClickEvent(),e.close()})),tween(this._layout.root).to(.2,{x:0},{easing:"sineOut"}).start()},r.close=function(){tween(this._layout.root).to(.15,{x:Screen.ScreenWidth},{easing:"sineIn"}).call(e.prototype.close.bind(this)).start()},t}(UIController))||_class4$9),_dec$m,_dec2$g,_dec3$g,_dec4$d,_dec5$c,_dec6$9,_dec7$5,_dec8$4,_dec9$4,_dec10$3,_dec11$1,_dec12$1,_dec13$1,_dec14,_class$m,_class2$g,_descriptor$h,_descriptor2$d,_descriptor3$c,_descriptor4$9,_descriptor5$5,_descriptor6$4,_descriptor7$4,_descriptor8$3,_descriptor9$1,_descriptor10$1,_descriptor11$1,_descriptor12$1,_descriptor13,_dec15,_class4$a;cclegacy._RF.pop(),cclegacy._RF.push({},"de96cgIU+RA6Kx1wPmY4o9G","UISetting",void 0);var ccclass$i=_decorator.ccclass,property$j=_decorator.property,Layout_UISetting=(_dec$m=ccclass$i("Layout_UISetting"),_dec2$g=property$j(Node),_dec3$g=property$j(Button),_dec4$d=property$j(Button),_dec5$c=property$j(Button),_dec6$9=property$j(Button),_dec7$5=property$j(Button),_dec8$4=property$j(Button),_dec9$4=property$j(Button),_dec10$3=property$j(Button),_dec11$1=property$j(PixelSpriteWord),_dec12$1=property$j(PixelSpriteWord),_dec13$1=property$j(Button),_dec14=property$j(Button),_dec$m((_class2$g=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"root",_descriptor$h,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnBack",_descriptor2$d,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnMusic",_descriptor3$c,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnSound",_descriptor4$9,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnVibrate",_descriptor5$5,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnRateUs",_descriptor6$4,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnFeedback",_descriptor7$4,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnPrivacy",_descriptor8$3,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnTerms",_descriptor9$1,_assertThisInitialized(t)),_initializerDefineProperty(t,"version",_descriptor10$1,_assertThisInitialized(t)),_initializerDefineProperty(t,"uid",_descriptor11$1,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnCopyUid",_descriptor12$1,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnInfo",_descriptor13,_assertThisInitialized(t)),t}return _inheritsLoose(t,e),t}(UIModule),_descriptor$h=_applyDecoratedDescriptor(_class2$g.prototype,"root",[_dec2$g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2$d=_applyDecoratedDescriptor(_class2$g.prototype,"btnBack",[_dec3$g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3$c=_applyDecoratedDescriptor(_class2$g.prototype,"btnMusic",[_dec4$d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor4$9=_applyDecoratedDescriptor(_class2$g.prototype,"btnSound",[_dec5$c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor5$5=_applyDecoratedDescriptor(_class2$g.prototype,"btnVibrate",[_dec6$9],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor6$4=_applyDecoratedDescriptor(_class2$g.prototype,"btnRateUs",[_dec7$5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor7$4=_applyDecoratedDescriptor(_class2$g.prototype,"btnFeedback",[_dec8$4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor8$3=_applyDecoratedDescriptor(_class2$g.prototype,"btnPrivacy",[_dec9$4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor9$1=_applyDecoratedDescriptor(_class2$g.prototype,"btnTerms",[_dec10$3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor10$1=_applyDecoratedDescriptor(_class2$g.prototype,"version",[_dec11$1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor11$1=_applyDecoratedDescriptor(_class2$g.prototype,"uid",[_dec12$1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor12$1=_applyDecoratedDescriptor(_class2$g.prototype,"btnCopyUid",[_dec13$1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor13=_applyDecoratedDescriptor(_class2$g.prototype,"btnInfo",[_dec14],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$m=_class2$g))||_class$m),UISetting=(_dec15=UIControllerProperty(UILayers.POPUP,"prefab/UISetting",Layout_UISetting),_dec15(_class4$a=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e),t.show=function(){UIMgr.getInstance().showUI(t)};var r=t.prototype;return r.onCreated=function(){var e=this,t=this._layout;t.btnBack.node.on("click",(function(){e.onClickEvent(!1),e.close()})),find("off",t.btnMusic.node).active=0==UserPreferences.musicVolume,t.btnMusic.node.on("click",(function(){e.onClickEvent(!1);var r=1==AudioMgr.Ins().musicVolume;find("off",t.btnMusic.node).active=r,AudioMgr.Ins().musicVolume=r?0:1,UserPreferences.musicVolume=AudioMgr.Ins().musicVolume,0==AudioMgr.Ins().musicVolume?AudioMgr.Ins().pause():AudioMgr.Ins().resume()})),find("off",t.btnSound.node).active=0==UserPreferences.soundVolume,t.btnSound.node.on("click",(function(){e.onClickEvent(!1);var r=1==AudioMgr.Ins().soundVolume;find("off",t.btnSound.node).active=r,AudioMgr.Ins().soundVolume=r?0:1,UserPreferences.soundVolume=AudioMgr.Ins().soundVolume})),find("off",t.btnVibrate.node).active=!UserPreferences.vibrate,t.btnVibrate.node.on("click",(function(){e.onClickEvent(!1),UserPreferences.vibrate=!UserPreferences.vibrate,find("off",t.btnVibrate.node).active=!UserPreferences.vibrate})),t.btnRateUs.node.on("click",(function(){e.onClickEvent(!1),sys.openURL("itms-apps://itunes.apple.com/app/6752853333?action=write-review")})),t.btnFeedback.node.on("click",(function(){e.onClickEvent(!1);var t=encodeURIComponent("SandPuzzle Feedback"),r=encodeURIComponent("[Please write your feedback here]\n\nVersion: "+Device.GetAppVersion()+"\nDevice: "+(PlatformType[Platform.platform]||"Unknown")+"\nUser ID: "+(UserData.uid||"Unknown"));sys.openURL("mailto:gx_studio_services@163.com?subject="+t+"&body="+r)})),t.btnPrivacy.node.on("click",(function(){e.onClickEvent(!1),sys.openURL("https://garyxuan.github.io/gx-privacy-policy/SandPuzzle-Privacy.html")})),t.btnTerms.node.on("click",(function(){e.onClickEvent(!1),sys.openURL("https://garyxuan.github.io/gx-privacy-policy/SandPuzzle-Terms.html")})),t.btnCopyUid.node.on("click",(function(){e.onClickEvent(!1),Device.CopyTextToClipboard(t.uid.word),UITips.show("Copied to clipboard")})),t.btnInfo.node.on("click",(function(){e.onClickEvent(),UIInfo.show()})),t.version.string="Version "+Device.GetAppVersion(),t.uid.string=UserData.uid,tween(this._layout.root).to(.2,{x:0},{easing:"sineOut"}).start()},r.close=function(){tween(this._layout.root).to(.15,{x:Screen.ScreenWidth},{easing:"sineIn"}).call(e.prototype.close.bind(this)).start()},r.onDispose=function(){UserPreferences.save()},t}(UIController))||_class4$a),_dec$n,_class$n;cclegacy._RF.pop(),cclegacy._RF.push({},"7441bIJ1cFAy5ToCXZay+cT","ReqRank",void 0);var ReqRankList=(_dec$n=HttpTaskProperty("ReqRankList",""+Server.baseUrl+Server.getRankList,"GET"),_dec$n(_class$n=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.prototype.start=function(){return this.url=this.url.replace("{limit}","100").replace("{page}","1"),e.prototype.start.call(this)},t}(NetTaskBase))||_class$n),_dec$o,_class$o;cclegacy._RF.pop(),cclegacy._RF.push({},"25275B6nhlCR71g5AQc3YtN","ReqRanList",void 0);var ReqRank=(_dec$o=HttpTaskProperty("ReqRank",""+Server.baseUrl+Server.getRank,"GET"),_dec$o(_class$o=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.prototype.start=function(){return this.url=this.url.replace("{uid}",UserData.uid),e.prototype.start.call(this)},t}(NetTaskBase))||_class$o),_dec$p,_dec2$h,_dec3$h,_dec4$e,_dec5$d,_dec6$a,_dec7$6,_class$p,_class2$h,_descriptor$i,_descriptor2$e,_descriptor3$d,_descriptor4$a,_descriptor5$6,_descriptor6$5,_dec8$5,_class4$b;cclegacy._RF.pop(),cclegacy._RF.push({},"08ab5RUyANFB7oHbYgHiXiW","UIRank",void 0);var ccclass$j=_decorator.ccclass,property$k=_decorator.property,Layout_UIRank=(_dec$p=ccclass$j("Layout_UIRank"),_dec2$h=property$k(Node),_dec3$h=property$k(Button),_dec4$e=property$k(Node),_dec5$d=property$k(ScrollView),_dec6$a=property$k(Node),_dec7$6=property$k(Node),_dec$p((_class2$h=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"root",_descriptor$i,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnBack",_descriptor2$e,_assertThisInitialized(t)),_initializerDefineProperty(t,"loadingNode",_descriptor3$d,_assertThisInitialized(t)),_initializerDefineProperty(t,"scrollView",_descriptor4$a,_assertThisInitialized(t)),_initializerDefineProperty(t,"item",_descriptor5$6,_assertThisInitialized(t)),_initializerDefineProperty(t,"mine",_descriptor6$5,_assertThisInitialized(t)),t}return _inheritsLoose(t,e),t}(UIModule),_descriptor$i=_applyDecoratedDescriptor(_class2$h.prototype,"root",[_dec2$h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2$e=_applyDecoratedDescriptor(_class2$h.prototype,"btnBack",[_dec3$h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3$d=_applyDecoratedDescriptor(_class2$h.prototype,"loadingNode",[_dec4$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor4$a=_applyDecoratedDescriptor(_class2$h.prototype,"scrollView",[_dec5$d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor5$6=_applyDecoratedDescriptor(_class2$h.prototype,"item",[_dec6$a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor6$5=_applyDecoratedDescriptor(_class2$h.prototype,"mine",[_dec7$6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$p=_class2$h))||_class$p),UIRank=(_dec8$5=UIControllerProperty(UILayers.POPUP,"prefab/UIRank",Layout_UIRank),_dec8$5(_class4$b=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e),t.show=function(){UIMgr.getInstance().showUI(t)};var r=t.prototype;return r.onCreated=function(){var e=this;this._layout.btnBack.node.on("click",(function(){e.onClickEvent(),e.close()})),tween(this._layout.root).to(.2,{x:0},{easing:"sineOut"}).call(this.reqRankList.bind(this)).start()},r.reqRankList=function(){var e=this;this.showLoading(!0),(new ReqRankList).start().then((function(t){t&&t.success&&(e.showLoading(!1),e.onLoadRankList(t.data.leaderboard))}),(function(t){e.showLoading(!1),UIAlert.show(t)})),(new ReqRank).start().then((function(t){t&&t.success&&(e._layout.mine.active=!0,e.initItem(e._layout.mine,t.data.rank,t.data.highestScore,UserData.diamonds))}),(function(e){UIAlert.show(e)}))},r.showLoading=function(e){var t=this._layout;t.loadingNode.active=e,e?tween(t.loadingNode).by(1,{angle:-360}).repeatForever().tag(1).start():Tween.stopAllByTarget(t.loadingNode)},r.onLoadRankList=function(e){for(var t=this._layout,r=0;r<e.length;r++){var i=instantiate(t.item);i.active=!0,i.setParent(t.scrollView.content),this.initItem(i,e[r].rank,e[r].highestScore,e[r].diamonds)}},r.initItem=function(e,t,r,i){find("rank",e).getComponent(PixelSpriteNum).number=t,find("highest_score",e).getComponent(PixelSpriteNum).number=r,find("diamonds",e).getComponent(PixelSpriteNum).number=i,t>3?(find("rank",e).active=!0,find("top3",e).active=!1):(find("rank",e).active=!1,find("top3",e).active=!0,ResLoader.loadBundleRes("texture/common/rank"+t+"/spriteFrame",SpriteFrame).then((function(t){debug("loadBundleRes",t),find("top3",e).getComponent(Sprite).spriteFrame=t})))},r.close=function(){tween(this._layout.root).to(.15,{x:Screen.ScreenWidth},{easing:"sineIn"}).call(e.prototype.close.bind(this)).start()},t}(UIController))||_class4$b),_dec$q,_dec2$i,_dec3$i,_dec4$f,_dec5$e,_dec6$b,_dec7$7,_class$q,_class2$i,_descriptor$j,_descriptor2$f,_descriptor3$e,_descriptor4$b,_descriptor5$7,_descriptor6$6;cclegacy._RF.pop(),cclegacy._RF.push({},"83f28NHB0FLa4Hu+u+ZjfNX","HomeScene",void 0);var ccclass$k=_decorator.ccclass,property$l=_decorator.property,HomeScene=(_dec$q=ccclass$k("HomeScene"),_dec2$i=property$l(Button),_dec3$i=property$l(Button),_dec4$f=property$l(PixelSpriteNum),_dec5$e=property$l(PixelSpriteNum),_dec6$b=property$l(PixelSpriteWord),_dec7$7=property$l(PixelSpriteWord),_dec$q((_class2$i=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"btnPlay",_descriptor$j,_assertThisInitialized(t)),_initializerDefineProperty(t,"btnSetting",_descriptor2$f,_assertThisInitialized(t)),_initializerDefineProperty(t,"labelHighestScore",_descriptor3$e,_assertThisInitialized(t)),_initializerDefineProperty(t,"labelDiamonds",_descriptor4$b,_assertThisInitialized(t)),_initializerDefineProperty(t,"labelNextLevelScore",_descriptor5$7,_assertThisInitialized(t)),_initializerDefineProperty(t,"labelNextLevel",_descriptor6$6,_assertThisInitialized(t)),t}_inheritsLoose(t,e);var r=t.prototype;return r.onClickPlay=function(){this.onClickEvent(!1),director.loadScene("GameScene")},r.onClickSetting=function(){this.onClickEvent(),UISetting.show()},r.onClickRank=function(){this.onClickEvent(),UIRank.show()},r.start=function(){var e=this;this.initUI(),GlobalEvent.on("UserData:Changed",(function(){e.initUI()}))},r.initUI=function(){this.labelHighestScore.showNumber(UserData.highestScore),this.labelDiamonds.showNumber(UserData.diamonds);var e=ConfigLoader.getConfig("level").find((function(e){return e.level===UserData.level+1}));this.labelNextLevelScore.word=e?e.score_start/1e3+"K":"MAX"},r.onDestroy=function(){GlobalEvent.off("UserData:Changed")},t}(GameSceneBase),_descriptor$j=_applyDecoratedDescriptor(_class2$i.prototype,"btnPlay",[_dec2$i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2$f=_applyDecoratedDescriptor(_class2$i.prototype,"btnSetting",[_dec3$i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3$e=_applyDecoratedDescriptor(_class2$i.prototype,"labelHighestScore",[_dec4$f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor4$b=_applyDecoratedDescriptor(_class2$i.prototype,"labelDiamonds",[_dec5$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor5$7=_applyDecoratedDescriptor(_class2$i.prototype,"labelNextLevelScore",[_dec6$b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor6$6=_applyDecoratedDescriptor(_class2$i.prototype,"labelNextLevel",[_dec7$7],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$q=_class2$i))||_class$q),_dec$r,_dec2$j,_dec3$j,_dec4$g,_dec5$f,_class$r,_class2$j,_descriptor$k,_descriptor2$g,_descriptor3$f,_descriptor4$c;cclegacy._RF.pop(),cclegacy._RF.push({},"44ed5prrGtBzpdj14LAEIu7","AdView",void 0);var ccclass$l=_decorator.ccclass,property$m=_decorator.property,AdView=(_dec$r=ccclass$l("AdView"),_dec2$j=property$m(Button),_dec3$j=property$m(Button),_dec4$g=property$m(Button),_dec5$f=property$m(Button),_dec$r((_class2$j=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"loadVideoAdButton",_descriptor$k,_assertThisInitialized(t)),_initializerDefineProperty(t,"showRewardedAdButton",_descriptor2$g,_assertThisInitialized(t)),_initializerDefineProperty(t,"loadInterstitialAdButton",_descriptor3$f,_assertThisInitialized(t)),_initializerDefineProperty(t,"showInterstitialAdButton",_descriptor4$c,_assertThisInitialized(t)),t}_inheritsLoose(t,e);var r=t.prototype;return r.onLoad=function(){AdManager.Ins().setListener({onAdLoadSuccess:function(e){debug("onAdLoadSuccess",e)},onAdLoadFail:function(e,t,r){debug("onAdLoadFail",e,t,r)},onAdShowSuccess:function(e){debug("onAdShowSuccess",e)},onAdShowFail:function(e,t,r){debug("onAdShowFail",e,t,r)},onAdClick:function(e){debug("onAdClick",e)},onAdClose:function(e){debug("onAdClose",e)},onAdRewarded:function(e){debug("onAdRewarded",e)}})},r.onLoadRewardedAdButtonClick=function(){debug("onLoadRewardedAdButtonClick"),AdManager.getInstance().loadRewardedAd(AD_CONFIG.adUnitIds.rewardedVideo)},r.onShowRewardedAdButtonClick=function(){debug("onShowRewardedAdButtonClick"),AdManager.getInstance().isRewardedAdReady("11",(function(e){e?(debug("激励视频广告已准备好"),AdManager.getInstance().showRewardedAd(AD_CONFIG.adUnitIds.rewardedVideo)):debug("激励视频广告未准备好")}))},r.onLoadInterstitialAdButtonClick=function(){debug("onLoadInterstitialAdButtonClick"),AdManager.getInstance().loadInterstitialAd(AD_CONFIG.adUnitIds.interstitial)},r.onShowInterstitialAdButtonClick=function(){debug("onShowInterstitialAdButtonClick"),AdManager.getInstance().isInterstitialAdReady(AD_CONFIG.adUnitIds.interstitial,(function(e){e?(debug("插屏广告已准备好"),AdManager.getInstance().showInterstitialAd(AD_CONFIG.adUnitIds.interstitial)):debug("插屏广告未准备好")}))},t}(Component),_descriptor$k=_applyDecoratedDescriptor(_class2$j.prototype,"loadVideoAdButton",[_dec2$j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2$g=_applyDecoratedDescriptor(_class2$j.prototype,"showRewardedAdButton",[_dec3$j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3$f=_applyDecoratedDescriptor(_class2$j.prototype,"loadInterstitialAdButton",[_dec4$g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor4$c=_applyDecoratedDescriptor(_class2$j.prototype,"showInterstitialAdButton",[_dec5$f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$r=_class2$j))||_class$r),_dec$s,_class$s;cclegacy._RF.pop(),cclegacy._RF.push({},"f785fbMFb9NB4AACnL1LyNr","ReqUserInfo",void 0);var ReqUserInfo=(_dec$s=HttpTaskProperty("ReqUserInfo",""+Server.baseUrl+Server.getUserInfo,"GET"),_dec$s(_class$s=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.prototype.start=function(t){var r=this;return this.url=this.url.replace("{uid}",t),new Promise((function(t,i){e.prototype.start.call(r).then((function(e){e&&e.success?(Object.assign(UserData,{uid:e.data.playerId,level:e.data.currentLevel,highestScore:e.data.highestScore,diamonds:e.data.diamonds}),UserData.save(),t(e)):i(e.message)})).catch((function(e){i(e)}))}))},t}(NetTaskBase))||_class$s),_dec$t,_class$t;cclegacy._RF.pop(),cclegacy._RF.push({},"fdd8aVDq3lEb7rfjzTexrl2","ReqWatchAd",void 0);var ReqWatchAd=(_dec$t=HttpTaskProperty("ReqWatchAd",""+Server.baseUrl+Server.watchAd,"POST"),_dec$t(_class$t=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.prototype.start=function(){var t;return this.url=this.url.replace("{uid}",UserData.uid),this.reqData=SafeJSON.stringify({diamonds:(null==(t=ConfigLoader.getConfig("award"))?void 0:t.ad)||0}),e.prototype.start.call(this)},t}(NetTaskBase))||_class$t),_dec$u,_dec2$k,_dec3$k,_dec4$h,_dec5$g,_dec6$c,_dec7$8,_dec8$6,_dec9$5,_class$u,_class2$k,_descriptor$l,_descriptor2$h,_descriptor3$g,_descriptor4$d,_descriptor5$8,_descriptor6$7,_descriptor7$5,_descriptor8$4;cclegacy._RF.pop(),cclegacy._RF.push({},"95ba5xh4XJEPoFfqSUceCYa","GM",void 0);var ccclass$m=_decorator.ccclass,property$n=_decorator.property,GM=(_dec$u=ccclass$m("GM"),_dec2$k=property$n(Node),_dec3$k=property$n(Node),_dec4$h=property$n(EditBox),_dec5$g=property$n(EditBox),_dec6$c=property$n(EditBox),_dec7$8=property$n(Label),_dec8$6=property$n(Label),_dec9$5=property$n(Label),_dec$u((_class2$k=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"layer",_descriptor$l,_assertThisInitialized(t)),_initializerDefineProperty(t,"gmBtn",_descriptor2$h,_assertThisInitialized(t)),_initializerDefineProperty(t,"diamondEditBox",_descriptor3$g,_assertThisInitialized(t)),_initializerDefineProperty(t,"levelEdit",_descriptor4$d,_assertThisInitialized(t)),_initializerDefineProperty(t,"highestScoreEdit",_descriptor5$8,_assertThisInitialized(t)),_initializerDefineProperty(t,"diamondsLabel",_descriptor6$7,_assertThisInitialized(t)),_initializerDefineProperty(t,"levelLabel",_descriptor7$5,_assertThisInitialized(t)),_initializerDefineProperty(t,"highestScoreLabel",_descriptor8$4,_assertThisInitialized(t)),t}_inheritsLoose(t,e);var r=t.prototype;return r.onLoad=function(){var e=this;this.gmBtn.on(Node.EventType.TOUCH_MOVE,(function(t){var r=t.getUILocation(),i=e.node.getComponent(UITransform).convertToNodeSpaceAR(v3(r.x,r.y,0));e.gmBtn.setPosition(i)})),this.gmBtn.on(Node.EventType.TOUCH_END,(function(e){debug("touch end"),e.propagationImmediateStopped=!0}))},r.onClickOpenLayer=function(){this.layer.active=!0,this.updateInfo(),UserPreferences.vibrate&&Device.VibrateShort()},r.onClickCloseLayer=function(){this.layer.active=!1},r.updateInfo=function(){this.diamondsLabel.string=UserData.diamonds.toString(),this.levelLabel.string=UserData.level.toString(),this.highestScoreLabel.string=UserData.highestScore.toString()},r.onClickAddDiamond=function(){var e=this;(new ReqAddDiamond).start(parseInt(this.diamondEditBox.string)).then((function(){e.diamondsLabel.string=UserData.diamonds.toString()})).catch((function(e){UIAlert.show(e)}))},r.onClickSetLevel=function(){var e=this;(new ReqLevelUp).start(parseInt(this.levelEdit.string)).then((function(){e.levelLabel.string=UserData.level.toString()})).catch((function(e){UIAlert.show(e)}))},r.onClickSetHighestScore=function(){var e=this;(new ReqUpdateHighestScore).start(parseInt(this.highestScoreEdit.string)).then((function(){e.highestScoreLabel.string=UserData.highestScore.toString()})).catch((function(e){UIAlert.show(e)}))},t}(UIModule),_descriptor$l=_applyDecoratedDescriptor(_class2$k.prototype,"layer",[_dec2$k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2$h=_applyDecoratedDescriptor(_class2$k.prototype,"gmBtn",[_dec3$k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3$g=_applyDecoratedDescriptor(_class2$k.prototype,"diamondEditBox",[_dec4$h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor4$d=_applyDecoratedDescriptor(_class2$k.prototype,"levelEdit",[_dec5$g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor5$8=_applyDecoratedDescriptor(_class2$k.prototype,"highestScoreEdit",[_dec6$c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor6$7=_applyDecoratedDescriptor(_class2$k.prototype,"diamondsLabel",[_dec7$8],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor7$5=_applyDecoratedDescriptor(_class2$k.prototype,"levelLabel",[_dec8$6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor8$4=_applyDecoratedDescriptor(_class2$k.prototype,"highestScoreLabel",[_dec9$5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$u=_class2$k))||_class$u),_dec$v,_class$v;cclegacy._RF.pop(),cclegacy._RF.push({},"29d02Fq1ZlMeaQas9pmFycE","UINetLoading",void 0);var ccclass$n=_decorator.ccclass,property$o=_decorator.property,UILoading=(_dec$v=ccclass$n("UILoading"),_dec$v(_class$v=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t}(Component))||_class$v),_dec$w,_dec2$l,_class$w,_class2$l,_descriptor$m,_dec3$l,_class4$c;cclegacy._RF.pop(),cclegacy._RF.push({},"d5fefU7wx9I6Kcpn10GJreA","UIShop",void 0);var ccclass$o=_decorator.ccclass,property$p=_decorator.property,Layout_UIShop=(_dec$w=ccclass$o("Layout_UIShop"),_dec2$l=property$p(Node),_dec$w((_class2$l=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"mask",_descriptor$m,_assertThisInitialized(t)),t}return _inheritsLoose(t,e),t}(UIModule),_descriptor$m=_applyDecoratedDescriptor(_class2$l.prototype,"mask",[_dec2$l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$w=_class2$l))||_class$w),UIShop=(_dec3$l=UIControllerProperty(UILayers.POPUP,"prefab/UIShop",Layout_UIShop),_dec3$l(_class4$c=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.show=function(){UIMgr.getInstance().showUI(t)},t.prototype.onCreated=function(){},t}(UIController))||_class4$c),_dec$x,_dec2$m,_dec3$m,_dec4$i,_dec5$h,_dec6$d,_dec7$9,_dec8$7,_class$x,_class2$m,_descriptor$n,_descriptor2$i,_descriptor3$h,_descriptor4$e,_descriptor5$9,_descriptor6$8;cclegacy._RF.pop(),cclegacy._RF.push({},"8fb6agZfb5A85SLhpXKMDB2","PaletteComponent",void 0);var ccclass$p=_decorator.ccclass,property$q=_decorator.property,executeInEditMode$3=_decorator.executeInEditMode,requireComponent$1=_decorator.requireComponent,menu=_decorator.menu,PaletteComponent=(_dec$x=requireComponent$1(UIRenderer),_dec2$m=menu("PaletteComponent"),_dec3$m=property$q({displayName:DEV}),_dec4$i=property$q({displayName:DEV}),_dec5$h=property$q({displayName:DEV}),_dec6$d=property$q({displayName:DEV}),_dec7$9=property$q({range:[0,1],step:.01,slide:!0,displayName:"🌈 色相"}),_dec8$7=property$q({range:[0,1],step:.01,slide:!0,displayName:"🌞 暗度"}),ccclass$p(_class$x=executeInEditMode$3(_class$x=_dec$x(_class$x=_dec2$m((_class2$m=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"_colorLB",_descriptor$n,_assertThisInitialized(t)),_initializerDefineProperty(t,"_colorRB",_descriptor2$i,_assertThisInitialized(t)),_initializerDefineProperty(t,"_colorLT",_descriptor3$h,_assertThisInitialized(t)),_initializerDefineProperty(t,"_colorRT",_descriptor4$e,_assertThisInitialized(t)),_initializerDefineProperty(t,"_hueRatio",_descriptor5$9,_assertThisInitialized(t)),_initializerDefineProperty(t,"_darkness",_descriptor6$8,_assertThisInitialized(t)),t.ur=null,t.hue=[1,1,1],t}_inheritsLoose(t,e);var r=t.prototype;return r.onLoad=function(){if(this.ur=this.node.getComponent(UIRenderer),!(this.ur instanceof Sprite||this.ur instanceof Label))return console.warn("Palette只对Sprite和Label有效！"),void this.destroy();this.ur._useVertexOpacity=!0},r.onEnable=function(){this.updateHueRatio(),director.once(Director.EVENT_AFTER_DRAW,this.updateColor,this)},r.onDisable=function(){if(this.ur._renderData){var e=this.ur._renderData.chunk.vb,t=this.ur.color;e[5]=e[14]=e[23]=e[32]=t.r/255,e[6]=e[15]=e[24]=e[33]=t.g/255,e[7]=e[16]=e[25]=e[34]=t.b/255,e[8]=e[17]=e[26]=e[35]=t.a/255}},r.updateColor=function(){var e=this.ur._renderData.chunk.vb,t=this._colorLB,r=this._colorRB,i=this._colorLT,o=this._colorRT,n=this._darkness/255,s=this.hue,a=s[0]*n,c=s[1]*n,l=s[2]*n;e[5]=t.r*a,e[6]=t.g*c,e[7]=t.b*l,e[8]=t.a/255,e[14]=r.r*a,e[15]=r.g*c,e[16]=r.b*l,e[17]=r.a/255,e[23]=i.r*a,e[24]=i.g*c,e[25]=i.b*l,e[26]=i.a/255,e[32]=o.r*a,e[33]=o.g*c,e[34]=o.b*l,e[35]=o.a/255},r.updateHueRatio=function(){var e=1/7,t=this._hueRatio;this.hue=t<e?[1,t/e,0]:t<2*e?[2-t/e,1,0]:t<3*e?[0,1,t/e-2]:t<4*e?[0,4-t/e,1]:t<5*e?[t/e-4,0,1]:t<6*e?[1,0,6-t/e]:[1,t/e-6,t/e-6]},_createClass(t,[{key:"colorLB",get:function(){return this._colorLB},set:function(e){this._colorLB=e,this.updateColor()}},{key:"colorRB",get:function(){return this._colorRB},set:function(e){this._colorRB=e,this.updateColor()}},{key:"colorLT",get:function(){return this._colorLT},set:function(e){this._colorLT=e,this.updateColor()}},{key:"colorRT",get:function(){return this._colorRT},set:function(e){this._colorRT=e,this.updateColor()}},{key:"hueRatio",get:function(){return this._hueRatio},set:function(e){this._hueRatio=clamp(e,0,1),this.updateHueRatio(),this.updateColor()}},{key:"darkness",get:function(){return this._darkness},set:function(e){this._darkness=clamp(e,0,1),this.updateColor()}}]),t}(Component),_descriptor$n=_applyDecoratedDescriptor(_class2$m.prototype,"_colorLB",[property$q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Color(255,255,255,255)}}),_applyDecoratedDescriptor(_class2$m.prototype,"colorLB",[_dec3$m],Object.getOwnPropertyDescriptor(_class2$m.prototype,"colorLB"),_class2$m.prototype),_descriptor2$i=_applyDecoratedDescriptor(_class2$m.prototype,"_colorRB",[property$q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Color(255,255,255,255)}}),_applyDecoratedDescriptor(_class2$m.prototype,"colorRB",[_dec4$i],Object.getOwnPropertyDescriptor(_class2$m.prototype,"colorRB"),_class2$m.prototype),_descriptor3$h=_applyDecoratedDescriptor(_class2$m.prototype,"_colorLT",[property$q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Color(255,255,255,255)}}),_applyDecoratedDescriptor(_class2$m.prototype,"colorLT",[_dec5$h],Object.getOwnPropertyDescriptor(_class2$m.prototype,"colorLT"),_class2$m.prototype),_descriptor4$e=_applyDecoratedDescriptor(_class2$m.prototype,"_colorRT",[property$q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Color(255,255,255,255)}}),_applyDecoratedDescriptor(_class2$m.prototype,"colorRT",[_dec6$d],Object.getOwnPropertyDescriptor(_class2$m.prototype,"colorRT"),_class2$m.prototype),_descriptor5$9=_applyDecoratedDescriptor(_class2$m.prototype,"_hueRatio",[property$q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_applyDecoratedDescriptor(_class2$m.prototype,"hueRatio",[_dec7$9],Object.getOwnPropertyDescriptor(_class2$m.prototype,"hueRatio"),_class2$m.prototype),_descriptor6$8=_applyDecoratedDescriptor(_class2$m.prototype,"_darkness",[property$q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_applyDecoratedDescriptor(_class2$m.prototype,"darkness",[_dec8$7],Object.getOwnPropertyDescriptor(_class2$m.prototype,"darkness"),_class2$m.prototype),_class$x=_class2$m))||_class$x)||_class$x)||_class$x)||_class$x),_dec$y,_dec2$n,_dec3$n,_class$y,_class2$n,_descriptor$o,_descriptor2$j;cclegacy._RF.pop(),cclegacy._RF.push({},"0f308uDCYFH2Jo0ORTmZUIN","PixelSpriteExample",void 0);var ccclass$q=_decorator.ccclass,property$r=_decorator.property,PixelSpriteExample=(_dec$y=ccclass$q("PixelSpriteExample"),_dec2$n=property$r(PixelSprite),_dec3$n=property$r(Color),_dec$y((_class2$n=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"pixelSprite",_descriptor$o,_assertThisInitialized(t)),_initializerDefineProperty(t,"colorArray",_descriptor2$j,_assertThisInitialized(t)),t}_inheritsLoose(t,e);var r=t.prototype;return r.start=function(){var e=this;this.scheduleOnce((function(){e.demoPixelGrid()}),1)},r.demoPixelGrid=function(){if(this.pixelSprite){var e=this.pixelSprite._texture.width,t=this.pixelSprite._texture.height;console.log("实际纹理尺寸:",e,"x",t);for(var r=[],i=0;i<t;i++){r[i]=[];for(var o=0;o<e;o++){var n=Math.floor(Math.random()*this.colorArray.length);r[i][o]=this.colorArray[n]}}console.log("开始绘制网格，原始尺寸:",e,"x",t),console.log("网格颜色数组大小:",r.length,"x",r[0].length),this.pixelSprite.drawPixelGrid(10,new Color(128,128,255,255),r,!0)}},r.demoGridInteraction=function(){if(this.pixelSprite)for(var e=0;e<5;e++){var t=Math.floor(10*Math.random()),r=Math.floor(10*Math.random()),i=new Color(255*Math.random(),255*Math.random(),255*Math.random(),255);this.pixelSprite.setGridBlockColor(t,r,i,10,!0)}},r.demoRandomColors=function(){if(this.pixelSprite){var e=[],t=this.pixelSprite._texture.width,r=this.pixelSprite._texture.height,i=[];ColorHelper.buildColorArray(this.colorArray,i);for(var o=Math.floor(Math.random()*this.colorArray.length),n=0;n<r;n++){e[n]=[];for(var s=0;s<t;s++)e[n][s]=i[o][Math.floor(Math.random()*i[o].length)]}this.pixelSprite.updateData(e,0,0,!0,!0)}},r.demoPixelOperations=function(){if(this.pixelSprite){this.pixelSprite.setPixel(5,5,new Color(255,0,0,255),!0);var e=this.pixelSprite.getPixel(5,5);console.log("获取到的像素颜色:",e)}},r.demoGradient=function(){if(this.pixelSprite){var e=[],t=this.pixelSprite._texture.width,r=this.pixelSprite._texture.height;ColorHelper.buildColorArray(this.colorArray,[]);for(var i=0;i<r;i++){e[i]=[];for(var o=0;o<t;o++){var n=Math.floor(o/t*255),s=Math.floor(i/r*255);e[i][o]=new Color(n,0,s,255)}}this.pixelSprite.updateData(e,0,0,!0,!0)}},r.demoAnimation=function(){var e=this;if(this.pixelSprite){var t=0;this.schedule((function(){for(var r=[],i=e.pixelSprite._texture.width,o=e.pixelSprite._texture.height,n=0;n<o;n++){r[n]=[];for(var s=0;s<i;s++){var a=.5*Math.sin(.3*(n+s+t))+.5,c=Math.floor(255*a),l=Math.floor(255*(1-a)),u=Math.floor(127*Math.sin(.1*t)+128);r[n][s]=new Color(c,l,u,255)}}e.pixelSprite.updateData(r,0,0,!0,!0),t++}),.1)}},t}(Component),_descriptor$o=_applyDecoratedDescriptor(_class2$n.prototype,"pixelSprite",[_dec2$n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2$j=_applyDecoratedDescriptor(_class2$n.prototype,"colorArray",[_dec3$n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_class$y=_class2$n))||_class$y),_dec$z,_dec2$o,_dec3$o,_dec4$j,_dec5$i,_class$z,_class2$o,_descriptor$p,_descriptor2$k,_descriptor3$i,_descriptor4$f;cclegacy._RF.pop(),cclegacy._RF.push({},"17cb4Dgs6pPQ5U26wbGg5+R","Start",void 0);var ccclass$r=_decorator.ccclass,property$s=_decorator.property,GameEntry=(_dec$z=ccclass$r("GameEntry"),_dec2$o=property$s(Node),_dec3$o=property$s(Node),_dec4$j=property$s(PixelSpriteWord),_dec5$i=property$s(PixelSpriteProgress),_dec$z((_class2$o=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,_initializerDefineProperty(t,"GM",_descriptor$p,_assertThisInitialized(t)),_initializerDefineProperty(t,"loading",_descriptor2$k,_assertThisInitialized(t)),_initializerDefineProperty(t,"labeLoading",_descriptor3$i,_assertThisInitialized(t)),_initializerDefineProperty(t,"progressBar",_descriptor4$f,_assertThisInitialized(t)),t._loginRetryCount=3,t}_inheritsLoose(t,e);var r=t.prototype;return r.getConfig=function(){return{debug:DEBUG,hideStats:!0,showGM:DEBUG}},r.onInit=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:debug("GameEntry onInit"),AdManager.Ins().loadRewardedAd(AD_CONFIG.adUnitIds.rewardedVideo),GlobalEvent.setDebugMode(GX_DEBUG),UserPreferences.load(),AudioMgr.Ins().musicVolume=UserPreferences.musicVolume,AudioMgr.Ins().soundVolume=UserPreferences.soundVolume,UIMgr.getInstance().setUp(this.node),(t=sys.localStorage.getItem("GAME::UNIQUE_DEVICE_ID"))||(t=Device.GetUUID()),t&&""!=t||(r=PlatformType[Platform.platform]+"_"+Date.now()+"_"+Math.random().toString(36).slice(2,10),t=md5(r),sys.localStorage.setItem("GAME::UNIQUE_DEVICE_ID",t)),Platform.deviceId=t,UserData.load(),""==UserData.uid&&(UserData.uid=Platform.deviceId,UserData.save(!1)),this.checkUpgrade();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.startLoading=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading.active=!0,this.labeLoading.string="Loading...",e.next=4,new Promise((function(e){var r=0,i=GlobalTimer.startTimer((function(){r+=.1;var o=Math.min(1,r/.5);t.progressBar.progress=.5*o,r>=.5&&(GlobalTimer.stopTimer(i),e())}),.1,5)}));case 4:return this.labeLoading.string="Loading config file...",e.next=7,this.loadConfig((function(e){t.progressBar.progress=.5+e/2}));case 7:this.progressBar.progress=1,this.labeLoading.string="Login in...",this.loginIn();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.loadConfig=function(e){return debug("GameEntry loadConfig"),new Promise((function(t,r){var i=["award","level","item","shape"];i.forEach((function(r,o){ResLoader.loadRes("config/"+r,JsonAsset).then((function(n){ConfigLoader.loadConfig(r,n),e(o+1/i.length),o==i.length-1&&t()})).catch((function(e){error("load config error",e)}))}))}))},r.loginIn=function(){var e=this;(new ReqUserInfo).start(UserData.uid).then((function(){e.onLoginSuccess()})).catch((function(t){e._loginRetryCount--,e._loginRetryCount<=0?UIAlert.show("Login failed:"+t,!1).onClick((function(t){setTimeout(e.loginIn.bind(e),500)})).setTitle("Tips"):e.loginIn()}))},r.onLoginSuccess=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return debug("GameEntry loginSuccess"),this.loading.active=!1,this.GM.active=this.getConfig().showGM,e.next=5,ResLoader.loadRes("scene/HomeScene",SceneAsset);case 5:t=e.sent,director.runSceneImmediate(t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.checkUpgrade=function(){var e=this;if(Platform.isNative&&Platform.isIOS){var t="6752853333",r="https://itunes.apple.com/lookup?id="+t;debug("checkUpgrade:url",r),HttpManager.get(r,SafeJSON.stringify({}),"json",{onCompete:function(r){debug("checkUpgrade:onCompete",r);var i=r.data;if(i.results&&0!=i.results.length){var o=i.results[0].version,n=i.results[0].releaseNotes;Utils.compareVersion(o,Device.GetAppVersion())>0&&UIAlert.show(n||"New version available",!0).onClick((function(r){r&&sys.openURL("https://apps.apple.com/app/id"+t),e.startLoading()})).setTitle("Tips"),debug(i)}else e.startLoading()},onError:function(t){debug("checkUpgrade:error",t),e.startLoading()}})}else this.startLoading()},t}(CocosEntry),_descriptor$p=_applyDecoratedDescriptor(_class2$o.prototype,"GM",[_dec2$o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor2$k=_applyDecoratedDescriptor(_class2$o.prototype,"loading",[_dec3$o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor3$i=_applyDecoratedDescriptor(_class2$o.prototype,"labeLoading",[_dec4$j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_descriptor4$f=_applyDecoratedDescriptor(_class2$o.prototype,"progressBar",[_dec5$i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_class$z=_class2$o))||_class$z);cclegacy._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///main.js'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});